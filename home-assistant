kiosk_mode:
  non_admin_settings:
    kiosk: true
    ignore_entity_settings: true
  entity_settings:
    - entity:
        input_boolean.kiosk_mode: 'on'
      hide_header: true
    - entity:
        input_boolean.kiosk_mode: 'off'
      hide_header: false
swipe_nav:
  wrap: false
  animate: swipe
  prevent_default: true
  animate_duration: 100
background-image: center / cover no-repeat url("/local/tmp/front.jpg") fixed
button_card_templates:
  chatgpt_questions:
    variables:
      var_entity: null
      var_script: null
    type: custom:button-card
    entity: '[[[ return variables.var_entity]]]'
    show_state: true
    show_name: false
    show_icon: false
    tap_action:
      action: perform-action
      perform_action: '[[[ return variables.var_script]]]'
    styles:
      card:
        - background-color: transparent
          height: 50px
          margin: 0px
          padding: 0px
      state:
        - justify-self: start
          font-weight: 400
          font-size: 20px
          color: rgba(255,255,255,0.3)
          margin: 0px
          padding: 0px
  channel_card:
    variables:
      var_entity: null
      var_image: null
      var_script: null
    type: custom:button-card
    entity: '[[[ return variables.var_entity]]]'
    tap_action:
      action: perform-action
      perform_action: '[[[ return variables.var_script]]]'
    show_icon: false
    show_entity_picture: false
    show_name: false
    styles:
      card:
        - border-radius: 10px
          margin: 0px 0px 0px 0px
          height: 70px
          background-image: '[[[ return variables.var_image]]]'
          background-size: cover
          background-position: center
          background-repeat: no-repeat
          align-content: end
          opacity: 1
  room_card:
    variables:
      var_name: null
      var_entity: null
      var_motion: null
      var_temp: null
      var_lights: null
      var_sensor: null
      var_occupancy: null
    type: custom:button-card
    entity: '[[[ return variables.var_occupancy]]]'
    name: '[[[ return variables.var_name]]]'
    tap_action:
      action: call-service
      service: '[[[ return variables.var_entity]]]'
    show_icon: false
    custom_fields:
      temp:
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: min-content
            grid-template-rows: min-content
            grid-template-areas: '"one two three"'
          cards:
            - view_layout:
                grid-area: three
              type: custom:button-card
              entity: '[[[ return variables.var_temp]]]'
              icon: mdi:motion-sensor
              show_name: false
              show_state: true
              show_icon: false
              state:
                - value: 15
                  operator: <
                  styles:
                    card:
                      - background: var(--label-badge-green)
                - value: 20
                  operator: <=
                  styles:
                    card:
                      - background: var(--label-badge-blue)
                - value: 25
                  operator: <=
                  styles:
                    card:
                      - background: var(--label-badge-red)
                - value: 30
                  operator: <=
                  styles:
                    card:
                      - background: '#a357d7'
                - value: 35
                  operator: <=
                  styles:
                    card:
                      - background: '#f7ce46'
                - value: Unavailable
                  styles:
                    card:
                      - background: transparent
                    icon:
                      - color: transparent
                    state:
                      - color: transparent
              styles:
                icon:
                  - width: 20px
                    color: white
                state:
                  - color: white
                    font-size: 12px
                card:
                  - height: 25px
                    width: 65px
                    background-color: rgba(0, 0, 0, 0.3); !important;
                    padding: 0px 0px 0px 0px
            - view_layout:
                grid-area: two
              type: custom:button-card
              entity: '[[[ return variables.var_motion]]]'
              icon: mdi:motion-sensor-off
              show_name: false
              show_state: false
              show_icon: true
              state:
                - value: 'on'
                  icon: mdi:motion-sensor
                  styles:
                    img_cell:
                      - background: rgba(0, 0, 0, 0.3); !important;
                    icon:
                      - color: rgba(255, 255, 255, 0.9); !important;
                - value: Unavailable
                  styles:
                    card:
                      - background: transparent
                    icon:
                      - color: transparent
                    state:
                      - color: transparent
              styles:
                icon:
                  - width: 12px
                    color: rgba(255, 255, 255, 0.3); !important;
                state:
                  - color: white
                    font-size: 12px
                card:
                  - height: 25px
                    width: 25px
                    background-color: rgba(0, 0, 0, 0.1); !important;
                    padding: 0px 0px 0px 0px
            - view_layout:
                grid-area: one
              type: custom:button-card
              entity: '[[[ return variables.var_sensor]]]'
              icon: mdi:lightbulb
              tap_action:
                action: call-service
                service: light.toggle
                target:
                  entity_id: '[[[ return variables.var_lights]]]'
              show_name: false
              show_state: true
              show_icon: true
              state:
                - value: '0'
                  icon: mdi:lightbulb
                  styles:
                    card:
                      - background-color: rgba(0, 0, 0, 0.1); !important;
                    icon:
                      - color: rgba(255, 255, 255, 0.3); !important;
                - value: Unavailable
                  styles:
                    card:
                      - background: transparent
                    icon:
                      - color: transparent
                    state:
                      - color: transparent
              styles:
                grid:
                  - grid-template-areas: '"i s"'
                icon:
                  - width: 12px
                    color: white
                    padding-left: 2px
                state:
                  - color: white
                    font-size: 12px
                    justify-self: start
                    padding-right: 5px
                card:
                  - height: 25px
                    width: 35px
                    background-color: '#ff9800'
                    padding: 0px 0px 0px 0px
                    margin-left: '-10px'
    state:
      - value: 'on'
        styles:
          card:
            - background-color: rgba(0, 0, 0, 0.3); !important;
              opacity: 1
    styles:
      grid:
        - grid-template-areas: '"n" "temp" '
          grid-template-columns: 1fr;
          grid-template-rows: min-content min-content
      card:
        - padding: 15px 20px 20px 20px
          height: 140px
          background-color: rgba(0, 0, 0, 0.3); !important;
          '-webkit-backdrop-filter': blur(10px); !important;
          align-content: end
          opacity: 0.5
      name:
        - font-size: 22px
          font-weight: bold
          justify-self: start
          align-self: start
          align-content: start
          padding-bottom: 35px
          padding-top: 5px
          color: white
      custom_fields:
        temp:
          - align-self: start
            justify-self: start
    card_mod:
      style: |
        ha-card {
        background-color: rgba(0, 0, 0, 0.3); !important;
        -webkit-backdrop-filter: blur(10px); !important;
        }
  entity_card:
    variables:
      var_name: null
      var_num: null
      var_icon: null
      var_entity: null
      var_color: null
    type: custom:button-card
    name: '[[[ return variables.var_name]]]'
    show_state: false
    show_icon: false
    entity: '[[[ return variables.var_entity]]]'
    custom_fields:
      num: |
        [[[ 
          if (entity.state === 'on') {
            return Math.round(entity.attributes.brightness / 2.55) + "%";
          } else {
            return "Off";
          }
        ]]]
      btn:
        card:
          type: custom:button-card
          icon: '[[[ return variables.var_icon]]]'
          show_name: false
          entity: '[[[ return variables.var_entity]]]'
          tap_action:
            action: toggle
          state:
            - value: 'on'
              styles:
                img_cell:
                  - background: '[[[ return variables.var_color]]]'
                icon:
                  - color: white
          styles:
            grid:
              - grid-template-areas: '"i n n" "i s s"'
                grid-template-columns: 50px 1fr 40px;
            icon:
              - width: 25px
                color: '[[[ return variables.var_color]]]'
                border: 10px
            img_cell:
              - justify-self: start
                background: rgba(0,0,0,0.3)
                border-radius: 50px
                width: 38px
                height: 38px
            card:
              - padding: 10px 10px 10px 12px
                width: 65px
                height: 66px
                border-radius: 0px
                background: rgba(0,0,0,0)
    tap_action:
      action: more-info
    state:
      - value: 'on'
        styles:
          card:
            - background: white
              color: white
              border: 0
          icon:
            - color: white
          img_cell:
            - background: '[[[ return variables.var_color]]]'
          name:
            - color: black
          state:
            - color: rgba(0,0,0,0.5)
          custom_fields:
            num:
              - color: rgba(0,0,0,0.5)
    styles:
      grid:
        - grid-template-areas: '"btn n" "btn num"'
          grid-template-columns: min-content 1fr;
      name:
        - justify-self: start
          font-size: 14px
          font-weight: 550
          padding-top: 15px
      state:
        - justify-self: start
          padding-top: 2.5px
          font-size: 13px
          font-weight: 400
          opacity: '0.8'
      custom_fields:
        num:
          - color: rgba(255,255,255,0.5)
            justify-self: start
            align-self: start
            font-size: 14px
            padding-bottom: 15px
            font-weight: 400
      card:
        - padding: 0px 0px 0px 2px
          border-radius: 20px
          background-color: rgba(0, 0, 0, 0.3); !important;
          '-webkit-backdrop-filter': blur(10px); !important;
  update_cards:
    variables:
      var_name: null
      var_label: null
      var_icon: null
      var_entity: null
      var_last_changed: null
      var_color-on: null
      var-color-off: null
    type: custom:button-card
    name: '[[[ return variables.var_name]]]'
    label: '[[[ return variables.var_label]]]'
    icon: '[[[ return variables.var_icon]]]'
    entity: '[[[ return variables.var_entity]]]'
    show_state: false
    show_icon: true
    show_name: true
    show_label: true
    state:
      - value: 'off'
        styles:
          img_cell:
            - background-color: '[[[ return variables.var_color_off]]]'
    tap_action:
      action: more-info
    double_tap_action:
      action: more-info
    hold_action:
      action: more-info
    styles:
      grid:
        - grid-template-areas: '"i n btn" "i l btn"'
        - grid-template-columns: min-content 1fr min-content
      card:
        - background: rgba(0,0,0,0.3)
        - height: 66px
        - border-radius: 20px
        - padding: 0px 0px 0px 0px
        - '-webkit-backdrop-filter': blur(10px); !important;
      name:
        - justify-self: start
        - font-size: 15px
        - font-weight: 600
        - color: var(--primary-text-color)
        - padding-top: 15px
      label:
        - justify-self: start
        - align-self: start
        - font-size: 13px
        - font-weight: 400
        - color: rgba(255,255,255,0.3)
        - padding-bottom: 15px
      icon:
        - justify-self: start
        - align-self: center
        - width: 22px
        - color: var(--primary-text-color)
      img_cell:
        - width: 35px
        - height: 35px
        - border-radius: 10px
        - background-color: '[[[ return variables.var_color_on]]]'
        - margin-right: 15px
        - margin-left: 15px
    custom_fields:
      btn:
        card:
          type: custom:button-card
          name: '[[[ return variables.var_last_changed]]]'
          show_name: true
          show_icon: false
          styles:
            grid:
              - grid-template-areas: '"chips"'
            name:
              - font-size: 10px
              - color: rgba(255,255,255,0.3)
              - align-content: start
              - font-weight: 600
            card:
              - background: transparent
              - align-self: end
              - justify-self: end
              - width: 50px
              - height: 20px
              - margin-right: 15px
              - border-radius: 0px
              - margin-top: '-20px'
  lights_headers:
    variables:
      var_name: Name
      var_light: Light
      var_motion: Motion
    type: custom:button-card
    name: '[[[ return variables.var_name]]]'
    entity: '[[[ return variables.var_light]]]'
    tap_action:
      action: more-info
    show_state: false
    show_icon: false
    show_name: true
    custom_fields:
      btn:
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: min-content
            grid-template-rows: min-content
            grid-template-areas: '"one two"'
          cards:
            - view_layout:
                grid-area: one
              type: custom:button-card
              icon: mdi:motion-sensor
              entity: '[[[ return variables.var_motion]]]'
              tap_action:
                action: more-info
              show_state: false
              show_name: false
              state:
                - value: 'off'
                  styles:
                    icon:
                      - color: rgba(255,255,255,0.3)
                    card:
                      - background-color: rgba(0,0,0,0.1)
                - value: Unavailable
                  styles:
                    icon:
                      - color: transparent
                    card:
                      - background-color: transparent
              styles:
                grid:
                  - grid-template-areas: '"i"'
                card:
                  - background: rgba(0,0,0,0.3)
                  - border-radius: 100px
                  - height: 30px
                  - margin-top: 5px
                  - justify-content: end
                  - align-content: end
                img_cell:
                  - width: 28px
                  - height: 30px
                icon:
                  - width: 15px
                  - height: 15px
                  - color: rgba(255,255,255,0.9)
                  - padding-bottom: 4px
            - view_layout:
                grid-area: two
              type: custom:button-card
              icon: mdi:power
              entity: '[[[ return variables.var_light]]]'
              tap_action:
                action: toggle
              show_state: false
              show_name: false
              state:
                - value: 'off'
                  styles:
                    icon:
                      - color: rgba(255,255,255,0.3)
                    card:
                      - background-color: rgba(0,0,0,0.1)
                - value: Unavailable
                  styles:
                    icon:
                      - color: transparent
                    card:
                      - background-color: transparent
              styles:
                grid:
                  - grid-template-areas: '"i"'
                card:
                  - background: rgba(0,0,0,0.3)
                  - border-radius: 100px
                  - height: 30px
                  - margin-top: 5px
                  - justify-content: end
                  - align-content: end
                img_cell:
                  - width: 28px
                  - height: 30px
                icon:
                  - width: 18px
                  - height: 18px
                  - color: rgba(255,255,255,0.9)
                  - padding-bottom: 4px
    styles:
      grid:
        - grid-template-areas: '"n btn"'
        - grid-template-columns: auto min-content
        - grid-template-rows: min-content
        - align-items: center
      card:
        - background: transparent
        - padding: 20px 0px 0px 0px
        - border-radius: 0px
        - border: solid transparent
      name:
        - justify-self: start
        - align-self: center
        - font-size: 18px
        - font-weight: 500
        - color: rgba(255,255,255,1)
        - font-weight: bold
        - margin-top: 5px
      img_cell:
        - width: 30px
  toggle_switch:
    variables:
      var_entity: Entity
      var_name: Name
      var_icon: Icon
      var_color: Colour
    type: custom:button-card
    name: '[[[ return variables.var_name]]]'
    icon: '[[[ return variables.var_icon]]]'
    entity: '[[[ return variables.var_entity]]]'
    show_state: false
    show_icon: true
    show_name: true
    state:
      - value: 'off'
        styles:
          img_cell:
            - background-color: rgba(255,255,255,0.3)
    tap_action:
      action: toggle
    double_tap_action:
      action: more-info
    hold_action:
      action: more-info
    styles:
      grid:
        - grid-template-areas: '"i n btn"'
        - grid-template-columns: min-content 1fr min-content
        - grid-template-rows: min-content
        - align-items: center
      card:
        - background: transparent
        - height: 34px
        - padding: 0px 0px 10px 10px
        - border-radius: 10px
      custom_fields:
        btn:
          - justify-content: end
          - align-self: center
      name:
        - justify-self: start
        - align-self: center
        - font-size: 15px
        - font-weight: 500
        - color: var(--primary-text-color)
        - font-weight: regular
        - margin-top: '-8px'
      icon:
        - justify-self: start
        - align-self: center
        - width: 20px
        - color: var(--primary-text-color)
      img_cell:
        - width: 30px
        - height: 30px
        - border-radius: 5px
        - background-color: '[[[ return variables.var_color]]]'
        - margin-right: 15px
        - margin-top: '-8px'
    custom_fields:
      btn:
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: min-content
            grid-template-rows: min-content
            grid-template-areas: '"one"'
          cards:
            - type: custom:button-card
              entity: '[[[ return variables.var_entity]]]'
              show_name: false
              state:
                - value: 'off'
                  styles:
                    card:
                      - background: rgba(255,255,255,0.3)
              styles:
                grid:
                  - grid-template-areas: '"chips"'
                card:
                  - background: var(--label-badge-green)
                  - align-self: end
                  - justify-self: end
                  - height: 32px
                  - width: 55px
                  - padding: 0px
                  - margin: '-8px 0px 0px 0px'
              custom_fields:
                chips:
                  card:
                    type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        show_state: false
                        show_icon: false
                        show_name: false
                        entity: '[[[ return variables.var_entity]]]'
                        tap_action:
                          action: toggle
                        state:
                          - value: 'on'
                            styles:
                              card:
                                - background: transparent
                        styles:
                          grid:
                            - grid-template-areas: '"n n"'
                              grid-template-columns: 5px
                          card:
                            - background: white
                            - height: 28px
                            - border-radius: 50px
                            - width: 28px
                            - margin: 0px 0px 0px 1px
                            - filter: drop-shadow(rgba(0,0,0,0.3) 0.0rem 0.0rem 2px)
                      - type: custom:button-card
                        show_state: false
                        show_icon: false
                        show_name: false
                        entity: '[[[ return variables.var_entity]]]'
                        tap_action:
                          action: toggle
                        state:
                          - value: 'off'
                            styles:
                              card:
                                - background: transparent
                        styles:
                          grid:
                            - grid-template-areas: '"n n"'
                              grid-template-columns: 5px
                          card:
                            - background: white
                            - height: 28px
                            - border-radius: 50px
                            - width: 28px
                            - margin: 0px 0px 0px -13px
                            - filter: drop-shadow(rgba(0,0,0,0.3) 0.0rem 0.0rem 2px)
  room_header:
    variables:
      var_name: name
    type: custom:button-card
    name: '[[[ return variables.var_name]]]'
    styles:
      grid:
        - grid-template-areas: '"n"'
      card:
        - background: transparent
        - height: 50px
        - border-radius: 0px
        - margin-top: 60px
        - margin-bottom: 0px
      name:
        - justify-self: start
        - font-size: 30px
        - font-weight: 500
        - color: var(--primary-text-color)
        - font-weight: bold
        - filter: drop-shadow(rgba(0,0,0,0.5) 0.1rem 0.1rem 1.5px)
    show_state: false
    show_name: true
    show_icon: false
  first_subheading:
    variables:
      var_device: device
    type: custom:button-card
    name: '[[[ return variables.var_device]]]'
    styles:
      grid:
        - grid-template-areas: '"n"'
      card:
        - background: transparent
        - height: 40px
        - border-radius: 0px
        - margin-top: 20px
        - margin-bottom: 0px
      name:
        - justify-self: start
        - font-size: 18px
        - font-weight: 500
        - color: var(--primary-text-color)
        - font-weight: bold
    show_state: false
    show_name: true
    show_icon: false
    layout_options:
      grid_columns: 4
      grid_rows: 1.2
  lights_bubble:
    variables:
      var_entity: entity
      var_icon: icon
    type: custom:button-card
    icon: mdi:lightbulb-on
    entity: '[[[ return variables.var_entity]]]'
    show_name: false
    show_label: true
    state:
      - value: 'on'
        icon: mdi:lightbulb-on
        styles:
          card: null
          icon:
            - color: gold
          label:
            - color: rgba(255,255,255,1)
    styles:
      card:
        - border-radius: 100px
          width: 60px
          height: 60px
          background-color: rgba(255, 255, 255, 0.1)
          margin-top: 8px
          margin-left: 4px
      icon:
        - width: 19px
          padding-top: 2px
          color: rgba(255,255,255,0.5)
      label:
        - padding-bottom: 10px
          font-size: 10px
          font-weight: bold
          color: rgba(255,255,255,0.5)
          letter-spacing: '-.4px'
          '-webkit-backdrop-filter': blur(10px); !important;
    card_mod: null
    style: |
      ha-card {
      -webkit-backdrop-filter: blur(10px); !important;
      }
  motion_bubble:
    variables:
      var_entity: entity
      var_icon_on: icon
      var_icon_off: icon
    type: custom:button-card
    icon: '[[[ return variables.var_icon_off]]]'
    entity: '[[[ return variables.var_entity]]]'
    show_name: false
    show_label: true
    state:
      - value: 'on'
        icon: '[[[ return variables.var_icon_on]]]'
        styles:
          card: null
          icon:
            - color: rgba(255,255,255,1)
          label:
            - color: rgba(255,255,255,1)
    styles:
      card:
        - border-radius: 100px
          width: 60px
          height: 60px
          background-color: rgba(255, 255, 255, 0.1)
          margin-top: 8px
          margin-left: 4px
      icon:
        - width: 19px
          padding-top: 2px
          color: rgba(255,255,255,0.5)
      label:
        - padding-bottom: 10px
          font-size: 10px
          font-weight: bold
          color: rgba(255,255,255,0.5)
          letter-spacing: '-.4px'
          '-webkit-backdrop-filter': blur(10px); !important;
    card_mod: null
    style: |
      ha-card {
      -webkit-backdrop-filter: blur(10px); !important;
      }
  sub_headings:
    variables:
      var_name: name
    type: custom:button-card
    name: '[[[ return variables.var_name]]]'
    styles:
      grid:
        - grid-template-areas: '"n"'
      card:
        - background: transparent
        - height: 40px
        - border-radius: 0px
        - margin-top: 20px
      name:
        - justify-self: start
        - font-size: 18px
        - font-weight: 500
        - color: var(--primary-text-color)
        - font-weight: bold
        - margin-bottom: '-15px'
    show_state: false
    show_name: true
    show_icon: false
  HomeKit_tall:
    variables:
      var_name: Name
      var_entity_toggle: sensor.entity
      var_entity_temp: sensor.temp
      var_entity_script: script.entity
      var_label: Label
      var_icon: Icon
      var_icon_color: Color
    type: custom:button-card
    name: '[[[ return variables.var_name]]]'
    show_state: false
    show_icon: false
    entity: '[[[ return variables.var_entity_toggle]]]'
    custom_fields:
      num: ''
      btn: ''
    tap_action:
      action: more-info
    state:
      - value: 'on'
        styles:
          card:
            - background: white
              border: 0
          icon:
            - color: white
          img_cell:
            - background: '[[[ return variables.var_icon_color]]]'
          name:
            - color: black
          state:
            - color: rgba(0,0,0,0.5)
          custom_fields:
            watt:
              - opacity: 0.8
    styles:
      grid:
        - grid-template-areas: '"btn" "n" "num"'
          grid-template-columns: 1fr;
          grid-template-rows: min-content min-content min-content;
      name:
        - justify-self: start
          font-size: 14px
          font-weight: 550
          padding-top: 40px
          padding-bottom: 5px
      state:
        - justify-self: start
          font-size: 14px
          font-weight: 400
          opacity: '0.8'
      custom_fields:
        num:
          - color: rgba(0,0,0,0.5)
            justify-self: start
            align-self: start
            font-size: 14px
            font-weight: 400
            opacity: 1
      card:
        - padding: 13px 15px 15px 15px
          border-radius: 20px
          height: 140px
    layout_options:
      grid_columns: 2
      grid_rows: 2.3
  apple_scene:
    variables:
      var_name: null
      var_scene: null
      var_icon: null
      var_icon_color: null
      var_card_width: null
    type: custom:button-card
    entity: '[[[ return variables.var_scene ]]]'
    name: '[[[ return variables.var_name ]]]'
    icon: '[[[ return variables.var_icon ]]]'
    tap_action:
      action: toggle
    hold_action:
      action: more-info
    styles:
      grid:
        - grid-template-areas: '"i n"'
        - grid-template-columns: min-content min-content 40px;
      card:
        - background-color: rgba(0, 0, 0, 0.3); !important;
        - justify-self: center
        - justify-content: center
        - align-self: center
        - border-radius: 20px
        - width: 120px
        - height: 66px
        - padding-left: 10px
        - padding-top: 8px
      name:
        - justify-self: start
          align-self: center
          padding-bottom: 2px
          font-size: 14px
          font-weight: 600
          color: var(--primary-text-color)
      img_cell:
        - width: 40px
        - background: transparent
        - border-radius: 100%
        - justify-content: center
        - padding-right: 5px
        - margin-left: '-5px'
      icon:
        - width: 22px
        - color: '[[[ return variables.var_icon_color ]]]'
    show_state: false
    show_icon: true
    show_name: true
  apple_card:
    variables:
      var_name: Name
      var_entity: input_boolean.other_dash
      var_lights: light.patio_lights
      var_sensor: sensor.sensor
      var_dash: input_boolean.dash
      var_temp: sensor.temp
      var_input: input.boolean
      var_media: media.player
      var_motion: motion
    type: custom:button-card
    name: '[[[ return variables.var_name ]]]'
    entity: '[[[ return variables.var_entity ]]]'
    custom_fields:
      btn:
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: max-content max-content max-content
            grid-template-rows: min-content
            grid-template-areas: '"one two three"'
          cards:
            - view_layout:
                grid-area: one
              type: custom:button-card
              tap_action:
                action: more-info
              entity: '[[[ return variables.var_temp ]]]'
              show_name: false
              show_state: true
              show_icon: false
              state:
                - value: 15
                  operator: <
                  styles:
                    card:
                      - background: var(--label-badge-green)
                - value: 20
                  operator: <=
                  styles:
                    card:
                      - background: '#5ac8fa'
                - value: 25
                  operator: <=
                  styles:
                    card:
                      - background: var(--accent-color)
                - value: 30
                  operator: <=
                  styles:
                    card:
                      - background: '#4b0082'
                - value: 35
                  operator: <=
                  styles:
                    card:
                      - background: var(--label-badge-red)
              styles:
                grid:
                  - grid-template-areas: '"s"'
                card:
                  - border-radius: 100px
                  - height: 25px
                  - margin-top: 11px
                  - background: transparent
                state:
                  - color: white
                  - font-size: 12px
                  - padding: 0px 10px 0px 10px
                  - justify-self: start
                  - justify-content: start
            - view_layout:
                grid-area: two
              type: custom:button-card
              icon: mdi:motion-sensor-off
              entity: '[[[ return variables.var_motion ]]]'
              tap_action:
                action: more-info
              show_state: false
              show_name: false
              state:
                - value: 'on'
                  icon: mdi:motion-sensor
                  styles:
                    card:
                      - background: var(--label-badge-red)
                      - animation: blink 2s ease infinite
                    icon:
                      - color: white
                - value: unavailable
                  show_icon: false
                  styles:
                    card:
                      - background: transparent
                    icon:
                      - color: transparent
              styles:
                grid:
                  - grid-template-areas: '"i"'
                card:
                  - background: var(--divider-color)
                  - border-radius: 100px
                  - height: 25px
                  - margin-top: 11px
                state:
                  - color: white
                  - font-size: 12px
                  - padding-right: 8px
                  - justify-self: start
                  - justify-content: start
                img_cell:
                  - width: 25px
                  - height: 20px
                  - border-radius: 100%
                  - justify-content: center
                icon:
                  - width: 10px
                  - height: 10px
                  - color: var(--primary-text-color)
            - view_layout:
                grid-area: three
              type: custom:button-card
              icon: mdi:lightbulb
              tap_action:
                action: call-service
                service: light.toggle
                target:
                  entity_id: '[[[ return variables.var_lights ]]]'
              entity: '[[[ return variables.var_sensor ]]]'
              show_name: false
              show_state: true
              state:
                - value: '0'
                  icon: mdi:lightbulb-off
                  styles:
                    card:
                      - background: var(--divider-color)
                    icon:
                      - color: var(--primary-text-color)
                    state:
                      - color: var(--primary-text-color)
                  show_state: false
              styles:
                grid:
                  - grid-template-areas: '"i s"'
                card:
                  - background: '#ff9800'
                  - border-radius: 100px
                  - height: 25px
                  - margin-top: 11px
                state:
                  - color: white
                  - font-size: 12px
                  - padding-right: 8px
                  - justify-self: start
                  - justify-content: start
                img_cell:
                  - width: 25px
                  - height: 20px
                  - border-radius: 100%
                  - justify-content: center
                icon:
                  - width: 10px
                  - height: 10px
                  - color: white
      num:
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: max-content max-content max-content
            grid-template-rows: min-content
            grid-template-areas: '"one"'
          cards:
            - view_layout:
                grid-area: one
              type: custom:button-card
              entity: '[[[ return variables.var_media ]]]'
              show_name: false
              show_icon: false
              show_state: true
              tap_action:
                action: call-service
                service: input_boolean.toggle
                target:
                  entity_id: '[[[ return variables.var_dash ]]]'
              state:
                - value: Unavailable
                  styles:
                    state:
                      - color: transparent
              styles:
                grid:
                  - grid-template-areas: '"s"'
                card:
                  - width: 137px
                  - background: transparent
                  - justify-self: start
                  - justify-content: start
                  - border-radius: 0px
                  - padding: 0px
                  - margin-left: '-7px'
                  - margin-top: '-4px'
                state:
                  - justify-self: start
                  - justify-content: start
                  - align-self: center
                  - font-size: 12px
                  - color: var(--primary-text-color)
                  - opacity: '0.5'
                  - padding-bottom: 10px
    styles:
      grid:
        - grid-template-areas: '"n btn" "num btn"'
        - grid-template-columns: 1fr
        - grid-template-rows: min-content min-content
      card:
        - background: transparent
        - justify-self: start
        - justify-content: start
        - align-self: center
        - height: 66px
        - padding: 0px 0px 0px 10px
        - border-radius: 20px
        - margin-top: '-5px'
      custom_fields:
        btn:
          - justify-content: end
          - align-self: start
        num:
          - justify-self: start
          - justify-content: start
          - align-self: center
          - font-size: 12px
          - color: var(--primary-text-color)
          - opacity: '0.8'
          - padding-bottom: 10px
      name:
        - justify-self: start
        - align-self: center
        - font-size: 25px
        - font-weight: 500
        - color: var(--primary-text-color)
        - font-weight: bold
        - padding-top: 18px
        - padding-left: 1px
    show_state: false
    show_icon: false
views:
  - title: Home View
    path: home-view
    cards: []
    type: sections
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Home
                icon: mdi:chevron-left
                show_state: false
                show_icon: false
                show_name: false
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/home-view
                custom_fields:
                  btn:
                    card:
                      type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: repeat(4, min-content)
                        grid-template-rows: min-content
                        grid-template-areas: '"zero one two three four"'
                      cards:
                        - view_layout:
                            grid-area: zero
                          type: custom:button-card
                          icon: mdi:car
                          tap_action:
                            action: navigate
                            navigation_path: '#santa-fe'
                          show_state: false
                          show_name: false
                          styles:
                            grid:
                              - grid-template-areas: '"i"'
                            card:
                              - background: transparent
                              - border-radius: 100px
                              - height: 30px
                              - margin-top: 5px
                              - border: 1px solid rgba(255,255,255,0.5)
                            state:
                              - color: white
                              - font-size: 12px
                              - padding-right: 8px
                            img_cell:
                              - width: 28px
                              - height: 30px
                            icon:
                              - width: 13px
                              - height: 13px
                              - color: rgba(255,255,255,0.5)
                              - padding-bottom: 4px
                        - view_layout:
                            grid-area: one
                          type: conditional
                          conditions:
                            - condition: state
                              entity: input_boolean.kiosk_mode
                              state: 'on'
                          card:
                            type: custom:button-card
                            icon: mdi:view-grid
                            tap_action:
                              action: navigate
                              navigation_path: /lovelace/rooms
                            show_state: false
                            show_name: false
                            styles:
                              grid:
                                - grid-template-areas: '"i"'
                              card:
                                - background: transparent
                                - border-radius: 100px
                                - height: 30px
                                - margin-top: 5px
                                - border: 1px solid rgba(255,255,255,0.5)
                              state:
                                - color: white
                                - font-size: 12px
                                - padding-right: 8px
                              img_cell:
                                - width: 28px
                                - height: 30px
                              icon:
                                - width: 13px
                                - height: 13px
                                - color: rgba(255,255,255,0.5)
                                - padding-bottom: 4px
                        - view_layout:
                            grid-area: two
                          type: conditional
                          conditions:
                            - condition: state
                              entity: input_boolean.kiosk_mode
                              state: 'on'
                          card:
                            type: custom:button-card
                            icon: mdi:lightbulb
                            tap_action:
                              action: navigate
                              navigation_path: /lovelace/lights
                            show_state: false
                            show_name: false
                            styles:
                              grid:
                                - grid-template-areas: '"i"'
                              card:
                                - background: transparent
                                - border-radius: 100px
                                - height: 30px
                                - margin-top: 5px
                                - border: 1px solid rgba(255,255,255,0.5)
                              state:
                                - color: white
                                - font-size: 12px
                                - padding-right: 8px
                              img_cell:
                                - width: 28px
                                - height: 30px
                              icon:
                                - width: 13px
                                - height: 13px
                                - color: rgba(255,255,255,0.5)
                                - padding-bottom: 4px
                        - view_layout:
                            grid-area: three
                          type: conditional
                          conditions:
                            - condition: state
                              entity: input_boolean.kiosk_mode
                              state: 'on'
                          card:
                            type: custom:button-card
                            icon: mdi:toggle-switch-off
                            tap_action:
                              action: navigate
                              navigation_path: /lovelace/input-booleans
                            show_state: false
                            show_name: false
                            styles:
                              grid:
                                - grid-template-areas: '"i"'
                              card:
                                - background: transparent
                                - border-radius: 100px
                                - height: 30px
                                - margin-top: 5px
                                - border: 1px solid rgba(255,255,255,0.5)
                              state:
                                - color: white
                                - font-size: 12px
                                - padding-right: 8px
                              img_cell:
                                - width: 28px
                                - height: 30px
                              icon:
                                - width: 13px
                                - height: 13px
                                - color: rgba(255,255,255,0.5)
                                - padding-bottom: 4px
                        - view_layout:
                            grid-area: four
                          type: custom:button-card
                          icon: mdi:menu
                          entity: input_boolean.kiosk_mode
                          tap_action:
                            action: toggle
                          show_state: false
                          show_name: false
                          styles:
                            grid:
                              - grid-template-areas: '"i"'
                            card:
                              - background: transparent
                              - border-radius: 100px
                              - height: 30px
                              - margin-top: 5px
                              - border: 1px solid rgba(255,255,255,0.5)
                            state:
                              - color: white
                              - font-size: 12px
                              - padding-right: 8px
                            img_cell:
                              - width: 28px
                              - height: 30px
                            icon:
                              - width: 13px
                              - height: 13px
                              - color: rgba(255,255,255,0.5)
                              - padding-bottom: 4px
                styles:
                  grid:
                    - grid-template-areas: '"i n btn"'
                    - grid-template-columns: min-content auto min-content
                    - grid-template-rows: min-content
                    - align-items: center
                  card:
                    - background: transparent
                    - height: 45px
                    - padding: 0px
                    - border-radius: 0px
                    - margin-top: '-20px'
                  custom_fields:
                    btn:
                      - justify-content: end
                      - align-self: center
                      - margin-right: 0px
                  img_cell:
                    - width: 30px
              - type: custom:button-card
                name: Home
                entity: sensor.update_header
                tap_action:
                  action: navigate
                  navigation_path: '#chat'
                custom_fields:
                  btn:
                    card:
                      type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: max-content
                        grid-template-rows: min-content
                        grid-template-areas: '"one two"'
                      cards:
                        - view_layout:
                            grid-area: one
                          type: custom:button-card
                          styles:
                            grid:
                              - grid-template-areas: '"chips" "chips"'
                            card:
                              - background: transparent
                                justify-content: end
                                align-content: end
                                align-self: end
                                height: 50px
                                width: 60px
                                padding: 0px
                                border-radius: 0px
                                margin-right: '-25px'
                          custom_fields:
                            chips:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    entity: person.alistair_merritt
                                    entity_picture: image-link-here
                                    show_entity_picture: true
                                    show_name: false
                                    show_state: false
                                    styles:
                                      card:
                                        - width: 35px
                                        - height: 35px
                                        - border-radius: 50%
                                        - overflow: hidden
                                        - padding: 0
                                        - border: none
                                      entity_picture:
                                        - width: 100%
                                        - height: 100%
                                        - margin: 0
                                  - type: custom:button-card
                                    icon: |
                                      [[[ 
                                        return states['sensor.alistair_location_icon'].state;
                                      ]]]
                                    show_name: false
                                    show_state: false
                                    show_icon: true
                                    styles:
                                      card:
                                        - width: 15px
                                        - height: 15px
                                        - border-radius: 50%
                                        - margin-left: '-18px'
                                        - border: none
                                      img_cell:
                                        - background-color: |
                                            [[[ 
                                              return states['sensor.alistair_location_colour'].state;
                                            ]]]
                                      icon:
                                        - width: 80%
                                        - align-self: center
                                        - justify-self: center
                                        - padding: 0px 0px 0px 0px
                        - view_layout:
                            grid-area: two
                          type: custom:button-card
                          styles:
                            grid:
                              - grid-template-areas: '"chips" "chips"'
                            card:
                              - background: transparent
                                justify-content: end
                                align-content: end
                                align-self: end
                                height: 50px
                                width: 60px
                                padding: 0px
                                border-radius: 0px
                                margin-right: '-26px'
                          custom_fields:
                            chips:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    entity: person.andreia
                                    entity_picture: image-link-here
                                    show_entity_picture: true
                                    show_name: false
                                    show_state: false
                                    styles:
                                      card:
                                        - width: 35px
                                        - height: 35px
                                        - border-radius: 50%
                                        - overflow: hidden
                                        - padding: 0
                                        - border: none
                                      entity_picture:
                                        - width: 100%
                                        - height: 100%
                                        - margin: 0
                                  - type: custom:button-card
                                    icon: |
                                      [[[ 
                                        return states['sensor.andreia_location_icon'].state;
                                      ]]]
                                    show_name: false
                                    show_state: false
                                    show_icon: true
                                    styles:
                                      card:
                                        - width: 15px
                                        - height: 15px
                                        - border-radius: 50%
                                        - margin-left: '-18px'
                                        - border: none
                                        - align-self: center
                                        - justify-self: center
                                        - padding: 0px 0px 0px 0px
                                      img_cell:
                                        - background-color: |
                                            [[[ 
                                              return states['sensor.andreia_location_colour'].state;
                                            ]]]
                                      icon:
                                        - width: 80%
                styles:
                  grid:
                    - grid-template-areas: '"n btn"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: min-content min-content
                  card:
                    - background: transparent
                    - justify-self: start
                    - justify-content: start
                    - align-self: center
                    - border-radius: 0px
                    - padding-bottom: 60px
                    - padding-left: 0px
                    - height: 60px
                  name:
                    - justify-self: start
                    - align-self: center
                    - font-size: 30px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - filter: drop-shadow(rgba(0,0,0,0.3) 0.0rem 0.0rem 2px)
                show_state: false
                show_name: true
                show_icon: false
          - type: vertical-stack
            cards:
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.geelong_racecourse_temp
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.geelong_racecourse_temp
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: navigate
                                  navigation_path: '#weather'
                              - entity: sensor.belmont_mdi_icon_0
                                name: OUT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5.6em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.geelong_racecourse_temp
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.geelong_racecourse_temp
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: navigate
                                  navigation_path: '#weather'
                              - entity: sensor.belmont_mdi_icon_0
                                name: OUT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5.6em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.geelong_racecourse_temp
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.geelong_racecourse_temp
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: navigate
                                  navigation_path: '#weather'
                              - entity: sensor.belmont_mdi_icon_0
                                name: OUT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5.6em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.geelong_racecourse_temp
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.geelong_racecourse_temp
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: navigate
                                  navigation_path: '#weather'
                              - entity: sensor.belmont_mdi_icon_0
                                name: OUT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5.6em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.average_house_temperature
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.average_house_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: IN
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5.6em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.average_house_temperature
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.average_house_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: IN
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5.6em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.average_house_temperature
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.average_house_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: IN
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5.6em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.average_house_temperature
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.average_house_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: IN
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5.6em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: sensor.all_lights
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/lights#lights-on
                    label: |
                      [[[ 
                        const state = states['sensor.all_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    state:
                      - value: '0'
                        icon: mdi:lightbulb-off
                        styles:
                          card: null
                          icon:
                            - color: rgba(255,255,255,0.5)
                          label:
                            - color: rgba(255,255,255,0.5)
                    styles:
                      icon:
                        - color: |
                            [[[
                            if (entity.state > 0)
                              return "gold";
                            ]]]
                      label:
                        - color: |
                            [[[
                            if (entity.state > 0)
                              return "white";
                            ]]]
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: input_boolean.house_occupancy
                      var_icon_on: mdi:home
                      var_icon_off: mdi:home-off
                    label: |
                      [[[ 
                        const occupancyState = states['input_boolean.house_occupancy'].state;
                        if (occupancyState === 'on') {
                          return 'Home';
                        } else {
                          return 'Away';
                        }
                      ]]]
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.sun
                      var_icon_on: mdi:weather-sunset-down
                      var_icon_off: mdi:weather-sunset-up
                    tap_action:
                      action: navigate
                      navigation_path: '#weather'
                    label: |
                      [[[ 
                        const sunState = states['binary_sensor.sun'].state;

                        function formatTime(date) {
                          let hours = date.getHours();
                          let minutes = date.getMinutes();
                          let ampm = hours >= 12 ? 'PM' : 'AM';
                          hours = hours % 12;
                          hours = hours ? hours : 12; // the hour '0' should be '12'
                          minutes = minutes < 10 ? '0' + minutes : minutes;
                          return `${hours}:${minutes} ${ampm}`;
                        }

                        if (sunState === 'on') {
                          const nextSetting = new Date(states['sun.sun'].attributes.next_setting);
                          return formatTime(nextSetting);
                        } else {
                          const nextRising = new Date(states['sun.sun'].attributes.next_rising);
                          return formatTime(nextRising);
                        }
                      ]]]
                    styles:
                      icon:
                        - color: (255,255,255,0.3)
                      label:
                        - color: (255,255,255,0.3)
                      card:
                        - margin-bottom: 10px
                    state:
                      - value: 'on'
                        styles:
                          icon:
                            - color: (255,255,255,0.3)
                          label:
                            - color: (255,255,255,0.3)
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
      - type: grid
        cards:
          - type: custom:button-card
            template: first_subheading
            variables:
              var_device: |
                [[[ 
                const currentHour = new Date().getHours();

                if (currentHour < 12) {
                  return "This morning";
                } else if (currentHour < 18) {
                  return "This afternoon";
                } else {
                  return "This evening";
                }
                ]]]
          - type: custom:button-card
            tap_action:
              action: navigate
              navigation_path: '#weather'
            styles:
              grid:
                - grid-template-areas: '"content"'
                - grid-template-columns: 1fr
                - grid-template-rows: 1fr
              card:
                - background-color: rgba(0, 0, 0, 0.3)
                  padding: 0px 10px 10px 10px
                  margin: 0px
                  align-content: center
                  justify-content: center
                  align-self: center
            show_state: false
            show_name: false
            show_icon: false
            custom_fields:
              content:
                card:
                  type: custom:layout-card
                  layout_type: custom:grid-layout
                  layout:
                    grid-template-columns: 2fr .5fr 1f
                    grid-template-rows: repeat(3, auto)
                    grid-template-areas: '"temp icon details"'
                  cards:
                    - view_layout:
                        grid-area: temp
                      type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#weather'
                      entity: weather.belmont_weather
                      show_state: false
                      show_name: true
                      show_icon: false
                      show_label: true
                      name: |
                        [[[ 
                          var text = states['sensor.belmont_short_text_0'].state;
                          return text.length > 47 ? text.substring(0, 47) + '...' : text;
                        ]]]
                      label: |
                        [[[ 
                          return states['sensor.geelong_racecourse_temp'].state + '';
                        ]]]
                      styles:
                        grid:
                          - grid-template-areas: '"l icon" "n icon"'
                            grid-template-columns: auto
                            grid-template-rows: auto auto
                            justify-items: start
                            align-items: start
                        card:
                          - padding: 0px
                            margin: 0px
                            background-color: transparent
                            border-radius: 0px
                            padding-top: 5px
                        label:
                          - font-size: 45px
                            font-weight: 600
                            color: rgba(255,255,255,1)
                            justify-self: start
                            align-self: start
                            padding: 0px
                            margin: 0px
                        name:
                          - font-size: 14px
                            font-weight: 600
                            color: rgba(255,255,255,0.5)
                            justify-self: start
                            align-self: start
                            padding: 0px
                            margin: 0px
                    - view_layout:
                        grid-area: icon
                      type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#weather'
                      show_name: false
                      show_state: false
                      show_entity_picture: true
                      entity_picture: |
                        [[[ 
                          return states['sensor.weather_icon_animated'].state;
                        ]]]
                      styles:
                        card:
                          - margin: 0px
                            width: flex
                            align-self: end
                            align-content: end
                            justify-self: end
                            justify-content: end
                            padding: 0px
                            background-color: transparent
                        img_cell:
                          - padding-top: 15px
                            margin: 0px
                        entity_picture:
                          - height: 60px
                            justify-self: center
                    - view_layout:
                        grid-area: details
                      type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#weather'
                      entity: sensor.belmont_rain_chance_0
                      icon: mdi:umbrella
                      name: |
                        [[[ 
                          return 'High ' + states['sensor.belmont_temp_max_0'].state + '';
                        ]]]
                      label: |
                        [[[ 
                          if (states['sensor.belmont_temp_min_0'].state === 'unknown') {
                            return 'Low ' + states['sensor.belmont_temp_min_1'].state + '';
                          } else {
                            return 'Low ' + states['sensor.belmont_temp_min_0'].state + '';
                          }            
                        ]]]
                      show_name: true
                      show_state: true
                      show_label: true
                      show_icon: true
                      styles:
                        grid:
                          - grid-template-areas: '"n n" "l l" "i s"'
                        card:
                          - margin: 0px
                            align-self: end
                            align-content: end
                            justify-self: end
                            justify-content: end
                            padding: 0px
                            background-color: transparent
                            margin-top: 10px
                            border-radius: 0px
                        name:
                          - justify-self: end
                            font-size: 15px
                            font-weight: 600
                            text-transform: uppercase
                        label:
                          - justify-self: end
                            font-size: 15px
                            font-weight: 600
                            text-transform: uppercase
                            color: rgba(255,255,255,0.5)
                            padding-bottom: 10px
                        state:
                          - justify-self: end
                            color: var(--label-badge-blue)
                            font-size: 13px
                        img_cell:
                          - padding: 0px
                            margin: 0px
                        icon:
                          - width: 16px
                            justify-self: end
                            margin-left: 20px
                            padding-right: 3px
                            padding-top: 0px
                            margin-top: '-2px'
                            color: var(--label-badge-blue)
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: vertical-stack
            cards:
              - type: custom:button-card
                template: update_cards
                variables:
                  var_name: |
                    [[[ 
                      if (states['input_boolean.arthur_asleep'].state === 'off') {
                        return states['sensor.awake_for'].state;
                      } else {
                        return `Arthur sleeping for ${states['sensor.current_nap_duration'].state}`;
                      }
                    ]]]
                  var_label: |
                    [[[
                      const napStart = states['input_text.most_recent_nap_end'].state;
                      const napEnd = states['sensor.current_nap_start'].state;

                      function parseTime(timeStr) {
                        const [hours, minutes] = timeStr.split(':').map(Number);
                        return new Date(1970, 0, 1, hours, minutes);
                      }

                      function calculateAwakeDuration(napStart, napEnd) {
                        if (napStart && napEnd) {
                          const start = parseTime(napStart);
                          const end = parseTime(napEnd);

                          let diffMs = end - start;
                          if (diffMs < 0) {
                            diffMs += 24 * 60 * 60 * 1000; // Add a day in milliseconds if end is before start (next day scenario)
                          }

                          const diffMins = Math.floor(diffMs / 60000);
                          const diffHours = Math.floor(diffMins / 60);
                          const remainingMins = diffMins % 60;

                          if (diffHours > 0) {
                            return `He was last awake for ${diffHours} hour${diffHours > 1 ? 's' : ''} ${remainingMins} minute${remainingMins > 1 ? 's' : ''}`;
                          } else {
                            return `He was last awake for ${diffMins} minute${diffMins > 1 ? 's' : ''}`;
                          }
                        } else {
                          return 'Time not set';
                        }
                      }

                      if (states['input_boolean.arthur_asleep'].state === 'off') {
                        return `His last sleep was ${states['sensor.last_nap_duration'].state} long`;
                      } else {
                        return calculateAwakeDuration(napStart, napEnd);
                      }
                    ]]]
                  var_icon: |
                    [[[ 
                      if (states['input_boolean.arthur_asleep'].state === 'off') {
                        return 'mdi:sleep-off';
                      } else {
                        return 'mdi:sleep';
                      }
                    ]]]
                  var_entity: input_boolean.arthur_asleep
                  var_last_changed: |
                    [[[ 
                      const lastChanged = new Date(states['input_boolean.arthur_asleep'].last_changed);
                      const now = new Date();
                      const diffInMs = now - lastChanged;
                      
                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);
                      
                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                  var_color_on: var(--label-badge-green)
                  var_color_off: var(--label-badge-blue)
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-arthur/
                ustyles:
                  icon:
                    - color: ''
                  var_color_on: |
                    [[[ 
                      if (states['input_boolean.arthur_asleep'].state === 'on') {
                        return 'var(--label-badge-green)';
                      } else {
                        return 'var(--label-badge-blue)';
                      }
                    ]]]
                card_mod:
                  style: |
                    ha-card {
                    background-color: rgba(0, 0, 0, 0.3); !important;
                    -webkit-backdrop-filter: blur(10px); !important;
                    }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.both_in_bed
                    state: 'on'
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: Alistair and Andreia are in bed
                    var_label: null
                    var_icon: mdi:bunk-bed
                    var_entity: binary_sensor.both_in_bed
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.both_in_bed'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: '#c05af3'
                  styles:
                    name:
                      - padding-top: 0px
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.both_in_bed
                    state: 'off'
                  - condition: state
                    entity: binary_sensor.andreia_bed_sensor_in_bed
                    state: 'on'
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: Andreia is in bed
                    var_label: null
                    var_icon: mdi:bed
                    var_entity: binary_sensor.andreia_bed_sensor_in_bed
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.andreia_bed_sensor_in_bed'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: '#c05af3'
                  styles:
                    name:
                      - padding-top: 0px
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: binary_sensor.both_in_bed
                    state: 'off'
                  - condition: state
                    entity: binary_sensor.alistair_bed_sensor_in_bed
                    state: 'on'
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: Alistair is in bed
                    var_label: null
                    var_icon: mdi:bed
                    var_entity: binary_sensor.alistair_bed_sensor_in_bed
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.alistair_bed_sensor_in_bed'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: '#c05af3'
                  styles:
                    name:
                      - padding-top: 0px
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.arthur_at_daycare
                    state: 'on'
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: |
                      [[[ 
                        return (new Date().getDay() === 3) ? 'Arthur is at Daycare' : 'Arthur is at Rosa & Americo\'s'; 
                      ]]]
                    var_label: null
                    var_icon: mdi:teddy-bear
                    var_entity: input_boolean.arthur_at_daycare
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.arthur_at_daycare'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: '#c05af3'
                  styles:
                    name:
                      - padding-top: 0px
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.andreia
                    state_not: home
                  - condition: state
                    entity: person.andreia
                    state_not: not_home
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: |
                      [[[ 
                        const state = states['person.andreia'].state;
                        if (state === 'not_home') {
                          return 'Andreia is away';
                        } else {
                          return `Andreia is at ${state}`;
                        }
                      ]]]
                    var_label: |
                      [[[ 
                        const lastChanged = new Date(states['person.andreia'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes} minutes ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours} hour ago`;
                        } else {
                          return `${diffInHours} hours ago`;
                        }
                      ]]]
                    var_entity: person.andreia
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['person.andreia'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: |
                      [[[ 
                        return states['sensor.andreia_location_colour'].state;
                      ]]]
                    var_icon: |
                      [[[ 
                        return states['sensor.andreia_location_icon'].state;
                      ]]]
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.andreia
                    state: not_home
                  - condition: state
                    entity: person.alistair_merritt
                    state: not_home
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: Alistair & Andreia are away
                    var_label: null
                    var_icon: mdi:home-off
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['person.andreia'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]     
                    var_color_on: rgba(255,255,255,0.3)
                  styles:
                    name:
                      - padding-top: 0px
                    icon:
                      - width: 20px
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: person.alistair_merritt
                    state_not: home
                  - condition: state
                    entity: person.alistair_merritt
                    state_not: not_home
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: |
                      [[[ 
                        const state = states['person.alistair_merritt'].state;
                        if (state === 'not_home') {
                          return 'Alistair is away';
                        } else {
                          return `Alistair is at ${state}`;
                        }
                      ]]]
                    var_label: |
                      [[[ 
                        const lastChanged = new Date(states['person.alistair_merritt'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes} minutes ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours} hour ago`;
                        } else {
                          return `${diffInHours} hours ago`;
                        }
                      ]]]
                    var_entity: person.alistair_merritt
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['person.alistair_merritt'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: |
                      [[[ 
                        return states['sensor.alistair_location_colour'].state;
                      ]]]
                    var_icon: |
                      [[[ 
                        return states['sensor.alistair_location_icon'].state;
                      ]]]
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: cover.smart_garage_door_opener_msg100_main_channel
                    state: open
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: |
                      Garage Door Open
                    var_label: |
                      [[[ 
                        const lastChanged = new Date(states['cover.smart_garage_door_opener_msg100_main_channel'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;
                        
                        const diffInSeconds = Math.floor(diffInMs / 1000);
                        const diffInMinutes = Math.floor(diffInSeconds / 60);
                        const diffInHours = Math.floor(diffInMinutes / 60);
                        
                        if (diffInSeconds < 60) {
                          return 'just now';
                        } else if (diffInMinutes < 60) {
                          return `${diffInMinutes} minutes ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours} hour ago`;
                        } else {
                          return `${diffInHours} hours ago`;
                        }
                      ]]]
                    var_icon: mdi:garage-alert
                    var_entity: cover.smart_garage_door_opener_msg100_main_channel
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['cover.smart_garage_door_opener_msg100_main_channel'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: var(--label-badge-red)
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.front_door_locked
                    state: 'off'
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: Front Door Unlocked
                    var_label: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.front_door_locked'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes} minutes ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours} hour ago`;
                        } else {
                          return `${diffInHours} hours ago`;
                        }
                      ]]]
                    var_icon: mdi:lock-alert
                    var_entity: input_boolean.front_door_locked
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.front_door_locked'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: var(--label-badge-red)
                    var_color_off: var(--label-badge-red)
                  tap_action:
                    action: perform-action
                    perform_action: script.lock_front_door
                  hold_action:
                    action: more-info
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.dishwasher_running
                    state: 'on'
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: |
                      [[[ 
                        return `Dishwasher has ${states['sensor.dishwasher_running_remaining'].state} remaining`;
                      ]]]
                    var_label: |
                      [[[ 
                        return `It's been running for ${states['sensor.dishwasher_running_for'].state}`;
                      ]]]
                    var_icon: mdi:dishwasher
                    var_entity: binary_sensor.dishwasher_in_use
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.dishwasher_in_use'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: var(--label-badge-red)
                    var_color_off: var(--label-badge-red)
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.washing_needs_taking_out
                    state: 'on'
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: |
                      Washing Machine is Finished
                    var_label: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.washing_needs_taking_out'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes} minutes ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours} hour ago`;
                        } else {
                          return `${diffInHours} hours ago`;
                        }
                      ]]]
                    var_icon: mdi:washing-machine-alert
                    var_entity: input_boolean.washing_needs_taking_out
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.washing_needs_taking_out'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: var(--label-badge-red)
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: todo.outlook_ha
                    state_not: '0'
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: |
                      [[[ 
                        return `Shopping List has ${states['todo.outlook_ha'].state} items outstanding`;
                      ]]]
                    var_label: null
                    var_icon: mdi:cart
                    var_entity: todo.outlook_ha
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['todo.outlook_ha'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: '#ff9800'
                  tap_action:
                    action: navigate
                    navigation_path: '#shopping'
                  styles:
                    name:
                      - padding-top: 0px
                    icon:
                      - width: 20px
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: numeric_state
                    entity: sensor.santa_fe_fuel_level
                    below: 10
                card:
                  type: custom:button-card
                  template: update_cards
                  variables:
                    var_name: |
                      Santa Fe Fuel Level Low
                    var_label: >
                      [[[ 

                      return states['sensor.santa_fe_total_driving_range'].state
                      + 'km Remaining';

                      ]]]
                    var_icon: mdi:gas-station
                    var_entity: binary_sensor.santa_fe_fuel_low_level
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.santa_fe_fuel_low_level'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]
                    var_color_on: var(--label-badge-red)
                    var_color_off: var(--label-badge-red)
                    tap_action:
                      action: navigate
                      navigation_path: '#santa-fe'
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
              - type: conditional
                conditions:
                  - condition: state
                    entity: vacuum.roborock_s7_maxv
                    state: cleaning
                card:
                  type: custom:button-card
                  entity: vacuum.roborock_s7_maxv
                  template: update_cards
                  variables:
                    var_name: Robot Vacuum Cleaning
                    var_label: null
                    var_icon: mdi:robot-vacuum
                    var_last_changed: |
                      [[[ 
                        const lastChanged = new Date(states['vacuum.roborock_s7_maxv'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInMinutes = Math.floor(diffInMs / (1000 * 60));
                        const diffInHours = Math.floor(diffInMinutes / 60);

                        if (diffInMinutes < 60) {
                          return `${diffInMinutes}m ago`;
                        } else if (diffInHours === 1) {
                          return `${diffInHours}hr ago`;
                        } else {
                          return `${diffInHours}hrs ago`;
                        }
                      ]]]     
                    var_color_on: '#68cf68'
                  tap_action:
                    action: more-info
                  styles:
                    name:
                      - padding-top: 0px
                    icon:
                      - width: 20px
                  card_mod:
                    style: |
                      ha-card {
                      background-color: rgba(0, 0, 0, 0.3); !important;
                      -webkit-backdrop-filter: blur(10px); !important;
                      }
      - type: grid
        cards:
          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.media_players_playing
                state: 'on'
            card:
              type: custom:button-card
              template: first_subheading
              variables:
                var_device: Now Playing
          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.media_players_playing
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: conditional
                  conditions:
                    - condition: state
                      entity: media_player.living_room_tv
                      state: 'on'
                  card:
                    type: custom:button-card
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/remote
                    show_icon: false
                    show_name: false
                    show_state: false
                    styles:
                      grid:
                        - grid-template-areas: '"content"'
                        - grid-template-columns: 1fr
                        - grid-template-rows: max-content
                      card:
                        - background-color: rgba(0,0,0,0.3)
                        - webkit-backdrop-filter: blur(10px); !important;}
                        - box-shadow: none
                        - border-radius: 20px
                        - border-width: 0px
                        - padding: 10px
                        - margin: 0px
                    custom_fields:
                      content:
                        card:
                          type: vertical-stack
                          cards:
                            - type: custom:button-card
                              entity: media_player.living_room_tv
                              show_entity_picture: true
                              entity_picture: >
                                [[[ return states['sensor.media_picture'].state;
                                ]]]
                              show_name: false
                              show_icon: false
                              custom_fields:
                                entity:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: navigate
                                      navigation_path: /lovelace/remote
                                    name: Living Room TV
                                    show_label: true
                                    show_icon: false
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - background: none
                                        - padding: 0px
                                        - border-radius: 0px
                                        - border-width: 0px
                                      name:
                                        - justify-self: start
                                        - padding-left: 15px
                                        - font-size: 13px
                                        - font-weight: 600
                                        - color: rgba(255,255,255,0.3)
                                title:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: navigate
                                      navigation_path: /lovelace/remote
                                    name: |
                                      [[[
                                         if (states['media_player.living_room_tv'].attributes.media_title != undefined) 
                                         return states['media_player.living_room_tv'].attributes.media_title;
                                      ]]]
                                    show_icon: false
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - background: none
                                        - padding: 0px
                                        - border-radius: 0px
                                        - border-width: 0px
                                      name:
                                        - justify-self: start
                                        - padding-left: 15px
                                        - padding-top: 5px
                                        - font-size: 20px
                                        - font-weight: 600
                                        - color: rgba(255,255,255,0.9)
                                artist:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: navigate
                                      navigation_path: /lovelace/remote
                                    name: |
                                      [[[
                                         if (states['media_player.living_room_tv'].attributes.media_channel != undefined) 
                                         return states['media_player.living_room_tv'].attributes.media_channel;
                                      ]]]
                                    show_label: true
                                    show_icon: false
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - background: none
                                        - padding: 0px
                                        - border-radius: 0px
                                        - border-width: 0px
                                      name:
                                        - justify-self: start
                                        - padding-left: 15px
                                        - font-size: 20px
                                        - font-weight: 400
                                        - color: rgba(255,255,255,0.3)
                              styles:
                                grid:
                                  - grid-template-areas: '"i entity" "i title" "i artist" "i album" '
                                  - grid-template-columns: max-content 1fr
                                  - grid-template-rows: max-content max-content max-content;
                                  - align-items: end
                                card:
                                  - background: none
                                  - box-shadow: none
                                  - border-radius: 0px
                                  - border-width: 0px
                                  - padding: 0px 0px 0 5px
                                  - margin: 5px 0 -10px 0
                                entity_picture:
                                  - align-self: start
                                  - justify-self: start
                                  - width: 70px
                                  - border-radius: 10px
                            - type: custom:my-slider-v2
                              entity: media_player.living_room_tv
                              mode: seekbar
                              min: 0
                              max: 100
                              styles:
                                card:
                                  - height: 20px
                                  - box-shadow: none
                                  - margin: 20px 0 0 0
                                  - background: none
                                container:
                                  - border-radius: 0px
                                  - background: none
                                  - padding: 0 0 0 5px
                                track:
                                  - background: rgba(255,255,255,0.3)
                                  - border-radius: 99px
                                  - padding: 0 0px 0 0px
                                  - width: 97%
                                  - height: 7px
                                  - margin: 0px 0 0 0
                                progress:
                                  - background: rgba(255,255,255,0.9)
                                  - border-radius: 25px 0px 0px 25px
                                  - height: 7px
                                  - margin: 0 0 0 0
                                thumb:
                                  - background: rgba(255,255,255,0.9)
                                  - width: 5px
                                  - height: 7px
                                  - border-radius: 0px
                            - type: custom:button-card
                              entity: media_player.living_room_tv
                              show_entity_picture: false
                              show_name: false
                              show_icon: false
                              custom_fields:
                                buttons:
                                  card:
                                    type: custom:button-card
                                    custom_fields:
                                      remote:
                                        card:
                                          type: vertical-stack
                                          cards:
                                            - type: conditional
                                              conditions:
                                                - entity: input_boolean.apple_tv_in_use
                                                  state: 'on'
                                              card:
                                                type: custom:button-card
                                                icon: m3s:remote-gen-outlined-filled
                                                tap_action:
                                                  action: url
                                                  url_path: >-
                                                    shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV
                                                show_name: false
                                                styles:
                                                  card:
                                                    - border-radius: 5px
                                                    - border-width: 0px
                                                    - box-shadow: none
                                                    - background: rgba(255,255,255,0.0)
                                                    - align-self: end
                                                    - align-content: end
                                                  icon:
                                                    - width: 25px
                                                    - color: rgba(255,255,255,0.5)
                                            - type: conditional
                                              conditions:
                                                - entity: input_boolean.apple_tv_in_use
                                                  state: 'off'
                                              card:
                                                type: custom:button-card
                                                icon: m3s:remote-gen-outlined-filled
                                                tap_action:
                                                  action: url
                                                  url_path: >-
                                                    shortcuts://run-shortcut?name=TV%20Remote
                                                show_name: false
                                                styles:
                                                  card:
                                                    - border-radius: 5px
                                                    - border-width: 0px
                                                    - box-shadow: none
                                                    - background: rgba(255,255,255,0.0)
                                                    - align-self: end
                                                    - align-content: end
                                                  icon:
                                                    - width: 25px
                                                    - color: rgba(255,255,255,0.5)
                                      two:
                                        card:
                                          type: custom:button-card
                                          tap_action:
                                            action: perform-action
                                            perform_action: script.channel_2
                                          icon: mdi:numeric-2-box
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 25px
                                              - color: rgba(255,255,255,0.5)
                                      seven:
                                        card:
                                          type: custom:button-card
                                          tap_action:
                                            action: perform-action
                                            perform_action: script.1683453148468
                                          icon: mdi:numeric-7-box
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 25px
                                              - color: rgba(255,255,255,0.5)
                                      nine:
                                        card:
                                          type: custom:button-card
                                          entity: media_player.living_room_tv
                                          tap_action:
                                            action: perform-action
                                            perform_action: script.channel_9
                                          icon: mdi:numeric-9-box
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 25px
                                              - color: rgba(255,255,255,0.5)
                                      ten:
                                        card:
                                          type: custom:button-card
                                          entity: media_player.living_room_tv
                                          tap_action:
                                            action: perform-action
                                            perform_action: script.channel_10
                                          icon: mdi:numeric-10-box
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 25px
                                              - color: rgba(255,255,255,0.5)
                                      menu:
                                        card:
                                          type: custom:button-card
                                          entity: media_player.living_room_tv
                                          tap_action:
                                            action: more-info
                                          icon: mdi:menu
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 25px
                                              - color: rgba(255,255,255,0.5)
                                    styles:
                                      grid:
                                        - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                                        - grid-template-rows: min-content
                                        - grid-template-areas: '"remote two seven nine ten menu"'
                                      card:
                                        - padding: 0 0 0 0px
                                        - margin: 3px 0px -6px 0px
                                        - align-self: end
                                        - background: none
                                        - box-shadow: none
                                        - border-width: 0px
                                        - border-radius: 0px
                              styles:
                                grid:
                                  - grid-template-areas: '"buttons"'
                                  - grid-template-columns: 1fr
                                  - grid-template-rows: >-
                                      max-content max-content max-content
                                      max-content ;
                                  - align-items: end
                                card:
                                  - background: transparent
                                  - box-shadow: none
                                  - border-radius: 0px
                                  - border-width: 0px
                                  - padding: 0px 0px 15px 0px
                                  - margin: '-5px 0px -5px 0px'
                            - type: custom:button-card
                              entity: media_player.living_room_tv
                              show_entity_picture: false
                              show_name: false
                              show_icon: false
                              custom_fields:
                                volume_control:
                                  card:
                                    type: horizontal-stack
                                    cards:
                                      - type: custom:button-card
                                        tap_action:
                                          action: call-service
                                          service: media_player.volume_down
                                          target:
                                            entity_id:
                                              - media_player.living_room_tv
                                        icon: mdi:volume-medium
                                        show_name: false
                                        styles:
                                          card:
                                            - border-radius: 5px
                                            - width: 30px
                                            - border-width: 0px
                                            - box-shadow: none
                                            - background: rgba(255,255,255,0.0)
                                            - align-self: end
                                            - align-content: end
                                          icon:
                                            - width: 20px
                                            - color: rgba(255,255,255,0.5)
                                      - type: custom:my-slider-v2
                                        entity: media_player.living_room_tv
                                        attribute: volume_level
                                        min: 0
                                        max: 100
                                        step: 2
                                        styles:
                                          card:
                                            - box-shadow: none
                                            - margin: 9px 0 0 0
                                            - background: none
                                          container:
                                            - border-radius: 0px
                                            - background: none
                                            - padding: 0 0 0 0px
                                          track:
                                            - background: rgba(255,255,255,0.3)
                                            - border-radius: 99px
                                            - width: 100%
                                            - height: 7px
                                            - margin: 0px 0 0 0
                                          progress:
                                            - background: rgba(255,255,255,0.9)
                                            - border-radius: 25px 0px 0px 25px
                                            - height: 7px
                                          thumb:
                                            - background: rgba(255,255,255,0.9)
                                            - width: 5px
                                            - height: 7px
                                            - border-radius: 0px
                                      - type: custom:button-card
                                        tap_action:
                                          action: call-service
                                          service: media_player.volume_up
                                          target:
                                            entity_id:
                                              - media_player.living_room_tv
                                        icon: mdi:volume-high
                                        show_name: false
                                        styles:
                                          card:
                                            - border-radius: 5px
                                            - width: 30px
                                            - border-width: 0px
                                            - box-shadow: none
                                            - background: rgba(255,255,255,0.0)
                                            - align-self: end
                                            - align-content: end
                                          icon:
                                            - width: 20px
                                            - color: rgba(255,255,255,0.5)
                              styles:
                                grid:
                                  - grid-template-areas: '"volume_control"'
                                  - grid-template-columns: 1fr
                                  - grid-template-rows: max-content;
                                  - align-items: end
                                card:
                                  - background: none
                                  - box-shadow: none
                                  - border-radius: 0px
                                  - border-width: 0px
                                  - padding: 0px 0px 0px 0px
                                  - margin-bottom: '-5px'
                    card_mod:
                      style: |
                        ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          -webkit-backdrop-filter: blur(10px); !important;}
                          }
                - type: conditional
                  conditions:
                    - condition: state
                      entity: media_player.nursery
                      state: playing
                    - condition: state
                      entity: binary_sensor.music_for_dreaming_playing
                      state: 'off'
                  card:
                    type: conditional
                    conditions:
                      - condition: state
                        entity: media_player.nursery
                        state_not: paused
                      - condition: state
                        entity: media_player.nursery
                        state_not: 'off'
                      - condition: state
                        entity: media_player.nursery
                        state_not: unavailable
                      - condition: state
                        entity: media_player.nursery
                        state_not: idle
                    card:
                      type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#nursery_homepod'
                      show_icon: false
                      show_name: false
                      show_state: false
                      styles:
                        grid:
                          - grid-template-areas: '"content"'
                          - grid-template-columns: 1fr
                          - grid-template-rows: max-content
                        card:
                          - background-color: rgba(0,0,0,0.3)
                          - webkit-backdrop-filter: blur(10px); !important;}
                          - box-shadow: none
                          - border-radius: 20px
                          - border-width: 0px
                          - padding: 10px
                          - margin: 0px
                      custom_fields:
                        content:
                          card:
                            type: vertical-stack
                            cards:
                              - type: custom:button-card
                                entity: media_player.nursery
                                show_entity_picture: true
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  entity:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#nursery_homepod'
                                      name: Nursery
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 13px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.3)
                                  title:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#nursery_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.nursery'].attributes.media_title != undefined) 
                                           return states['media_player.nursery'].attributes.media_title;
                                        ]]]
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - padding-top: 5px
                                          - font-size: 20px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.9)
                                  artist:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#nursery_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.nursery'].attributes.media_artist != undefined) 
                                           return states['media_player.nursery'].attributes.media_artist;
                                        ]]]
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 20px
                                          - font-weight: 400
                                          - color: rgba(255,255,255,0.3)
                                styles:
                                  grid:
                                    - grid-template-areas: >-
                                        "i entity" "i title" "i artist" "i
                                        album" 
                                    - grid-template-columns: max-content 1fr
                                    - grid-template-rows: max-content max-content max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0 5px
                                    - margin: 5px 0 -10px 0
                                  entity_picture:
                                    - align-self: start
                                    - justify-self: start
                                    - width: 70px
                                    - border-radius: 10px
                              - type: custom:my-slider-v2
                                entity: media_player.nursery
                                mode: seekbar
                                min: 0
                                max: 100
                                styles:
                                  card:
                                    - height: 20px
                                    - box-shadow: none
                                    - margin: 20px 0 0 0
                                    - background: none
                                  container:
                                    - border-radius: 0px
                                    - background: none
                                    - padding: 0 0 0 5px
                                  track:
                                    - background: rgba(255,255,255,0.3)
                                    - border-radius: 99px
                                    - padding: 0 0px 0 0px
                                    - width: 97%
                                    - height: 7px
                                    - margin: 0px 0 0 0
                                  progress:
                                    - background: rgba(255,255,255,0.9)
                                    - border-radius: 25px 0px 0px 25px
                                    - height: 7px
                                    - margin: 0 0 0 0
                                  thumb:
                                    - background: rgba(255,255,255,0.9)
                                    - width: 5px
                                    - height: 7px
                                    - border-radius: 0px
                              - type: custom:button-card
                                entity: media_player.nursery
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  buttons:
                                    card:
                                      type: custom:button-card
                                      custom_fields:
                                        previous:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_previous_track
                                              target:
                                                entity_id: media_player.nursery
                                            icon: mdi:rewind
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin: 0px
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        play:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_play_pause
                                              target:
                                                entity_id: media_player.nursery
                                            hold_action:
                                              action: call-service
                                              service: media_player.turn_off
                                              target:
                                                entity_id:
                                                  - media_player.nursery
                                            entity: media_player.nursery
                                            icon: mdi:play
                                            state:
                                              - value: playing
                                                icon: mdi:pause
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin-bottom: 0px
                                              icon:
                                                - width: 45px
                                                - color: rgba(255,255,255,0.5)
                                        next:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_next_track
                                              target:
                                                entity_id: media_player.nursery
                                            icon: mdi:fast-forward
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        star:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: url
                                              url_path: shortcuts://run-shortcut?name=HomeKit
                                            icon: mdi:apple-keyboard-command
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        menu:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.nursery
                                            tap_action:
                                              action: more-info
                                            icon: mdi:menu
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                      styles:
                                        grid:
                                          - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                          - grid-template-rows: min-content
                                          - grid-template-areas: '"star previous play next menu"'
                                        card:
                                          - padding: 0 0 0 0px
                                          - margin: 3px 0px -6px 0px
                                          - align-self: end
                                          - background: none
                                          - box-shadow: none
                                          - border-width: 0px
                                          - border-radius: 0px
                                styles:
                                  grid:
                                    - grid-template-areas: '"buttons"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: >-
                                        max-content max-content max-content
                                        max-content;
                                    - align-items: end
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 15px 0px
                                    - margin: '-10px 0px -15px 0px'
                              - type: custom:button-card
                                entity: media_player.nursery
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  volume_control:
                                    card:
                                      type: horizontal-stack
                                      cards:
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_down
                                            target:
                                              entity_id:
                                                - media_player.nursery
                                          icon: mdi:volume-medium
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                        - type: custom:my-slider-v2
                                          entity: media_player.nursery
                                          attribute: volume_level
                                          min: 0
                                          max: 100
                                          step: 2
                                          styles:
                                            card:
                                              - box-shadow: none
                                              - margin: 9px 0 0 0
                                              - background: none
                                            container:
                                              - border-radius: 0px
                                              - background: none
                                              - padding: 0 0 0 0px
                                            track:
                                              - background: rgba(255,255,255,0.3)
                                              - border-radius: 99px
                                              - width: 100%
                                              - height: 7px
                                              - margin: 0px 0 0 0
                                            progress:
                                              - background: rgba(255,255,255,0.9)
                                              - border-radius: 25px 0px 0px 25px
                                              - height: 7px
                                            thumb:
                                              - background: rgba(255,255,255,0.9)
                                              - width: 5px
                                              - height: 7px
                                              - border-radius: 0px
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_up
                                            target:
                                              entity_id:
                                                - media_player.nursery
                                          icon: mdi:volume-high
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-areas: '"volume_control"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0px 0px
                                    - margin-bottom: '-5px'
                      card_mod:
                        style: |
                          ha-card {
                            background-color: rgba(0, 0, 0, 0.3); !important;
                            -webkit-backdrop-filter: blur(10px); !important;}
                            }
                - type: conditional
                  conditions:
                    - condition: state
                      entity: media_player.patio_homepod
                      state: playing
                  card:
                    type: conditional
                    conditions:
                      - condition: state
                        entity: media_player.patio_homepod
                        state_not: paused
                      - condition: state
                        entity: media_player.patio_homepod
                        state_not: 'off'
                      - condition: state
                        entity: media_player.patio_homepod
                        state_not: unavailable
                      - condition: state
                        entity: media_player.patio_homepod
                        state_not: idle
                    card:
                      type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#patio_homepod'
                      show_icon: false
                      show_name: false
                      show_state: false
                      styles:
                        grid:
                          - grid-template-areas: '"content"'
                          - grid-template-columns: 1fr
                          - grid-template-rows: max-content
                        card:
                          - background-color: rgba(0,0,0,0.3)
                          - webkit-backdrop-filter: blur(10px); !important;}
                          - box-shadow: none
                          - border-radius: 20px
                          - border-width: 0px
                          - padding: 10px
                          - margin: 0px
                      custom_fields:
                        content:
                          card:
                            type: vertical-stack
                            cards:
                              - type: custom:button-card
                                entity: media_player.patio_homepod
                                show_entity_picture: true
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  entity:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#patio_homepod'
                                      name: Patio
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 13px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.3)
                                  title:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#patio_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.patio_homepod'].attributes.media_title != undefined) 
                                           return states['media_player.patio_homepod'].attributes.media_title;
                                        ]]]
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - padding-top: 5px
                                          - font-size: 20px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.9)
                                  artist:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#patio_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.patio_homepod'].attributes.media_artist != undefined) 
                                           return states['media_player.patio_homepod'].attributes.media_artist;
                                        ]]]
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 20px
                                          - font-weight: 400
                                          - color: rgba(255,255,255,0.3)
                                styles:
                                  grid:
                                    - grid-template-areas: >-
                                        "i entity" "i title" "i artist" "i
                                        album" 
                                    - grid-template-columns: max-content 1fr
                                    - grid-template-rows: max-content max-content max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0 5px
                                    - margin: 5px 0 -10px 0
                                  entity_picture:
                                    - align-self: start
                                    - justify-self: start
                                    - width: 70px
                                    - border-radius: 10px
                              - type: custom:my-slider-v2
                                entity: media_player.patio_homepod
                                mode: seekbar
                                min: 0
                                max: 100
                                styles:
                                  card:
                                    - height: 20px
                                    - box-shadow: none
                                    - margin: 20px 0 0 0
                                    - background: none
                                  container:
                                    - border-radius: 0px
                                    - background: none
                                    - padding: 0 0 0 5px
                                  track:
                                    - background: rgba(255,255,255,0.3)
                                    - border-radius: 99px
                                    - padding: 0 0px 0 0px
                                    - width: 97%
                                    - height: 7px
                                    - margin: 0px 0 0 0
                                  progress:
                                    - background: rgba(255,255,255,0.9)
                                    - border-radius: 25px 0px 0px 25px
                                    - height: 7px
                                    - margin: 0 0 0 0
                                  thumb:
                                    - background: rgba(255,255,255,0.9)
                                    - width: 5px
                                    - height: 7px
                                    - border-radius: 0px
                              - type: custom:button-card
                                entity: media_player.patio_homepod
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  buttons:
                                    card:
                                      type: custom:button-card
                                      custom_fields:
                                        previous:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_previous_track
                                              target:
                                                entity_id: media_player.patio_homepod
                                            icon: mdi:rewind
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin: 0px
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        play:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_play_pause
                                              target:
                                                entity_id: media_player.patio_homepod
                                            hold_action:
                                              action: call-service
                                              service: media_player.turn_off
                                              target:
                                                entity_id:
                                                  - media_player.patio_homepod
                                            entity: media_player.patio_homepod
                                            icon: mdi:play
                                            state:
                                              - value: playing
                                                icon: mdi:pause
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin-bottom: 0px
                                              icon:
                                                - width: 45px
                                                - color: rgba(255,255,255,0.5)
                                        next:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_next_track
                                              target:
                                                entity_id: media_player.patio_homepod
                                            icon: mdi:fast-forward
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        star:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: url
                                              url_path: shortcuts://run-shortcut?name=HomeKit
                                            icon: mdi:apple-keyboard-command
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        menu:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.patio_homepod
                                            tap_action:
                                              action: more-info
                                            icon: mdi:menu
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                      styles:
                                        grid:
                                          - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                          - grid-template-rows: min-content
                                          - grid-template-areas: '"star previous play next menu"'
                                        card:
                                          - padding: 0 0 0 0px
                                          - margin: 3px 0px -6px 0px
                                          - align-self: end
                                          - background: none
                                          - box-shadow: none
                                          - border-width: 0px
                                          - border-radius: 0px
                                styles:
                                  grid:
                                    - grid-template-areas: '"buttons"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: >-
                                        max-content max-content max-content
                                        max-content;
                                    - align-items: end
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 15px 0px
                                    - margin: '-10px 0px -15px 0px'
                              - type: custom:button-card
                                entity: media_player.patio_homepod
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  volume_control:
                                    card:
                                      type: horizontal-stack
                                      cards:
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_down
                                            target:
                                              entity_id:
                                                - media_player.patio_homepod
                                          icon: mdi:volume-medium
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                        - type: custom:my-slider-v2
                                          entity: media_player.patio_homepod
                                          attribute: volume_level
                                          min: 0
                                          max: 100
                                          step: 2
                                          styles:
                                            card:
                                              - box-shadow: none
                                              - margin: 9px 0 0 0
                                              - background: none
                                            container:
                                              - border-radius: 0px
                                              - background: none
                                              - padding: 0 0 0 0px
                                            track:
                                              - background: rgba(255,255,255,0.3)
                                              - border-radius: 99px
                                              - width: 100%
                                              - height: 7px
                                              - margin: 0px 0 0 0
                                            progress:
                                              - background: rgba(255,255,255,0.9)
                                              - border-radius: 25px 0px 0px 25px
                                              - height: 7px
                                            thumb:
                                              - background: rgba(255,255,255,0.9)
                                              - width: 5px
                                              - height: 7px
                                              - border-radius: 0px
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_up
                                            target:
                                              entity_id:
                                                - media_player.patio_homepod
                                          icon: mdi:volume-high
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-areas: '"volume_control"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0px 0px
                                    - margin-bottom: '-5px'
                      card_mod:
                        style: |
                          ha-card {
                            background-color: rgba(0, 0, 0, 0.3); !important;
                            -webkit-backdrop-filter: blur(10px); !important;}
                            }
                - type: conditional
                  conditions:
                    - condition: state
                      entity: media_player.left_study_homepod
                      state: playing
                  card:
                    type: conditional
                    conditions:
                      - condition: state
                        entity: media_player.left_study_homepod
                        state_not: paused
                      - condition: state
                        entity: media_player.left_study_homepod
                        state_not: 'off'
                      - condition: state
                        entity: media_player.left_study_homepod
                        state_not: unavailable
                      - condition: state
                        entity: media_player.left_study_homepod
                        state_not: idle
                    card:
                      type: custom:button-card
                      show_icon: false
                      show_name: false
                      show_state: false
                      styles:
                        grid:
                          - grid-template-areas: '"content"'
                          - grid-template-columns: 1fr
                          - grid-template-rows: max-content
                        card:
                          - background-color: rgba(0,0,0,0.3)
                          - webkit-backdrop-filter: blur(10px); !important;}
                          - box-shadow: none
                          - border-radius: 20px
                          - border-width: 0px
                          - padding: 10px
                          - margin: 0px
                      custom_fields:
                        content:
                          card:
                            type: vertical-stack
                            cards:
                              - type: custom:button-card
                                entity: media_player.left_study_homepod
                                tap_action:
                                  action: navigate
                                  navigation_path: '#study_homepod'
                                show_entity_picture: true
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  entity:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#study_homepod'
                                      name: Study
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 13px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.3)
                                  title:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#study_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.left_study_homepod'].attributes.media_title != undefined) 
                                           return states['media_player.left_study_homepod'].attributes.media_title;
                                        ]]]
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - padding-top: 5px
                                          - font-size: 20px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.9)
                                  artist:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#study_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.left_study_homepod'].attributes.media_artist != undefined) 
                                           return states['media_player.left_study_homepod'].attributes.media_artist;
                                        ]]]
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 20px
                                          - font-weight: 400
                                          - color: rgba(255,255,255,0.3)
                                styles:
                                  grid:
                                    - grid-template-areas: >-
                                        "i entity" "i title" "i artist" "i
                                        album" 
                                    - grid-template-columns: max-content 1fr
                                    - grid-template-rows: max-content max-content max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0 5px
                                    - margin: 5px 0 -10px 0
                                  entity_picture:
                                    - align-self: start
                                    - justify-self: start
                                    - width: 70px
                                    - border-radius: 10px
                              - type: custom:my-slider-v2
                                entity: media_player.left_study_homepod
                                mode: seekbar
                                min: 0
                                max: 100
                                styles:
                                  card:
                                    - height: 20px
                                    - box-shadow: none
                                    - margin: 20px 0 0 0
                                    - background: none
                                  container:
                                    - border-radius: 0px
                                    - background: none
                                    - padding: 0 0 0 5px
                                  track:
                                    - background: rgba(255,255,255,0.3)
                                    - border-radius: 99px
                                    - padding: 0 0px 0 0px
                                    - width: 97%
                                    - height: 7px
                                    - margin: 0px 0 0 0
                                  progress:
                                    - background: rgba(255,255,255,0.9)
                                    - border-radius: 25px 0px 0px 25px
                                    - height: 7px
                                    - margin: 0 0 0 0
                                  thumb:
                                    - background: rgba(255,255,255,0.9)
                                    - width: 5px
                                    - height: 7px
                                    - border-radius: 0px
                              - type: custom:button-card
                                entity: media_player.left_study_homepod
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  buttons:
                                    card:
                                      type: custom:button-card
                                      custom_fields:
                                        previous:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_previous_track
                                              target:
                                                entity_id: media_player.left_study_homepod
                                            icon: mdi:rewind
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin: 0px
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        play:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_play_pause
                                              target:
                                                entity_id: media_player.left_study_homepod
                                            hold_action:
                                              action: call-service
                                              service: media_player.turn_off
                                              target:
                                                entity_id:
                                                  - media_player.left_study_homepod
                                            entity: media_player.left_study_homepod
                                            icon: mdi:play
                                            state:
                                              - value: playing
                                                icon: mdi:pause
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin-bottom: 0px
                                              icon:
                                                - width: 45px
                                                - color: rgba(255,255,255,0.5)
                                        next:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_next_track
                                              target:
                                                entity_id: media_player.left_study_homepod
                                            icon: mdi:fast-forward
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        star:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: url
                                              url_path: shortcuts://run-shortcut?name=HomeKit
                                            icon: mdi:apple-keyboard-command
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        menu:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.left_study_homepod
                                            tap_action:
                                              action: more-info
                                            icon: mdi:menu
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                      styles:
                                        grid:
                                          - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                          - grid-template-rows: min-content
                                          - grid-template-areas: '"star previous play next menu"'
                                        card:
                                          - padding: 0 0 0 0px
                                          - margin: 3px 0px -6px 0px
                                          - align-self: end
                                          - background: none
                                          - box-shadow: none
                                          - border-width: 0px
                                          - border-radius: 0px
                                styles:
                                  grid:
                                    - grid-template-areas: '"buttons"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: >-
                                        max-content max-content max-content
                                        max-content;
                                    - align-items: end
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 15px 0px
                                    - margin: '-10px 0px -15px 0px'
                              - type: custom:button-card
                                entity: media_player.left_study_homepod
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  volume_control:
                                    card:
                                      type: horizontal-stack
                                      cards:
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_down
                                            target:
                                              entity_id:
                                                - media_player.left_study_homepod
                                          icon: mdi:volume-medium
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                        - type: custom:my-slider-v2
                                          entity: media_player.left_study_homepod
                                          attribute: volume_level
                                          min: 0
                                          max: 100
                                          step: 2
                                          styles:
                                            card:
                                              - box-shadow: none
                                              - margin: 9px 0 0 0
                                              - background: none
                                            container:
                                              - border-radius: 0px
                                              - background: none
                                              - padding: 0 0 0 0px
                                            track:
                                              - background: rgba(255,255,255,0.3)
                                              - border-radius: 99px
                                              - width: 100%
                                              - height: 7px
                                              - margin: 0px 0 0 0
                                            progress:
                                              - background: rgba(255,255,255,0.9)
                                              - border-radius: 25px 0px 0px 25px
                                              - height: 7px
                                            thumb:
                                              - background: rgba(255,255,255,0.9)
                                              - width: 5px
                                              - height: 7px
                                              - border-radius: 0px
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_up
                                            target:
                                              entity_id:
                                                - media_player.left_study_homepod
                                          icon: mdi:volume-high
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-areas: '"volume_control"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0px 0px
                                    - margin-bottom: '-5px'
                      card_mod:
                        style: |
                          ha-card {
                            background-color: rgba(0, 0, 0, 0.3); !important;
                            -webkit-backdrop-filter: blur(10px); !important;}
                            }
                - type: conditional
                  conditions:
                    - condition: state
                      entity: media_player.kitchen_homepod
                      state: playing
                  card:
                    type: conditional
                    conditions:
                      - condition: state
                        entity: media_player.kitchen_homepod
                        state_not: paused
                      - condition: state
                        entity: media_player.kitchen_homepod
                        state_not: 'off'
                      - condition: state
                        entity: media_player.kitchen_homepod
                        state_not: unavailable
                      - condition: state
                        entity: media_player.kitchen_homepod
                        state_not: idle
                    card:
                      type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#kitchen_homepod'
                      show_icon: false
                      show_name: false
                      show_state: false
                      styles:
                        grid:
                          - grid-template-areas: '"content"'
                          - grid-template-columns: 1fr
                          - grid-template-rows: max-content
                        card:
                          - background-color: rgba(0,0,0,0.3)
                          - webkit-backdrop-filter: blur(10px); !important;}
                          - box-shadow: none
                          - border-radius: 20px
                          - border-width: 0px
                          - padding: 10px
                          - margin: 0px
                      custom_fields:
                        content:
                          card:
                            type: vertical-stack
                            cards:
                              - type: custom:button-card
                                entity: media_player.kitchen_homepod
                                show_entity_picture: true
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  entity:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#kitchen_homepod'
                                      name: Kitchen
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 13px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.3)
                                  title:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#kitchen_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.kitchen_homepod'].attributes.media_title != undefined) 
                                           return states['media_player.kitchen_homepod'].attributes.media_title;
                                        ]]]
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - padding-top: 5px
                                          - font-size: 20px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.9)
                                  artist:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#kitchen_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.kitchen_homepod'].attributes.media_artist != undefined) 
                                           return states['media_player.kitchen_homepod'].attributes.media_artist;
                                        ]]]
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 20px
                                          - font-weight: 400
                                          - color: rgba(255,255,255,0.3)
                                styles:
                                  grid:
                                    - grid-template-areas: >-
                                        "i entity" "i title" "i artist" "i
                                        album" 
                                    - grid-template-columns: max-content 1fr
                                    - grid-template-rows: max-content max-content max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0 5px
                                    - margin: 5px 0 -10px 0
                                  entity_picture:
                                    - align-self: start
                                    - justify-self: start
                                    - width: 70px
                                    - border-radius: 10px
                              - type: custom:my-slider-v2
                                entity: media_player.kitchen_homepod
                                mode: seekbar
                                min: 0
                                max: 100
                                styles:
                                  card:
                                    - height: 20px
                                    - box-shadow: none
                                    - margin: 20px 0 0 0
                                    - background: none
                                  container:
                                    - border-radius: 0px
                                    - background: none
                                    - padding: 0 0 0 5px
                                  track:
                                    - background: rgba(255,255,255,0.3)
                                    - border-radius: 99px
                                    - padding: 0 0px 0 0px
                                    - width: 97%
                                    - height: 7px
                                    - margin: 0px 0 0 0
                                  progress:
                                    - background: rgba(255,255,255,0.9)
                                    - border-radius: 25px 0px 0px 25px
                                    - height: 7px
                                    - margin: 0 0 0 0
                                  thumb:
                                    - background: rgba(255,255,255,0.9)
                                    - width: 5px
                                    - height: 7px
                                    - border-radius: 0px
                              - type: custom:button-card
                                entity: media_player.kitchen_homepod
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  buttons:
                                    card:
                                      type: custom:button-card
                                      custom_fields:
                                        previous:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_previous_track
                                              target:
                                                entity_id: media_player.kitchen_homepod
                                            icon: mdi:rewind
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin: 0px
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        play:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_play_pause
                                              target:
                                                entity_id: media_player.kitchen_homepod
                                            hold_action:
                                              action: call-service
                                              service: media_player.turn_off
                                              target:
                                                entity_id:
                                                  - media_player.kitchen_homepod
                                            entity: media_player.kitchen_homepod
                                            icon: mdi:play
                                            state:
                                              - value: playing
                                                icon: mdi:pause
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin-bottom: 0px
                                              icon:
                                                - width: 45px
                                                - color: rgba(255,255,255,0.5)
                                        next:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_next_track
                                              target:
                                                entity_id: media_player.kitchen_homepod
                                            icon: mdi:fast-forward
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        star:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: url
                                              url_path: shortcuts://run-shortcut?name=HomeKit
                                            icon: mdi:apple-keyboard-command
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        menu:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.kitchen_homepod
                                            tap_action:
                                              action: more-info
                                            icon: mdi:menu
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                      styles:
                                        grid:
                                          - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                          - grid-template-rows: min-content
                                          - grid-template-areas: '"star previous play next menu"'
                                        card:
                                          - padding: 0 0 0 0px
                                          - margin: 3px 0px -6px 0px
                                          - align-self: end
                                          - background: none
                                          - box-shadow: none
                                          - border-width: 0px
                                          - border-radius: 0px
                                styles:
                                  grid:
                                    - grid-template-areas: '"buttons"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: >-
                                        max-content max-content max-content
                                        max-content;
                                    - align-items: end
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 15px 0px
                                    - margin: '-10px 0px -15px 0px'
                              - type: custom:button-card
                                entity: media_player.kitchen_homepod
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  volume_control:
                                    card:
                                      type: horizontal-stack
                                      cards:
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_down
                                            target:
                                              entity_id:
                                                - media_player.kitchen_homepod
                                          icon: mdi:volume-medium
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                        - type: custom:my-slider-v2
                                          entity: media_player.kitchen_homepod
                                          attribute: volume_level
                                          min: 0
                                          max: 100
                                          step: 2
                                          styles:
                                            card:
                                              - box-shadow: none
                                              - margin: 9px 0 0 0
                                              - background: none
                                            container:
                                              - border-radius: 0px
                                              - background: none
                                              - padding: 0 0 0 0px
                                            track:
                                              - background: rgba(255,255,255,0.3)
                                              - border-radius: 99px
                                              - width: 100%
                                              - height: 7px
                                              - margin: 0px 0 0 0
                                            progress:
                                              - background: rgba(255,255,255,0.9)
                                              - border-radius: 25px 0px 0px 25px
                                              - height: 7px
                                            thumb:
                                              - background: rgba(255,255,255,0.9)
                                              - width: 5px
                                              - height: 7px
                                              - border-radius: 0px
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_up
                                            target:
                                              entity_id:
                                                - media_player.kitchen_homepod
                                          icon: mdi:volume-high
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-areas: '"volume_control"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0px 0px
                                    - margin-bottom: '-5px'
                      card_mod:
                        style: |
                          ha-card {
                            background-color: rgba(0, 0, 0, 0.3); !important;
                            -webkit-backdrop-filter: blur(10px); !important;}
                            }
                - type: conditional
                  conditions:
                    - condition: state
                      entity: media_player.living_room_2
                      state: playing
                  card:
                    type: conditional
                    conditions:
                      - condition: state
                        entity: media_player.living_room_2
                        state_not: paused
                      - condition: state
                        entity: media_player.living_room_2
                        state_not: 'off'
                      - condition: state
                        entity: media_player.living_room_2
                        state_not: unavailable
                      - condition: state
                        entity: media_player.living_room_2
                        state_not: idle
                    card:
                      type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#living_room_homepods'
                      show_icon: false
                      show_name: false
                      show_state: false
                      styles:
                        grid:
                          - grid-template-areas: '"content"'
                          - grid-template-columns: 1fr
                          - grid-template-rows: max-content
                        card:
                          - background-color: rgba(0,0,0,0.3)
                          - webkit-backdrop-filter: blur(10px); !important;}
                          - box-shadow: none
                          - border-radius: 20px
                          - border-width: 0px
                          - padding: 10px
                          - margin: 0px
                      custom_fields:
                        content:
                          card:
                            type: vertical-stack
                            cards:
                              - type: custom:button-card
                                entity: media_player.living_room_2
                                show_entity_picture: true
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  entity:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#living_room_homepods'
                                      name: Living Room HomePods
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 13px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.3)
                                  title:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: none
                                      name: |
                                        [[[
                                           if (states['media_player.living_room_2'].attributes.media_title != undefined) 
                                           return states['media_player.living_room_2'].attributes.media_title;
                                        ]]]
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - padding-top: 5px
                                          - font-size: 20px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.9)
                                  artist:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#living_room_homepods'
                                      name: |
                                        [[[
                                           if (states['media_player.living_room_2'].attributes.media_artist != undefined) 
                                           return states['media_player.living_room_2'].attributes.media_artist;
                                        ]]]
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 20px
                                          - font-weight: 400
                                          - color: rgba(255,255,255,0.3)
                                styles:
                                  grid:
                                    - grid-template-areas: >-
                                        "i entity" "i title" "i artist" "i
                                        album" 
                                    - grid-template-columns: max-content 1fr
                                    - grid-template-rows: max-content max-content max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0 5px
                                    - margin: 5px 0 -10px 0
                                  entity_picture:
                                    - align-self: start
                                    - justify-self: start
                                    - width: 70px
                                    - border-radius: 10px
                              - type: custom:my-slider-v2
                                entity: media_player.living_room_2
                                mode: seekbar
                                min: 0
                                max: 100
                                styles:
                                  card:
                                    - height: 20px
                                    - box-shadow: none
                                    - margin: 20px 0 0 0
                                    - background: none
                                  container:
                                    - border-radius: 0px
                                    - background: none
                                    - padding: 0 0 0 5px
                                  track:
                                    - background: rgba(255,255,255,0.3)
                                    - border-radius: 99px
                                    - padding: 0 0px 0 0px
                                    - width: 97%
                                    - height: 7px
                                    - margin: 0px 0 0 0
                                  progress:
                                    - background: rgba(255,255,255,0.9)
                                    - border-radius: 25px 0px 0px 25px
                                    - height: 7px
                                    - margin: 0 0 0 0
                                  thumb:
                                    - background: rgba(255,255,255,0.9)
                                    - width: 5px
                                    - height: 7px
                                    - border-radius: 0px
                              - type: custom:button-card
                                entity: media_player.living_room_2
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  buttons:
                                    card:
                                      type: custom:button-card
                                      custom_fields:
                                        previous:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_previous_track
                                              target:
                                                entity_id: media_player.living_room_2
                                            icon: mdi:rewind
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin: 0px
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        play:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_play_pause
                                              target:
                                                entity_id: media_player.living_room_2
                                            hold_action:
                                              action: call-service
                                              service: media_player.turn_off
                                              target:
                                                entity_id:
                                                  - media_player.living_room_2
                                            entity: media_player.living_room_2
                                            icon: mdi:play
                                            state:
                                              - value: playing
                                                icon: mdi:pause
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin-bottom: 0px
                                              icon:
                                                - width: 45px
                                                - color: rgba(255,255,255,0.5)
                                        next:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_next_track
                                              target:
                                                entity_id: media_player.living_room_2
                                            icon: mdi:fast-forward
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        star:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: url
                                              url_path: shortcuts://run-shortcut?name=HomeKit
                                            icon: mdi:apple-keyboard-command
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        menu:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.living_room_2
                                            tap_action:
                                              action: more-info
                                            icon: mdi:menu
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                      styles:
                                        grid:
                                          - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                          - grid-template-rows: min-content
                                          - grid-template-areas: '"star previous play next menu"'
                                        card:
                                          - padding: 0 0 0 0px
                                          - margin: 3px 0px -6px 0px
                                          - align-self: end
                                          - background: none
                                          - box-shadow: none
                                          - border-width: 0px
                                          - border-radius: 0px
                                styles:
                                  grid:
                                    - grid-template-areas: '"buttons"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: >-
                                        max-content max-content max-content
                                        max-content;
                                    - align-items: end
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 15px 0px
                                    - margin: '-10px 0px -15px 0px'
                              - type: custom:button-card
                                entity: media_player.living_room_2
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  volume_control:
                                    card:
                                      type: horizontal-stack
                                      cards:
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_down
                                            target:
                                              entity_id:
                                                - media_player.living_room_2
                                          icon: mdi:volume-medium
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                        - type: custom:my-slider-v2
                                          entity: media_player.living_room_2
                                          attribute: volume_level
                                          min: 0
                                          max: 100
                                          step: 2
                                          styles:
                                            card:
                                              - box-shadow: none
                                              - margin: 9px 0 0 0
                                              - background: none
                                            container:
                                              - border-radius: 0px
                                              - background: none
                                              - padding: 0 0 0 0px
                                            track:
                                              - background: rgba(255,255,255,0.3)
                                              - border-radius: 99px
                                              - width: 100%
                                              - height: 7px
                                              - margin: 0px 0 0 0
                                            progress:
                                              - background: rgba(255,255,255,0.9)
                                              - border-radius: 25px 0px 0px 25px
                                              - height: 7px
                                            thumb:
                                              - background: rgba(255,255,255,0.9)
                                              - width: 5px
                                              - height: 7px
                                              - border-radius: 0px
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_up
                                            target:
                                              entity_id:
                                                - media_player.living_room_2
                                          icon: mdi:volume-high
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-areas: '"volume_control"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0px 0px
                                    - margin-bottom: '-5px'
                      card_mod:
                        style: |
                          ha-card {
                            background-color: rgba(0, 0, 0, 0.3); !important;
                            -webkit-backdrop-filter: blur(10px); !important;}
                            }
                - type: conditional
                  conditions:
                    - condition: state
                      entity: media_player.bedroom_homepod
                      state: playing
                  card:
                    type: conditional
                    conditions:
                      - condition: state
                        entity: media_player.bedroom_homepod
                        state_not: paused
                      - condition: state
                        entity: media_player.bedroom_homepod
                        state_not: 'off'
                      - condition: state
                        entity: media_player.bedroom_homepod
                        state_not: unavailable
                      - condition: state
                        entity: media_player.bedroom_homepod
                        state_not: idle
                    card:
                      type: custom:button-card
                      tap_action:
                        action: navigate
                        navigation_path: '#bedroom_homepod'
                      show_icon: false
                      show_name: false
                      show_state: false
                      styles:
                        grid:
                          - grid-template-areas: '"content"'
                          - grid-template-columns: 1fr
                          - grid-template-rows: max-content
                        card:
                          - background-color: rgba(0,0,0,0.3)
                          - webkit-backdrop-filter: blur(10px); !important;}
                          - box-shadow: none
                          - border-radius: 20px
                          - border-width: 0px
                          - padding: 10px
                          - margin: 0px
                      custom_fields:
                        content:
                          card:
                            type: vertical-stack
                            cards:
                              - type: custom:button-card
                                entity: media_player.bedroom_homepod
                                show_entity_picture: true
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  entity:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#bedroom_homepod'
                                      name: Bedroom
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 13px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.3)
                                  title:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#bedroom_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.bedroom_homepod'].attributes.media_title != undefined) 
                                           return states['media_player.bedroom_homepod'].attributes.media_title;
                                        ]]]
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - padding-top: 5px
                                          - font-size: 20px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.9)
                                  artist:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: navigate
                                        navigation_path: '#bedroom_homepod'
                                      name: |
                                        [[[
                                           if (states['media_player.bedroom_homepod'].attributes.media_artist != undefined) 
                                           return states['media_player.bedroom_homepod'].attributes.media_artist;
                                        ]]]
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 20px
                                          - font-weight: 400
                                          - color: rgba(255,255,255,0.3)
                                styles:
                                  grid:
                                    - grid-template-areas: >-
                                        "i entity" "i title" "i artist" "i
                                        album" 
                                    - grid-template-columns: max-content 1fr
                                    - grid-template-rows: max-content max-content max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0 5px
                                    - margin: 5px 0 -10px 0
                                  entity_picture:
                                    - align-self: start
                                    - justify-self: start
                                    - width: 70px
                                    - border-radius: 10px
                              - type: custom:my-slider-v2
                                entity: media_player.bedroom_homepod
                                mode: seekbar
                                min: 0
                                max: 100
                                styles:
                                  card:
                                    - height: 20px
                                    - box-shadow: none
                                    - margin: 20px 0 0 0
                                    - background: none
                                  container:
                                    - border-radius: 0px
                                    - background: none
                                    - padding: 0 0 0 5px
                                  track:
                                    - background: rgba(255,255,255,0.3)
                                    - border-radius: 99px
                                    - padding: 0 0px 0 0px
                                    - width: 97%
                                    - height: 7px
                                    - margin: 0px 0 0 0
                                  progress:
                                    - background: rgba(255,255,255,0.9)
                                    - border-radius: 25px 0px 0px 25px
                                    - height: 7px
                                    - margin: 0 0 0 0
                                  thumb:
                                    - background: rgba(255,255,255,0.9)
                                    - width: 5px
                                    - height: 7px
                                    - border-radius: 0px
                              - type: custom:button-card
                                entity: media_player.bedroom_homepod
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  buttons:
                                    card:
                                      type: custom:button-card
                                      custom_fields:
                                        previous:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_previous_track
                                              target:
                                                entity_id: media_player.bedroom_homepod
                                            icon: mdi:rewind
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin: 0px
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        play:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_play_pause
                                              target:
                                                entity_id: media_player.bedroom_homepod
                                            hold_action:
                                              action: call-service
                                              service: media_player.turn_off
                                              target:
                                                entity_id:
                                                  - media_player.bedroom_homepod
                                            entity: media_player.bedroom_homepod
                                            icon: mdi:play
                                            state:
                                              - value: playing
                                                icon: mdi:pause
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                                - padding: 0px
                                                - margin-bottom: 0px
                                              icon:
                                                - width: 45px
                                                - color: rgba(255,255,255,0.5)
                                        next:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: call-service
                                              service: media_player.media_next_track
                                              target:
                                                entity_id: media_player.bedroom_homepod
                                            icon: mdi:fast-forward
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 35px
                                                - color: rgba(255,255,255,0.5)
                                        star:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: url
                                              url_path: shortcuts://run-shortcut?name=HomeKit
                                            icon: mdi:apple-keyboard-command
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        menu:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.bedroom_homepod
                                            tap_action:
                                              action: more-info
                                            icon: mdi:menu
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                      styles:
                                        grid:
                                          - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                          - grid-template-rows: min-content
                                          - grid-template-areas: '"star previous play next menu"'
                                        card:
                                          - padding: 0 0 0 0px
                                          - margin: 3px 0px -6px 0px
                                          - align-self: end
                                          - background: none
                                          - box-shadow: none
                                          - border-width: 0px
                                          - border-radius: 0px
                                styles:
                                  grid:
                                    - grid-template-areas: '"buttons"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: >-
                                        max-content max-content max-content
                                        max-content;
                                    - align-items: end
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 15px 0px
                                    - margin: '-10px 0px -15px 0px'
                              - type: custom:button-card
                                entity: media_player.bedroom_homepod
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  volume_control:
                                    card:
                                      type: horizontal-stack
                                      cards:
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_down
                                            target:
                                              entity_id:
                                                - media_player.bedroom_homepod
                                          icon: mdi:volume-medium
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                        - type: custom:my-slider-v2
                                          entity: media_player.bedroom_homepod
                                          attribute: volume_level
                                          min: 0
                                          max: 100
                                          step: 2
                                          styles:
                                            card:
                                              - box-shadow: none
                                              - margin: 9px 0 0 0
                                              - background: none
                                            container:
                                              - border-radius: 0px
                                              - background: none
                                              - padding: 0 0 0 0px
                                            track:
                                              - background: rgba(255,255,255,0.3)
                                              - border-radius: 99px
                                              - width: 100%
                                              - height: 7px
                                              - margin: 0px 0 0 0
                                            progress:
                                              - background: rgba(255,255,255,0.9)
                                              - border-radius: 25px 0px 0px 25px
                                              - height: 7px
                                            thumb:
                                              - background: rgba(255,255,255,0.9)
                                              - width: 5px
                                              - height: 7px
                                              - border-radius: 0px
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_up
                                            target:
                                              entity_id:
                                                - media_player.bedroom_homepod
                                          icon: mdi:volume-high
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-areas: '"volume_control"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0px 0px
                                    - margin-bottom: '-5px'
                      card_mod:
                        style: |
                          ha-card {
                            background-color: rgba(0, 0, 0, 0.3); !important;
                            -webkit-backdrop-filter: blur(10px); !important;}
                            }
        visibility:
          - condition: state
            entity: binary_sensor.media_players_playing
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: first_subheading
            variables:
              var_device: Cameras
            tap_action:
              action: navigate
              navigation_path: '#cameras'
          - type: custom:swipe-card
            card_width: 100%
            start_card: 1
            parameters:
              grabCursor: true
              centeredSlides: false
              slidesPerView: 1.1
              spaceBetween: 10
            cards:
              - type: picture-elements
                image: camera.front_camera_starling
                tap_action:
                  action: more-info
                camera_image: camera.front_camera_starling
                camera_view: live
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.front_camera_2
                    camera_image: camera.front_camera_2
                    camera_view: live
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                  - type: icon
                    icon: mdi:camera
                    entity: camera.front_camera_starling
                    tap_action:
                      action: more-info
                    double_tap_action:
                      action: call-service
                      service: script.refresh_inside_home_camera_snapshots
                    style:
                      top: 83%
                      left: 89%
                      transform: none
                      color: white
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
              - type: picture-elements
                image: camera.garage_camera_starling
                camera_image: camera.garage_camera_starling
                camera_view: live
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.garage_camera_2
                    camera_image: camera.garage_camera_2
                    camera_view: live
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                  - type: icon
                    icon: mdi:camera
                    entity: camera.garage_camera_starling
                    tap_action:
                      action: more-info
                    style:
                      top: 83%
                      left: 89%
                      transform: none
                      color: white
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
              - type: picture-elements
                image: camera.patio_camera_starling
                camera_image: camera.patio_camera_starling
                camera_view: live
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.patio_camera
                    camera_image: camera.patio_camera
                    camera_view: live
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                  - type: icon
                    icon: mdi:camera
                    entity: camera.patio_camera_starling
                    tap_action:
                      action: more-info
                    style:
                      top: 83%
                      left: 89%
                      transform: none
                      color: white
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
              - type: picture-elements
                image: camera.backyard_camera_starling
                camera_image: camera.backyard_camera_starling
                camera_view: live
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.yard_camera_2
                    camera_image: camera.backyard_camera_starling
                    camera_view: live
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                  - type: icon
                    icon: mdi:camera
                    entity: camera.backyard_camera_starling
                    tap_action:
                      action: more-info
                    style:
                      top: 83%
                      left: 89%
                      transform: none
                      color: white
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
              - type: picture-elements
                image: camera.front_camera_starling
                tap_action:
                  action: more-info
                camera_image: camera.kitchen_camera_g3
                camera_view: live
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.kitchen_camera_g3
                    camera_image: camera.kitchen_camera_g3
                    camera_view: live
                    tap_action:
                      action: navigate
                      navigation_path: '#camera-control'
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                  - type: icon
                    icon: mdi:faucet
                    tap_action:
                      action: call-service
                      service: rest_command.kitchen_default_position
                    style:
                      top: 80%
                      left: 89%
                      transform: none
                      color: white
                  - type: icon
                    icon: mdi:sofa
                    tap_action:
                      action: call-service
                      service: rest_command.living_room_default_position
                    style:
                      top: 80%
                      left: 76%
                      transform: none
                      color: white
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
              - type: picture-elements
                image: camera.nursery_camera_g3
                camera_image: camera.nursery_camera_g3
                camera_view: live
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.nursery_camera_g3
                    camera_image: camera.nursery_camera_g3
                    camera_view: live
                    tap_action:
                      action: more-info
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
              - type: picture-elements
                image: camera.nursery_camera_g3
                camera_image: camera.play_pen
                camera_view: live
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.play_pen
                    camera_image: camera.play_pen
                    camera_view: live
                    tap_action:
                      action: more-info
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
              - type: picture-elements
                image: camera.doorbell_camera_snapshot
                camera_image: camera.doorbell_camera_snapshot
                camera_view: live
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.doorbell_2
                    camera_image: camera.doorbell_2
                    camera_view: auto
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
            card_mod:
              style: |
                ha-card {
                  margin-right: -40px!important}
          - type: custom:button-card
            name: Scenes
            styles:
              grid:
                - grid-template-areas: '"n"'
              card:
                - background: transparent
                - height: 40px
                - border-radius: 0px
                - margin-top: 20px
              name:
                - justify-self: start
                - font-size: 18px
                - font-weight: 500
                - color: var(--primary-text-color)
                - font-weight: bold
                - margin-bottom: '-15px'
            show_state: false
            show_name: true
            show_icon: false
          - type: custom:button-card
            styles:
              grid:
                - grid-template-areas: '"chips" "chips"'
              card:
                - background: rgba(0, 0, 0, 0)
                  flex-direction: row
                  overflow-x: auto
                  flex-wrap: nowrap
                  flex-shrink: 0
                  scrollbar-width: thin
                  scrollbar-color: rgba(255,255,255, 0.05) rgba(255,255,255, 0)
                  padding: 0px
            custom_fields:
              chips:
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Baby Sleeping
                        var_scene: scene.baby_sleeping
                        var_icon: mdi:sleep
                        var_icon_color: '#5ac8fa'
                      styles:
                        card:
                          - width: 165px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      tap_action:
                        action: call-service
                        service: scene.turn_on
                        target:
                          entity_id: scene.house_off
                        confirmation:
                          text: Turn everything in the house off?
                      variables:
                        var_name: House Off
                        var_scene: scene.house_off
                        var_icon: mdi:home-off
                        var_icon_color: var(--label-badge-green)
                      styles:
                        card:
                          - width: 140px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Living Room Dull
                        var_scene: scene.living_room_dull
                        var_icon: mdi:floor-lamp
                        var_icon_color: '#ff9800'
                      styles:
                        card:
                          - width: 185px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: TV Scene
                        var_scene: scene.tv_scene
                        var_icon: mdi:television
                        var_icon_color: var(--label-badge-blue)
                      styles:
                        card:
                          - width: 135px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Kitchen Mid Warm
                        var_scene: scene.kitchen_mid_warm
                        var_icon: mdi:lightbulb-on
                        var_icon_color: '#ff9800'
                      styles:
                        card:
                          - width: 190px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Bedroom Dull
                        var_scene: scene.bedroom_dull
                        var_icon: mdi:bed-king
                        var_icon_color: var(--label-badge-yellow)
                      styles:
                        card:
                          - width: 160px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Nursery Cosy
                        var_scene: scene.nursery_cosy_dim
                        var_icon: mdi:lightbulb-on-10
                        var_icon_color: red
                      styles:
                        card:
                          - width: 160px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Nursery Warm
                        var_scene: scene.nursery_cosy_bright
                        var_icon: mdi:lightbulb-on-60
                        var_icon_color: orangered
                      styles:
                        card:
                          - width: 165px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Nursery Bright
                        var_scene: scene.nursery_bright
                        var_icon: mdi:lightbulb-on
                        var_icon_color: var(--label-badge-yellow)
                      styles:
                        card:
                          - width: 165px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          '-webkit-backdrop-filter': blur(10px); !important;
                          }
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                '-webkit-backdrop-filter': blur(10px); !important;
                }
          - type: vertical-stack
            cards:
              - type: custom:button-card
                template: sub_headings
                variables:
                  var_name: Devices
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/rooms
                styles:
                  card:
                    - margin-bottom: '-45px'
              - type: vertical-stack
                cards:
                  - type: vertical-stack
                    cards:
                      - type: custom:button-card
                        styles:
                          grid:
                            - grid-template-areas: '"chips" "chips"'
                          card:
                            - background: rgba(0, 0, 0, 0)
                              margin-left: '-10px'
                              margin-right: '-10px'
                              margin-top: 40px
                              margin-bottom: '-10px'
                              padding: 0px
                              flex-direction: row
                              overflow-x: auto
                              flex-wrap: nowrap
                              flex-shrink: 0
                              scrollbar-width: thin
                              scrollbar-color: rgba(255,255,255, 0.05) rgba(255,255,255, 0)
                        custom_fields:
                          chips:
                            card:
                              type: horizontal-stack
                              cards:
                                - type: custom:button-card
                                  styles:
                                    card:
                                      - width: 0px
                                      - background: transparent
                                - type: custom:button-card
                                  name: Favourites
                                  entity: input_boolean.favourites_dash
                                  icon: mdi:star
                                  show_icon: true
                                  show_name: false
                                  tap_action:
                                    action: call-service
                                    service: script.favourites_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        icon:
                                          - color: white
                                          - opacity: 0.999
                                  styles:
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 40px
                                      - height: 40px
                                      - padding: 0px
                                      - padding-top: 2px
                                      - margin-left: '-5px'
                                    icon:
                                      - color: white
                                      - width: 20px
                                      - opacity: 0.5
                                - type: custom:button-card
                                  name: Bedroom
                                  entity: input_boolean.bedroom_dash
                                  icon: mdi:moon-full
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.bedroom_dash_only
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 0px 0px 8px 0px
                                - type: custom:button-card
                                  name: Living Room
                                  icon: mdi:moon-full
                                  entity: input_boolean.living_room_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.living_room_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Nursery
                                  icon: mdi:moon-full
                                  entity: input_boolean.nursery_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.nursery_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Kitchen
                                  icon: mdi:moon-full
                                  entity: input_boolean.kitchen_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.kitchen_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Patio
                                  icon: mdi:moon-full
                                  entity: input_boolean.patio_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.patio_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Study
                                  icon: mdi:moon-full
                                  entity: input_boolean.study_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.study_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Bathroom
                                  icon: mdi:moon-full
                                  entity: input_boolean.bathroom_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.bathroom_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Front Yard
                                  icon: mdi:moon-full
                                  entity: input_boolean.front_yard_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.front_yard_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Backyard
                                  icon: mdi:moon-full
                                  entity: input_boolean.backyard_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.backyard_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Garage
                                  icon: mdi:moon-full
                                  entity: input_boolean.garage_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.garage_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
                                - type: custom:button-card
                                  name: Other
                                  icon: mdi:moon-full
                                  entity: input_boolean.other_dash
                                  show_icon: false
                                  tap_action:
                                    action: call-service
                                    service: script.other_dash_2
                                  state:
                                    - value: 'on'
                                      styles:
                                        name:
                                          - color: white
                                          - opacity: 0.999
                                        icon:
                                          - color: white
                                          - opacity: 1
                                  styles:
                                    grid:
                                      - grid-template-areas: '"n" "i"'
                                        grid-template-columns: 1fr
                                        grid-template-rows: auto auto
                                    card:
                                      - background: transparent
                                      - border-radius: 0px
                                      - width: 100%
                                      - height: 60px
                                    name:
                                      - font-size: 15px
                                      - font-weight: 500
                                      - text-transform: uppercase
                                      - padding: 0px 8px 0px 4px
                                      - opacity: 0.5
                                    icon:
                                      - opacity: 0
                                      - width: 10px
                                      - padding: 4px 0px 0px 0px
      - type: grid
        cards:
          - type: custom:button-card
            name: Garage Door
            show_state: false
            show_icon: false
            entity: cover.smart_garage_door_opener_msg100_main_channel
            custom_fields:
              num: |
                [[[ 
                switch (entity.state) {
                  case 'open':
                    return 'Open';
                  case 'closed':
                    return 'Closed';
                  case 'opening':
                    return 'Opening';
                  case 'closing':
                    return 'Closing';
                  default:
                    return 'Unknown State'; // Optional: Handle unexpected states
                }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:garage
                  show_name: false
                  entity: cover.smart_garage_door_opener_msg100_main_channel
                  tap_action:
                    action: toggle
                  state:
                    - value: open
                      styles:
                        img_cell:
                          - background: '#926cc7'
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 20px
                        color: '#926cc7'
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: open
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: auto
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: |
              [[[ 
                const climate_entity = states['climate.bedroom_split_system'];
                if (climate_entity.attributes.hvac_modes.includes('heat')) {
                  return 'Bedroom Heater';
                } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                  return 'Bedroom Air Con';
                } else if (climate_entity.attributes.hvac_modes.includes('off')) {
                  return "Bedroom Split System";
                } else {
                  return "Unknown";  // Default text if no match found
                }
              ]]]
            show_state: false
            show_icon: false
            entity: climate.bedroom_split_system
            custom_fields:
              num: |
                [[[ 
                  const climate_entity = states['climate.bedroom_split_system'];
                  if (climate_entity.state === 'off') {
                    return "Off";
                  } else if (climate_entity.attributes.hvac_modes.includes('heat')) {
                    return 'Heating to ' + climate_entity.attributes.max_temp + '';
                  } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                    return 'Cooling to ' + climate_entity.attributes.min_temp + '';
                  } else {
                    return "Unknown";  // Default text if no match found
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:fire
                  show_name: false
                  entity: climate.bedroom_split_system
                  tap_action:
                    action: toggle
                  state:
                    - value: heat
                      styles:
                        img_cell:
                          - background: '#ff7022'
                        icon:
                          - color: white
                    - value: cool
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: navigate
              navigation_path: '#bedroom-split-system'
            state:
              - value: heat
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
              - value: cool
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: auto
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: |
              [[[ 
                const climate_entity = states['climate.living_room_split_system'];
                if (climate_entity.attributes.hvac_modes.includes('heat')) {
                  return 'Living Room Heater';
                } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                  return 'Living Room Air Con';
                } else if (climate_entity.attributes.hvac_modes.includes('off')) {
                  return "Living Room Split System";
                } else {
                  return "Unknown";  // Default text if no match found
                }
              ]]]
            show_state: false
            show_icon: false
            entity: climate.living_room_split_system
            custom_fields:
              num: |
                [[[ 
                  const climate_entity = states['climate.living_room_split_system'];
                  if (climate_entity.state === 'off') {
                    return "Off";
                  } else if (climate_entity.attributes.hvac_modes.includes('heat')) {
                    return 'Heating to ' + climate_entity.attributes.max_temp + '';
                  } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                    return 'Cooling to ' + climate_entity.attributes.min_temp + '';
                  } else {
                    return "Unknown";  // Default text if no match found
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:fire
                  show_name: false
                  entity: climate.living_room_split_system
                  tap_action:
                    action: toggle
                  state:
                    - value: heat
                      styles:
                        img_cell:
                          - background: '#ff7022'
                        icon:
                          - color: white
                    - value: cool
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: navigate
              navigation_path: '#living-room-split-system'
            state:
              - value: heat
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
              - value: cool
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: auto
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Living Room TV
            show_state: false
            show_icon: false
            entity: media_player.living_room_tv
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    const media_entity = states['media_player.living_room_tv'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_channel;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:television
                  show_name: false
                  entity: media_player.living_room_tv
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: navigate
              navigation_path: /lovelace/remote
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: auto
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.favourites_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            name: Ceiling Light
            show_state: false
            show_icon: false
            entity: light.bedroom_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.bedroom_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Bed Light
            show_state: false
            show_icon: false
            entity: light.bed_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.bed_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: |
              [[[ 
                const climate_entity = states['climate.bedroom_split_system'];
                if (climate_entity.attributes.hvac_modes.includes('heat')) {
                  return 'Heater';
                } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                  return 'Air Conditioner';
                } else if (climate_entity.attributes.hvac_modes.includes('off')) {
                  return "Split System";
                } else {
                  return "Unknown";  // Default text if no match found
                }
              ]]]
            show_state: false
            show_icon: false
            entity: climate.bedroom_split_system
            custom_fields:
              num: |
                [[[ 
                  const climate_entity = states['climate.bedroom_split_system'];
                  if (climate_entity.state === 'off') {
                    return "Off";
                  } else if (climate_entity.attributes.hvac_modes.includes('heat')) {
                    return 'Heating to ' + climate_entity.attributes.max_temp + '';
                  } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                    return 'Cooling to ' + climate_entity.attributes.min_temp + '';
                  } else {
                    return "Unknown";  // Default text if no match found
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:fire
                  show_name: false
                  entity: climate.bedroom_split_system
                  tap_action:
                    action: toggle
                  state:
                    - value: heat
                      styles:
                        img_cell:
                          - background: '#ff7022'
                        icon:
                          - color: white
                    - value: cool
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: navigate
              navigation_path: '#bedroom-split-system'
            state:
              - value: heat
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
              - value: cool
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Hugo
              var_num: Hue Go
              var_icon: mdi:wall-sconce-round-variant
              var_entity: light.hue_go
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.bedroom_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            name: |
              [[[ 
                const climate_entity = states['climate.living_room_split_system'];
                if (climate_entity.attributes.hvac_modes.includes('heat')) {
                  return 'Living Room Heater';
                } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                  return 'Living Room Air Con';
                } else if (climate_entity.attributes.hvac_modes.includes('off')) {
                  return "Living Room Split System";
                } else {
                  return "Unknown";  // Default text if no match found
                }
              ]]]
            show_state: false
            show_icon: false
            entity: climate.living_room_split_system
            custom_fields:
              num: |
                [[[ 
                  const climate_entity = states['climate.living_room_split_system'];
                  if (climate_entity.state === 'off') {
                    return "Off";
                  } else if (climate_entity.attributes.hvac_modes.includes('heat')) {
                    return 'Heating to ' + climate_entity.attributes.max_temp + '';
                  } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                    return 'Cooling to ' + climate_entity.attributes.min_temp + '';
                  } else {
                    return "Unknown";  // Default text if no match found
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:fire
                  show_name: false
                  entity: climate.living_room_split_system
                  tap_action:
                    action: toggle
                  state:
                    - value: heat
                      styles:
                        img_cell:
                          - background: '#ff7022'
                        icon:
                          - color: white
                    - value: cool
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: navigate
              navigation_path: '#bedroom-split-system'
            state:
              - value: heat
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
              - value: cool
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Living Room TV
            show_state: false
            show_icon: false
            entity: media_player.living_room_tv
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    const media_entity = states['media_player.living_room_tv'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_channel;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:television
                  show_name: false
                  entity: media_player.living_room_tv
                  tap_action:
                    action: more-info
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: navigate
              navigation_path: /lovelace/remote
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: North Ceiling Light
              var_icon: mdi:light-recessed
              var_entity: light.living_room_north_ceiling_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Middle Ceiling Light
              var_icon: mdi:light-recessed
              var_entity: light.living_room_middle_ceiling_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Mushroom
              var_icon: mdi:lamp
              var_entity: light.mushroom
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Ambient Lights
              var_icon: mdi:floor-lamp
              var_entity: light.ambient_lights
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.living_room_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Ceiling Light
              var_icon: mdi:light-recessed
              var_entity: light.study_ceiling_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Strip Light
              var_icon: mdi:led-strip-variant
              var_entity: light.nursery_strip
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Luna
              var_icon: mdi:moon-full
              var_entity: light.luna
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Blind
            show_state: false
            show_icon: false
            entity: cover.study_blind
            custom_fields:
              num: |
                [[[ 
                switch (entity.state) {
                  case 'open':
                    return 'Open';
                  case 'closed':
                    return 'Closed';
                  case 'opening':
                    return 'Opening';
                  case 'closing':
                    return 'Closing';
                  default:
                    return 'Unknown State'; // Optional: Handle unexpected states
                }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:blinds
                  show_name: false
                  entity: cover.study_blind
                  tap_action:
                    action: toggle
                  state:
                    - value: open
                      styles:
                        img_cell:
                          - background: '#926cc7'
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 20px
                        padding-top: 3px
                        color: '#926cc7'
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: open
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Shutters
            show_state: false
            show_icon: false
            entity: cover.nursery_shutters
            custom_fields:
              num: |
                [[[ 
                switch (entity.state) {
                  case 'open':
                    return 'Open';
                  case 'closed':
                    return 'Closed';
                  case 'opening':
                    return 'Opening';
                  case 'closing':
                    return 'Closing';
                  default:
                    return 'Unknown State'; // Optional: Handle unexpected states
                }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:window-shutter
                  show_name: false
                  entity: cover.nursery_shutters
                  tap_action:
                    action: toggle
                  state:
                    - value: open
                      styles:
                        img_cell:
                          - background: '#926cc7'
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        padding-top: 3px
                        color: '#926cc7'
                        border: 10px
                        padding-bottom: 2px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: open
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.nursery_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Ceiling Light
              var_icon: mdi:light-recessed
              var_entity: light.kitchen_ceiling_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Pendant
              var_icon: mdi:ceiling-light-multiple
              var_entity: light.pendant
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Dining Room Ceiling Light
              var_icon: mdi:light-recessed
              var_entity: light.dining_room_ceiling_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Candle
            show_state: false
            show_icon: false
            entity: input_boolean.candle
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:candle
                  show_name: false
                  entity: input_boolean.candle
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.kitchen_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            name: Festoon
            show_state: false
            show_icon: false
            entity: light.festoon_2
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: light.festoon_2
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Bar Strip
              var_icon: mdi:led-strip-variant
              var_entity: light.pergola_lightstrip
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Fans
            show_state: false
            show_icon: false
            entity: fan.patio_ceiling_fans
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return entity.attributes.percentage + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:fan
                  show_name: false
                  entity: fan.patio_ceiling_fans
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: '#00b4cd'
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.patio_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Ceiling Light
              var_icon: mdi:light-recessed
              var_entity: light.spare_bedroom_ceiling_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Desk Strip
              var_icon: mdi:led-strip-variant
              var_entity: light.desk_strip_aqara
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Desk Lamp
              var_icon: mdi:led-strip-variant
              var_entity: light.home_desk_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.study_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Floodlight
              var_icon: mdi:light-flood-down
              var_entity: light.floodlight
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Festoon
            show_state: false
            show_icon: false
            entity: light.festoon
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: light.festoon
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.backyard_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Veranda
              var_icon: mdi:lightbulb-variant
              var_entity: light.front_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Floodlight
            show_state: false
            show_icon: false
            entity: light.front_camera_starling_floodlight
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-flood-down
                  show_name: false
                  entity: light.front_camera_starling_floodlight
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Driveway
              var_icon: mdi:lightbulb-variant
              var_entity: light.driveway
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Garden Lights Switch
            show_state: false
            show_icon: false
            entity: switch.festoon_lighting_socket_1
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:power-plug
                  show_name: false
                  entity: switch.festoon_lighting_socket_1
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.front_yard_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Ceiling Light
              var_icon: mdi:light-recessed
              var_entity: light.garage_ceiling_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Floodlight
              var_icon: mdi:light-flood-down
              var_entity: light.rear_driveway_floodlight
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: String Lights
            show_state: false
            show_icon: false
            entity: light.garage_string_lights
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: light.garage_string_lights
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Garage Lamp
            show_state: false
            show_icon: false
            entity: light.garage_lamp
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lamp
                  show_name: false
                  entity: light.garage_lamp
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.garage_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Laundry Strip
              var_icon: mdi:led-strip-variant
              var_entity: light.laundry_strip
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: auto
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Hallway
              var_icon: mdi:light-recessed
              var_entity: light.hallway_ceiling_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: auto
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.other_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: entity_card
            variables:
              var_name: Ceiling Light
              var_icon: mdi:light-recessed
              var_entity: light.bathroom_light
              var_color: gold
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.bathroom_dash
            state: 'on'
      - type: grid
        cards:
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Input Booleans
            tap_action:
              action: navigate
              navigation_path: /lovelace/input-booleans
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card{
                  padding: 10px 0px 10px 0px;
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  -webkit-backdrop-filter: blur(10px); !important;
                  }
            card:
              type: vertical-stack
              cards:
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.alistair_sleep_focus
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Alistair Sleeping
                          var_entity: input_boolean.alistair_sleep_focus
                          var_icon: mdi:sleep
                          var_color: var(--label-badge-green)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }                
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.andreia_sleep_focus
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Andreia Sleeping
                          var_entity: input_boolean.andreia_sleep_focus
                          var_icon: mdi:sleep
                          var_color: var(--label-badge-green)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }                
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.don_t_lock
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Don't Lock
                          var_entity: input_boolean.don_t_lock
                          var_icon: mdi:lock-off
                          var_color: '#ffa915'
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }       
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.people_over
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: People Over
                          var_entity: input_boolean.people_over
                          var_icon: mdi:cancel
                          var_color: var(--label-badge-red)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }      
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.babysitter
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Babysitter
                          var_entity: input_boolean.babysitter
                          var_icon: mdi:cradle
                          var_color: '#ffa915'
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }      
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.guest_mode
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Guest Mode
                          var_entity: input_boolean.guest_mode
                          var_icon: mdi:account-group
                          var_color: var(--label-badge-blue)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }      
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.kitchen_dim
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Kitchen Dim
                          var_entity: input_boolean.kitchen_dim
                          var_icon: mdi:moon-waning-crescent
                          var_color: '#ffa915'
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }      
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.kitchen_override
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Kitchen Override
                          var_entity: input_boolean.kitchen_override
                          var_icon: mdi:cancel
                          var_color: var(--label-badge-red)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }                  
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.living_room_override
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Living Room Override
                          var_entity: input_boolean.living_room_override
                          var_icon: mdi:cancel
                          var_color: var(--label-badge-red)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }               
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.bedroom_override
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Bedroom Override
                          var_entity: input_boolean.bedroom_override
                          var_icon: mdi:cancel
                          var_color: var(--label-badge-red)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }       
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.bathroom_override
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Bathroom Override
                          var_entity: input_boolean.bathroom_override
                          var_icon: mdi:cancel
                          var_color: var(--label-badge-red)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }            
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.closet_override
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Wardrobe Override
                          var_entity: input_boolean.closet_override_override
                          var_icon: mdi:cancel
                          var_color: var(--label-badge-red)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }            
                - type: conditional
                  conditions:
                    - condition: state
                      entity: binary_sensor.playpen_motion
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Playpen Motion
                          var_entity: binary_sensor.playpen_motion
                          var_icon: mdi:motion-sensor
                          var_color: var(--label-badge-yellow)
                        tap_action:
                          action: more-info
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.closet_override
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Apple TV in Use
                          var_entity: input_boolean.apple_tv_in_use
                          var_icon: mdi:set-top-box
                          var_color: var(--label-badge-blue)
                      - type: entities
                        entities:
                          - type: divider
                            style:
                              height: 1px
                              width: 95%
                              margin-left: auto
                              margin-right: auto
                              background: rgba(255,255,255,0.1)
                        card_mod:
                          style: |
                            ha-card {
                            background: transparent;
                            }

                            #states.card-content {
                            padding: 0px 0px 0px 0px;
                            }
                - type: conditional
                  conditions:
                    - condition: state
                      entity: input_boolean.sleep_in_mode
                      state_not: unknown
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: toggle_switch
                        variables:
                          var_name: Sleep In Mode
                          var_entity: input_boolean.sleep_in_mode
                          var_icon: mdi:sleep
                          var_color: var(--label-badge-blue)
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#menu'
                show_header: false
                button_type: switch
                entity: person.alistair_merritt
                bg_opacity: '0'
                hide_backdrop: false
                bg_blur: '25'
                margin_top_desktop: 0px
                margin_top_mobile: 10px
                open_action: {}
                close_on_click: true
              - type: custom:button-card
                entity: input_boolean.home_dash
                name: Home
                show_state: false
                tap_action:
                  action: custom
                  custom: |


                    //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                    window.history.pushState(null,"","/lovelace/home-view");
                    window.dispatchEvent(new CustomEvent("location-changed"));
                    ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,1)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.favourites_dash
                name: Overview
                show_state: false
                tap_action:
                  action: custom
                  custom: |

                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.favourites_dash_2"}
                     )
                     
                    //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                    window.history.pushState(null,"","/lovelace/rooms");
                    window.dispatchEvent(new CustomEvent("location-changed"));
                    ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bedroom_dash
                name: Bedroom
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.bedroom_dash_2"}
                     )
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bedroom_dash
                name: Living Room
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.living_room_dash_2"}
                     )
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.kitchen_dash
                name: Kitchen
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.kitchen_dash_2"}
                     )
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.nursery_dash
                name: Nursery
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.nursery_dash_2"}
                     )
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.study_dash
                name: Study
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.study_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.patio_dash
                name: Patio
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.patio_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#a650a7'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.front_yard_dash
                name: Front Yard
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.front_yard_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.backyard_dash
                name: Backyard
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.backyard_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.garage_dash
                name: Garage
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.garage_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bedroom_dash
                name: Bathroom
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.bathroom_dash_2"}
                     )
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.other_dash
                name: Other
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.other_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: rgba(255,255,255,0.3)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                icon: mdi:close
                show_name: false
                tap_action:
                  action: navigate
                  navigation_path: '#menu'
                styles:
                  icon:
                    - width: 30px
                    - color: rgba(255,255,255,0.3)
                  img_cell:
                    - width: 50px
                    - height: 35px
                    - border-radius: 0px
                  card:
                    - background: none
                    - border-radius: 0px
                    - padding: 0
                    - align-content: end
                    - margin-left: 142px
                    - padding-bottom: 30px
                  label:
                    - font-size: 10px
                    - font-weight: 400
                    - letter-spacing: 0em
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(0, 0, 0, 0.3) !important;
                    }
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    right: 20px !important;
                    width: calc(100% - 20px);
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(0, 0, 0, 0.3) !important;
                    border-width: 3px;
                    border-radius: 100px;
                    padding: 10px;
                    drop-shadow: 0px 0px 0px 0px rgba(0,0,0,1)

                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 70px;
                    right: 18px;
                  }
                }
            card:
              type: custom:button-card
              icon: mdi:plus
              show_name: false
              tap_action:
                action: navigate
                navigation_path: '#menu'
              styles:
                icon:
                  - width: 30px
                  - color: rgba(255,255,255,0.3)
                img_cell:
                  - width: 50px
                  - height: 50px
                  - border-radius: 0px
                card:
                  - background: none
                  - border-radius: 0px
                  - padding: 0
                label:
                  - font-size: 10px
                  - font-weight: 400
                  - letter-spacing: 0em
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#shopping'
                margin_top_mobile: '-56px'
                margin_top_desktop: '-56px'
                bg_opacity: '0'
                bg_color: ''
                bg_blur: '25'
                show_icon: false
                margin: 7px
                width_desktop: 400px
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Shopping List
                styles:
                  card:
                    - margin-top: 0px
                    - margin-bottom: '-30px'
              - type: custom:gap-card
                height: 5
              - type: todo-list
                entity: todo.outlook_ha
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;
                      margin: -15px;
                    }
                    .card-content {
                      background-color: transparent;
                      color: rgba(255,255,255,0.5);
                    }
              - type: custom:button-card
                template: sub_headings
                variables:
                  var_name: Loyalty Cards
                styles:
                  card:
                    - margin-top: 10px
              - square: false
                type: grid
                cards:
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#flybuys
                    image: /api/image/serve/6ce6f2af7812cc98ba2e3ddf59c0b10f/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#everyday
                    image: /api/image/serve/62e4b66550210067799d95113a0f27dc/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#bunnings
                    image: /api/image/serve/2f52c5b835d8ec76a3109aa6447b2ede/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#myer
                    image: /api/image/serve/01687483a33503d3e43475c56d724714/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#dans
                    image: /api/image/serve/40d92b6cc6987d64e10ae37b66c04d76/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#boost
                    image: /api/image/serve/3c51945bc0519f6fb5382afdbf9384dd/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#rebel
                    image: /api/image/serve/314848d386ede8a472245783c818c651/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#freedom
                    image: /api/image/serve/7595cb4f56299e7c3baf114ba92401a6/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#racv
                    image: /api/image/serve/cf70bfe2f14be9375d46aea9a1786065/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#review
                    image: /api/image/serve/d85a503026d07318374d2484ff4fd194/512x512
                  - type: picture
                    tap_action:
                      action: navigate
                      navigation_path: /shopping-list/0#hairhouse
                    image: /api/image/serve/4ef08eee74d224e705edf02f16bd4815/512x512
                columns: 2
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#living-room-split-system'
                margin_top_mobile: 50px
                margin_top_desktop: 200px
                bg_opacity: '0'
                bg_color: ''
                bg_blur: '25'
                show_icon: false
                margin: 7px
                width_desktop: 400px
                hide_backdrop: false
                show_header: false
              - type: custom:gap-card
                height: 5
              - type: thermostat
                entity: climate.living_room_split_system
                features:
                  - type: climate-hvac-modes
                  - type: climate-fan-modes
                    style: dropdown
                name: Split System
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#bedroom-split-system'
                margin_top_mobile: 50px
                margin_top_desktop: 200px
                bg_opacity: '0'
                bg_color: ''
                bg_blur: '25'
                show_icon: false
                margin: 7px
                width_desktop: 400px
                hide_backdrop: false
                show_header: false
              - type: custom:gap-card
                height: 5
              - type: thermostat
                entity: climate.bedroom_split_system
                features:
                  - type: climate-hvac-modes
                  - type: climate-fan-modes
                    style: dropdown
                name: Split System
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#weather'
                margin_top_mobile: '-56px'
                margin_top_desktop: '-56px'
                bg_opacity: '0'
                bg_color: ''
                bg_blur: '25'
                show_icon: false
                margin: 7px
                width_desktop: 400px
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Weather
                styles:
                  card:
                    - margin-top: 0px
              - type: custom:button-card
                entity: weather.belmont_weather
                show_state: true
                show_name: false
                show_icon: false
                show_label: true
                tap_action:
                  action: more-info
                custom_fields:
                  icon:
                    card:
                      type: custom:button-card
                      show_name: false
                      show_state: false
                      show_entity_picture: true
                      entity_picture: |
                        [[[ 
                          return states['sensor.weather_icon_animated'].state;
                        ]]]
                      styles:
                        card:
                          - margin: 0px
                            padding: 0px
                            background-color: transparent
                            width: 150px
                            margin-right: '-30px'
                            margin-top: 10px
                        img_cell:
                          - padding: 0px
                            margin: 0px
                label: |
                  [[[ 
                    return states['sensor.geelong_racecourse_temp'].state + '';
                  ]]]
                styles:
                  grid:
                    - grid-template-areas: '"l icon" "s icon"'
                      grid-template-rows: auto auto
                      justify-items: start
                      align-items: start
                  card:
                    - padding: 0px
                      margin: 0px
                      background-color: transparent
                      border-radius: 0px
                  label:
                    - font-size: 70px
                      font-weight: 600
                      color: rgba(255,255,255,1)
                      justify-self: start
                      align-self: start
                      padding: 0px
                      margin: 0px
                  state:
                    - font-size: 20px
                      font-weight: 600
                      color: rgba(255,255,255,0.5)
                      justify-self: start
                      align-self: start
                      padding: 0px
                      margin: 0px
                  custom_fields:
                    icon:
                      - justify-self: end;
                      - align-self: start;
                      - padding-top: 10px
              - type: markdown
                content: >-
                  Feels like {{
                  states('sensor.geelong_racecourse_temp_feels_like') }}

                  {{ states('sensor.belmont_extended_text_0') }}
                card_mod:
                  style: |
                    ha-card {
                    background-color: transparent;
                    margin: 0px -15px 0px -15px}
              - type: custom:button-card
                styles:
                  grid:
                    - grid-template-areas: '"chips" "chips"'
                  card:
                    - background: rgba(0, 0, 0, 0)
                      flex-direction: row
                      overflow-x: auto
                      flex-wrap: nowrap
                      flex-shrink: 0
                      scrollbar-width: thin
                      scrollbar-color: rgba(255,255,255, 0.05) rgba(255,255,255, 0)
                      padding: 2
                      margin-top: '-10px'
                custom_fields:
                  chips:
                    card:
                      type: horizontal-stack
                      cards:
                        - type: custom:button-card
                          name: |
                            [[[ 
                              return states['sensor.geelong_racecourse_humidity'].state + '%';
                            ]]]
                          entity: sensor.geelong_racecourse_humidity
                          icon: mdi:water
                          show_state: false
                          show_name: true
                          show_icon: true
                          tap_action:
                            action: more-info
                          styles:
                            grid:
                              - grid-template-areas: '"i n"'
                              - grid-template-columns: min-content min-content;
                            card:
                              - background: rgba(255,255,255,0.1)
                              - justify-self: center
                              - justify-content: center
                              - align-self: start
                              - border-radius: 50px
                              - width: auto
                              - height: 35px
                              - padding-right: 8px
                            name:
                              - justify-self: center
                                font-size: 12px
                                font-weight: 600
                                color: var(--primary-text-color)
                            img_cell:
                              - width: 30px
                              - background: transparent
                              - border-radius: 100%
                              - justify-content: center
                              - padding-left: 2px
                            icon:
                              - width: 20px
                              - padding-left: 2px
                              - color: var(--label-badge-green)
                        - type: custom:button-card
                          name: |
                            [[[ 
                              return states['sensor.geelong_racecourse_rain_since_9am'].state + 'mm';
                            ]]]
                          entity: sensor.geelong_racecourse_rain_since_9am
                          icon: mdi:weather-rainy
                          show_state: false
                          show_name: true
                          show_icon: true
                          tap_action:
                            action: more-info
                          styles:
                            grid:
                              - grid-template-areas: '"i n"'
                              - grid-template-columns: min-content min-content;
                            card:
                              - background: rgba(255,255,255,0.1)
                              - justify-self: center
                              - justify-content: center
                              - align-self: start
                              - border-radius: 50px
                              - width: auto
                              - height: 35px
                              - padding-right: 8px
                            name:
                              - justify-self: center
                                font-size: 12px
                                font-weight: 600
                                color: var(--primary-text-color)
                            img_cell:
                              - width: 30px
                              - background: transparent
                              - border-radius: 100%
                              - justify-content: center
                              - padding-left: 2px
                            icon:
                              - width: 20px
                              - padding-left: 2px
                              - color: var(--label-badge-blue)
                        - type: custom:button-card
                          name: |
                            [[[
                              var wind_speed = states['sensor.geelong_racecourse_wind_speed_kilometre'].state + ' km/hr';
                              var wind_direction_state = states['sensor.geelong_racecourse_wind_direction'].state;
                              return wind_speed + ', ' + wind_direction_state;
                            ]]]
                          entity: sensor.geelong_racecourse_wind_speed_kilometre
                          icon: mdi:weather-windy
                          show_state: false
                          show_name: true
                          show_icon: true
                          tap_action:
                            action: more-info
                          styles:
                            grid:
                              - grid-template-areas: '"i n"'
                              - grid-template-columns: min-content min-content;
                            card:
                              - background: rgba(255,255,255,0.1)
                              - justify-self: center
                              - justify-content: center
                              - align-self: start
                              - border-radius: 50px
                              - width: auto
                              - height: 35px
                              - padding-right: 8px
                            name:
                              - justify-self: center
                                font-size: 12px
                                font-weight: 600
                                color: var(--primary-text-color)
                            img_cell:
                              - width: 30px
                              - background: transparent
                              - border-radius: 100%
                              - justify-content: center
                              - padding-left: 2px
                            icon:
                              - width: 20px
                              - color: grey
                              - padding-left: 2px
                        - type: custom:button-card
                          name: |
                            [[[ 
                              return states['sensor.geelong_racecourse_max_temp'].state + ' High';
                            ]]]
                          entity: sensor.geelong_racecourse_max_temp
                          icon: mdi:thermometer-chevron-up
                          show_state: false
                          show_name: true
                          show_icon: true
                          tap_action:
                            action: more-info
                          styles:
                            grid:
                              - grid-template-areas: '"i n"'
                              - grid-template-columns: min-content min-content;
                            card:
                              - background: rgba(255,255,255,0.1)
                              - justify-self: center
                              - justify-content: center
                              - align-self: start
                              - border-radius: 50px
                              - width: auto
                              - height: 35px
                              - padding-right: 8px
                            name:
                              - justify-self: center
                                font-size: 12px
                                font-weight: 600
                                color: var(--primary-text-color)
                            img_cell:
                              - width: 30px
                              - background: transparent
                              - border-radius: 100%
                              - justify-content: center
                              - padding-left: 2px
                            icon:
                              - width: 20px
                              - padding-left: 2px
                              - color: var(--label-badge-red)
                        - type: custom:button-card
                          name: |
                            [[[ 
                              return states['sensor.geelong_racecourse_min_temp'].state + ' Low';
                            ]]]
                          entity: sensor.geelong_racecourse_min_temp
                          icon: mdi:thermometer-chevron-down
                          show_state: false
                          show_name: true
                          show_icon: true
                          tap_action:
                            action: more-info
                          styles:
                            grid:
                              - grid-template-areas: '"i n"'
                              - grid-template-columns: min-content min-content;
                            card:
                              - background: rgba(255,255,255,0.1)
                              - justify-self: center
                              - justify-content: center
                              - align-self: start
                              - border-radius: 50px
                              - width: auto
                              - height: 35px
                              - padding-right: 8px
                            name:
                              - justify-self: center
                                font-size: 12px
                                font-weight: 600
                                color: var(--primary-text-color)
                            img_cell:
                              - width: 30px
                              - background: transparent
                              - border-radius: 100%
                              - justify-content: center
                              - padding-left: 2px
                            icon:
                              - width: 20px
                              - padding-left: 2px
                              - color: var(--label-badge-blue)
              - type: custom:swipe-card
                card_width: 100%
                start_card: 1
                parameters:
                  grabCursor: true
                  centeredSlides: false
                  slidesPerView: 1.1
                  spaceBetween: 15
                cards:
                  - type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: sub_headings
                        variables:
                          var_name: |
                            [[[ 
                              const currentHour = new Date().getHours();

                              if (currentHour < 12) {
                                return "Today";
                              } else if (currentHour < 18) {
                                return "Today";
                              } else {
                                return "This evening";
                              }
                            ]]]
                        styles:
                          card:
                            - margin-top: 0px
                      - type: custom:button-card
                        entity: weather.belmont_bom_hourly
                        show_name: false
                        show_icon: false
                        show_label: false
                        show_state: false
                        tap_action:
                          action: more-info
                        styles:
                          card:
                            - padding: 20px
                            - margin: 0px
                            - border-radius: 20px
                            - background-color: rgba(255,255,255,0.1)
                          grid:
                            - grid-template-areas: '"icon low high" "div div div" "desc desc desc"'
                            - grid-template-columns: 35% auto auto
                            - grid-template-rows: auto auto auto
                          custom_fields:
                            icon:
                              - align-self: start
                              - justify-self: start
                            low:
                              - align-self: start
                              - justify-self: start
                              - margin-left: 5px
                            high:
                              - align-self: start
                              - justify-self: start
                              - margin-left: 5px
                            desc:
                              - align-self: start
                              - justify-self: start
                              - padding-top: 10px
                        custom_fields:
                          icon:
                            card:
                              type: custom:button-card
                              entity: sensor.geelong_racecourse_temp
                              entity_picture: |
                                [[[ 
                                  return states['sensor.weather_icon_animated'].state;
                                ]]]
                              show_entity_picture: true
                              tap_action:
                                action: more-info
                              show_state: false
                              show_name: false
                              show_icon: false
                              styles:
                                card:
                                  - padding: 0px
                                  - padding-top: 5px
                                  - margin: 0px
                                  - background-color: transparent
                                icon:
                                  - width: 50px
                          low:
                            card:
                              type: custom:button-card
                              entity: weather.belmont_bom_hourly
                              tap_action:
                                action: more-info
                              name: |
                                [[[ 
                                  const now = new Date();
                                  const currentHour = now.getHours();
                                  let temp;
                                  
                                  if (currentHour >= 18 || currentHour < 9) {
                                    temp = states['sensor.belmont_now_temp_now'].state;
                                  } else {
                                    temp = states['sensor.belmont_now_temp_later'].state;
                                  }
                                  
                                  temp = temp.replace('C', '').replace('C', '');
                                  return temp + '';
                                ]]]
                              label: |
                                [[[ 
                                  const now = new Date();
                                  const currentHour = now.getHours();
                                  let label;
                                  
                                  if (currentHour >= 18 || currentHour < 9) {
                                    label = states['sensor.belmont_now_now_label'].state;
                                  } else {
                                    label = states['sensor.belmont_now_later_label'].state;
                                  }
                                  
                                  label = label.replace('Overnight', '').trim(); // Remove 'Overnight' and trim any extra spaces
                                  
                                  return label;
                                ]]]
                              show_state: false
                              show_name: true
                              show_icon: false
                              show_label: true
                              styles:
                                card:
                                  - padding: 0px
                                  - margin: 0px
                                  - background-color: transparent
                                  - align-content: start
                                  - justify-content: start
                                  - border-radius: 0px
                                name:
                                  - font-size: 30px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.5)
                                  - justify-self: start
                                  - padding-bottom: 5px
                                label:
                                  - font-size: 12px
                                  - text-transform: uppercase
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.5)
                                  - justify-self: start
                          high:
                            card:
                              type: custom:button-card
                              entity: weather.belmont_bom_hourly
                              tap_action:
                                action: more-info
                              name: |
                                [[[ 
                                  const now = new Date();
                                  const currentHour = now.getHours();
                                  let temp;
                                  
                                  if (currentHour >= 9 && currentHour < 18) {
                                    temp = states['sensor.belmont_now_temp_now'].state;
                                  } else {
                                    temp = states['sensor.belmont_now_temp_later'].state;
                                  }
                                  
                                  temp = temp.replace('C', '').replace('C', '');
                                  return temp + '';
                                ]]]
                              label: |
                                [[[ 
                                  const now = new Date();
                                  const currentHour = now.getHours();
                                  let label;
                                  
                                  if (currentHour >= 9 && currentHour < 18) {
                                    label = states['sensor.belmont_now_now_label'].state;
                                  } else {
                                    label = states['sensor.belmont_now_later_label'].state;
                                  }
                                  
                                  label = label.replace('Overnight', '').trim(); // Remove 'Overnight' and trim any extra spaces
                                  
                                  return label;
                                ]]]
                              show_state: false
                              show_name: true
                              show_icon: false
                              show_label: true
                              styles:
                                card:
                                  - padding: 0px
                                  - margin: 0px
                                  - background-color: transparent
                                  - align-content: start
                                  - justify-content: start
                                  - border-radius: 0px
                                name:
                                  - font-size: 30px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,1)
                                  - justify-self: start
                                  - padding-bottom: 5px
                                label:
                                  - font-size: 12px
                                  - text-transform: uppercase
                                  - font-weight: 600
                                  - color: rgba(255,255,255,1)
                                  - justify-self: start
                          div:
                            card:
                              type: entities
                              entities:
                                - type: divider
                                  style:
                                    height: 1px
                                    width: 100%
                                    background: rgba(255,255,255,0.2)
                              card_mod:
                                style: |
                                  ha-card {
                                  background: transparent;
                                  }

                                  #states.card-content {
                                  padding: 0px 0px 20px 0px;
                                  }                
                          desc:
                            card:
                              type: custom:button-card
                              entity: weather.belmont_bom_hourly
                              tap_action:
                                action: more-info
                              show_state: false
                              show_name: true
                              show_icon: false
                              show_label: true
                              name: |

                                [[[ 
                                  return states['sensor.belmont_short_text_0'].state;
                                ]]]
                              label: |
                                [[[
                                  const rainChance = parseInt(states['sensor.belmont_rain_chance_1'].state);
                                  const rainAmountMax = states['sensor.belmont_rain_amount_max_1'].state;
                                  if (rainChance <= 10) {
                                    return 'Small chance of rain, 0-1mm';
                                  } else {
                                    return `${rainChance}% chance of rain, ${rainAmountMax}mm`;
                                  }
                                ]]]
                              styles:
                                card:
                                  - padding: 0px
                                  - margin: 0px
                                  - background-color: transparent
                                  - border-radius: 0px
                                name:
                                  - font-size: 20px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,1)
                                  - justify-self: start
                                label:
                                  - font-size: 14px
                                  - padding-top: 5px
                                  - font-weight: 500
                                  - color: rgba(255,255,255,0.5)
                                  - justify-self: start
                  - type: vertical-stack
                    cards:
                      - type: custom:button-card
                        template: sub_headings
                        variables:
                          var_name: Tomorrow
                        styles:
                          card:
                            - margin-top: 0px
                      - type: custom:button-card
                        entity: weather.belmont_bom_hourly
                        show_name: false
                        show_icon: false
                        show_label: false
                        show_state: false
                        tap_action:
                          action: more-info
                        styles:
                          card:
                            - padding: 20px
                            - margin: 0px
                            - border-radius: 20px
                            - background-color: rgba(255,255,255,0.1)
                          grid:
                            - grid-template-areas: '"icon low high" "div div div" "desc desc desc"'
                            - grid-template-columns: 35% auto auto
                            - grid-template-rows: auto auto auto
                          custom_fields:
                            icon:
                              - align-self: start
                              - justify-self: start
                            low:
                              - align-self: start
                              - justify-self: start
                              - margin-left: 5px
                            high:
                              - align-self: start
                              - justify-self: start
                              - margin-left: 5px
                            desc:
                              - align-self: start
                              - justify-self: start
                              - padding-top: 10px
                        custom_fields:
                          icon:
                            card:
                              type: custom:button-card
                              entity: sensor.geelong_racecourse_temp
                              entity_picture: |
                                [[[ 
                                  return states['sensor.weather_icon_animated_tomorrow'].state;
                                ]]]
                              show_entity_picture: true
                              tap_action:
                                action: more-info
                              show_state: false
                              show_name: false
                              show_icon: false
                              styles:
                                card:
                                  - padding: 0px
                                  - padding-top: 5px
                                  - margin: 0px
                                  - background-color: transparent
                                icon:
                                  - width: 50px
                          low:
                            card:
                              type: custom:button-card
                              entity: weather.belmont_bom_hourly
                              tap_action:
                                action: more-info
                              name: |
                                [[[ 
                                  let temp = states['sensor.belmont_temp_min_1'].state;
                                  temp = temp.replace('C', '').replace('C', '');
                                  return temp + '';
                                ]]]
                              label: Low
                              show_state: false
                              show_name: true
                              show_icon: false
                              show_label: true
                              styles:
                                card:
                                  - padding: 0px
                                  - margin: 0px
                                  - background-color: transparent
                                  - align-content: start
                                  - justify-content: start
                                  - border-radius: 0px
                                name:
                                  - font-size: 30px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.5)
                                  - justify-self: start
                                  - padding-bottom: 5px
                                label:
                                  - font-size: 12px
                                  - text-transform: uppercase
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.5)
                                  - justify-self: start
                          high:
                            card:
                              type: custom:button-card
                              entity: weather.belmont_bom_hourly
                              tap_action:
                                action: more-info
                              name: |
                                [[[ 
                                  let temp = states['sensor.belmont_temp_max_1'].state;
                                  temp = temp.replace('C', '').replace('C', '');
                                  return temp + '';
                                ]]]
                              label: High
                              show_state: false
                              show_name: true
                              show_icon: false
                              show_label: true
                              styles:
                                card:
                                  - padding: 0px
                                  - margin: 0px
                                  - background-color: transparent
                                  - align-content: start
                                  - justify-content: start
                                  - border-radius: 0px
                                name:
                                  - font-size: 30px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,1)
                                  - justify-self: start
                                  - padding-bottom: 5px
                                label:
                                  - font-size: 12px
                                  - text-transform: uppercase
                                  - font-weight: 600
                                  - color: rgba(255,255,255,1)
                                  - justify-self: start
                          div:
                            card:
                              type: entities
                              entities:
                                - type: divider
                                  style:
                                    height: 1px
                                    width: 100%
                                    background: rgba(255,255,255,0.2)
                              card_mod:
                                style: |
                                  ha-card {
                                  background: transparent;
                                  }

                                  #states.card-content {
                                  padding: 0px 0px 20px 0px;
                                  }                
                          desc:
                            card:
                              type: custom:button-card
                              entity: weather.belmont_bom_hourly
                              tap_action:
                                action: more-info
                              show_state: false
                              show_name: true
                              show_icon: false
                              show_label: true
                              name: |

                                [[[ 
                                  return states['sensor.belmont_short_text_1'].state;
                                ]]]
                              label: |
                                [[[
                                  const rainChance = parseInt(states['sensor.belmont_rain_chance_1'].state);
                                  const rainAmountMax = states['sensor.belmont_rain_amount_max_1'].state;
                                  if (rainChance <= 10) {
                                    return 'Small chance of rain, 0-1mm';
                                  } else {
                                    return `${rainChance}% chance of rain, ${rainAmountMax}mm`;
                                  }
                                ]]]
                              styles:
                                card:
                                  - padding: 0px
                                  - margin: 0px
                                  - background-color: transparent
                                  - border-radius: 0px
                                name:
                                  - font-size: 20px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,1)
                                  - justify-self: start
                                label:
                                  - font-size: 14px
                                  - padding-top: 5px
                                  - font-weight: 500
                                  - color: rgba(255,255,255,0.5)
                                  - justify-self: start
                  - type: custom:button-card
                    show_name: false
                    show_icon: false
                    show_state: false
                    styles:
                      card:
                        - background-color: transparent
                          padding: 0px
                          margin: 0px
                          height: 0px
              - type: entities
                entities:
                  - type: divider
                    style:
                      height: 1px
                      width: 100%
                      margin-left: auto
                      margin-right: auto
                      background: rgba(255,255,255,0.1)
                card_mod:
                  style: |
                    ha-card {
                    background: transparent;
                    }

                    #states.card-content {
                    padding: 20px 0px 0px 0px;
                    }     
              - type: custom:button-card
                template: sub_headings
                variables:
                  var_name: Hourly
                styles:
                  card:
                    - margin-top: 0px
              - show_current: false
                show_forecast: true
                type: weather-forecast
                entity: weather.belmont_bom_hourly
                forecast_type: hourly
                theme: iOS Theme
                card_mod:
                  style: |
                    ha-card {
                    background-color: transparent;
                    margin: 0px -20px -20px -20px}
              - type: entities
                entities:
                  - type: divider
                    style:
                      height: 1px
                      width: 100%
                      margin-left: auto
                      margin-right: auto
                      background: rgba(255,255,255,0.1)
                card_mod:
                  style: |
                    ha-card {
                    background: transparent;
                    }

                    #states.card-content {
                    padding: 20px 0px 0px 0px;
                    }    
              - type: custom:button-card
                template: sub_headings
                variables:
                  var_name: Forecast
                styles:
                  card:
                    - margin-top: 0px
              - type: custom:clock-weather-card
                entity: weather.belmont_bom
                sun_entity: sun.sun
                temperature_sensor: sensor.outdoor_temp
                humidity_sensor: sensor.outdoor_humidity
                weather_icon_type: line
                animated_icon: true
                forecast_rows: 5
                locale: en-GB
                time_pattern: HH:mm
                time_format: 24
                date_pattern: ccc, d.MM.yy
                hide_today_section: true
                hide_forecast_section: false
                show_humidity: false
                hide_clock: false
                hide_date: false
                hourly_forecast: false
                use_browser_time: false
                time_zone: null
                show_decimal: false
                apparent_sensor: sensor.real_feel_temperature
                aqi_sensor: sensor.air_quality_index
                card_mod:
                  style: |
                    ha-card {
                    background-color: transparent;
                    margin: 0px -15px -15px -15px}
              - type: entities
                entities:
                  - type: divider
                    style:
                      height: 1px
                      width: 100%
                      margin-left: auto
                      margin-right: auto
                      background: rgba(255,255,255,0.1)
                card_mod:
                  style: |
                    ha-card {
                    background: transparent;
                    }

                    #states.card-content {
                    padding: 20px 0px 0px 0px;
                    }    
              - type: custom:button-card
                template: sub_headings
                variables:
                  var_name: Radar
                styles:
                  card:
                    - margin-top: 0px
              - type: custom:bom-radar-card
                data_source: RainViewer-DarkSky
                map_style: Dark
                zoom_level: 10
                center_latitude: XXX
                center_longitude: XXX
                show_playback: true
                show_zoom: true
                show_range: false
                extra_labels: true
                show_radar_coverage: false
                show_radar_location: false
                show_scale: true
                show_marker: true
                square_map: true
                show_recenter: true
              - type: entities
                entities:
                  - type: divider
                    style:
                      height: 1px
                      width: 100%
                      margin-left: auto
                      margin-right: auto
                      background: rgba(255,255,255,0.1)
                card_mod:
                  style: |
                    ha-card {
                    background: transparent;
                    }

                    #states.card-content {
                    padding: 20px 0px 0px 0px;
                    }    
              - type: custom:button-card
                template: sub_headings
                variables:
                  var_name: Recent
                styles:
                  card:
                    - margin-top: 0px
              - type: custom:mini-graph-card
                name: Geelong Racecourse
                entities:
                  - entity: sensor.geelong_racecourse_temp
                    name: Actual
                  - entity: sensor.geelong_racecourse_temp_feels_like
                    name: Feels Like
                color_thresholds:
                  - value: 5
                    color: white
                  - value: 10
                    color: '#68ce67'
                  - value: 20
                    color: '#3478f6'
                  - value: 25
                    color: '#a358d7'
                  - value: 30
                    color: '#eb4838'
                  - value: 35
                    color: '#f6ce46'
                show:
                  icon: false
                  name: false
                  state: true
                  fill: false
                styles:
                  card:
                    - background-color: transparent
                      border: none
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: rgba(0, 0, 0, 0.3);
                      -webkit-backdrop-filter: blur(10px); !important;
                    }
              - type: entities
                entities:
                  - type: divider
                    style:
                      height: 1px
                      width: 100%
                      margin-left: auto
                      margin-right: auto
                      background: rgba(255,255,255,0.1)
                card_mod:
                  style: |
                    ha-card {
                    background: transparent;
                    }
                    #states.card-content {
                    padding: 5px 20px 0px 20px;
                    }     
              - type: custom:button-card
                template: sub_headings
                variables:
                  var_name: Sun
                styles:
                  card:
                    - margin-top: 0px
              - type: custom:horizon-card
                moon: true
                refresh_period: 60
                fields:
                  sunrise: true
                  sunset: true
                  dawn: true
                  noon: true
                  dusk: true
                southern_flip: false
                moon_phase_rotation: -10
                language: en
                time_format: language
                number_format: language
                card_mod:
                  style: |
                    ha-card {
                      --ha-card-background: rgba(0, 0, 0, 0.3);
                      -webkit-backdrop-filter: blur(10px); !important;
                    }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#cameras'
                margin_top_mobile: '-56px'
                margin_top_desktop: '-56px'
                bg_opacity: '100'
                bg_color: ''
                bg_blur: '25'
                show_icon: false
                margin: 7px
                width_desktop: 400px
              - type: custom:button-card
                name: Cameras
                show_state: false
                show_icon: false
                show_name: true
                custom_fields:
                  btn:
                    card:
                      type: custom:layout-card
                      layout_type: custom:grid-layout
                      layout:
                        grid-template-columns: min-content
                        grid-template-rows: min-content
                        grid-template-areas: '"one"'
                      cards:
                        - view_layout:
                            grid-area: one
                          type: custom:button-card
                          icon: mdi:view-grid
                          entity: input_boolean.camera_grid_toggle
                          tap_action:
                            action: toggle
                          show_state: false
                          show_name: false
                          state:
                            - value: 'off'
                              icon: mdi:view-agenda
                          styles:
                            grid:
                              - grid-template-areas: '"i"'
                            card:
                              - background: rgba(0,0,0,0.8)
                              - border-radius: 100px
                              - margin-top: 5px
                              - margin-left: 5px
                              - justify-content: end
                              - align-content: end
                            img_cell:
                              - width: 30px
                              - height: 32px
                            icon:
                              - width: 20px
                              - height: 20px
                              - color: rgba(255,255,255,0.8)
                              - padding-bottom: 4px
                styles:
                  grid:
                    - grid-template-areas: '"n btn"'
                    - grid-template-columns: auto min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - height: 70px
                    - padding: 0px 0px 0px 0px
                  name:
                    - justify-self: start
                    - align-self: center
                    - font-size: 30px
                    - font-weight: 500
                    - color: rgba(255,255,255,1)
                    - font-weight: bold
                    - margin-top: 5px
                  img_cell:
                    - width: 50px
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.camera_grid_toggle
                    state: 'on'
                card:
                  square: false
                  columns: 1
                  type: grid
                  cards:
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.front_camera_starling
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.garage_camera_starling
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.patio_camera_starling
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.backyard_camera_starling
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.kitchen_camera_g3
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.nursery_camera_g3
                      tap_action:
                        action: url
                        url_path: shortcuts://run-shortcut?name=aqara
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.play_pen
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            margin: auto;}
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.camera_grid_toggle
                    state: 'off'
                card:
                  square: false
                  columns: 2
                  type: grid
                  cards:
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.front_camera_starling
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            border-radius: 10px;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.garage_camera_starling
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            border-radius: 10px;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.patio_camera_starling
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            border-radius: 10px;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.backyard_camera_starling
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            border-radius: 10px;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.kitchen_camera_g3
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            border-radius: 10px;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.nursery_camera_g3
                      tap_action:
                        action: url
                        url_path: shortcuts://run-shortcut?name=aqara
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            border-radius: 10px;
                            margin: auto;}
                    - show_state: false
                      show_name: false
                      camera_view: live
                      type: picture-entity
                      entity: camera.play_pen
                      card_mod:
                        style: |
                          ha-card {
                            border: transparent;
                            margin: auto;}
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#camera-control'
                margin_top_mobile: '-56px'
                margin_top_desktop: '-56px'
                bg_opacity: '0'
                bg_color: ''
                bg_blur: '25'
                show_icon: false
                margin: 7px
                width_desktop: 400px
              - type: custom:button-card
                name: Camera Control
                show_state: false
                show_icon: false
                show_name: true
                styles:
                  grid:
                    - grid-template-areas: '"n btn"'
                    - grid-template-columns: auto min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - height: 70px
                    - padding: 0px 0px 0px 0px
                  name:
                    - justify-self: start
                    - align-self: center
                    - font-size: 30px
                    - font-weight: 500
                    - color: rgba(255,255,255,1)
                    - font-weight: bold
                    - margin-top: 5px
                  img_cell:
                    - width: 50px
              - type: picture-elements
                image: camera.front_camera_starling
                tap_action:
                  action: more-info
                camera_image: camera.kitchen_camera_g3
                camera_view: live
                aspect_ratio: '10:7.5'
                hold_action:
                  action: more-info
                elements:
                  - type: image
                    entity: camera.kitchen_camera_g3
                    camera_image: camera.kitchen_camera_g3
                    camera_view: live
                    tap_action:
                      action: navigate
                      navigation_path: '#camera-control'
                    style:
                      top: 50%
                      left: 50%
                      width: 100%
                      opacity: 0%
                  - type: icon
                    icon: mdi:faucet
                    tap_action:
                      action: call-service
                      service: rest_command.kitchen_default_position
                    style:
                      top: 85%
                      left: 89%
                      transform: none
                      color: white
                  - type: icon
                    icon: mdi:sofa
                    tap_action:
                      action: call-service
                      service: rest_command.living_room_default_position
                    style:
                      top: 85%
                      left: 76%
                      transform: none
                      color: white
                card_mod:
                  style: |
                    ha-card {
                      background-color: transparent;}
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    tap_action:
                      action: perform-action
                      perform_action: script.kitchen_camera_living_room_default_position
                    icon: mdi:sofa
                    name: Living Room
                    show_state: false
                    show_icon: false
                    styles:
                      grid:
                        - grid-template-areas: '"n"'
                      card:
                        - padding: 10px
                          height: 66px
                          margin: auto
                          align-self: center
                          align-content: center
                          justify-self: center
                          justify-content: center
                      img_cell:
                        - width: 60px
                          align-self: center
                          align-content: center
                          justify-self: center
                          justify-content: center
                      name:
                        - font-weight: 600
                          align-self: center
                          align-content: center
                          justify-self: center
                          justify-content: center
                  - type: custom:button-card
                    tap_action:
                      action: perform-action
                      perform_action: script.kitchen_camera_kitchen_default_position
                    icon: mdi:sofa
                    name: Kitchen
                    show_state: false
                    show_icon: false
                    styles:
                      grid:
                        - grid-template-areas: '""n"'
                      card:
                        - padding: 10px
                          height: 66px
                          margin: auto
                          align-self: center
                          align-content: center
                          justify-self: center
                          justify-content: center
                      img_cell:
                        - width: 60px
                          align-self: center
                          align-content: center
                          justify-self: center
                          justify-content: center
                      name:
                        - font-weight: 600
                          align-self: center
                          align-content: center
                          justify-self: center
                          justify-content: center
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    right: 100px !important;
                    width: calc(100% - 20px);
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(255, 255, 255, 0.1) !important;
                    border-width: 3px;
                    border-radius: 100px;
                    padding: 10px;
                    drop-shadow: 0px 0px 0px 0px rgba(0,0,0,0)

                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 70px;
                    right: 18px;
                  }
                }
            card:
              type: custom:button-card
              icon: mdi:assistant
              show_name: false
              tap_action:
                action: navigate
                navigation_path: '#chat'
              styles:
                icon:
                  - width: 25px
                  - color: rgba(255,255,255,0.7)
                img_cell:
                  - width: 50px
                  - height: 50px
                  - border-radius: 0px
                card:
                  - background: none
                  - border-radius: 0px
                  - padding: 0
                label:
                  - font-size: 10px
                  - font-weight: 400
                  - letter-spacing: 0em
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#nursery_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.nursery
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.nursery
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.nursery'].attributes.media_title != undefined) 
                                    return states['media_player.nursery'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.nursery'].attributes.media_artist != undefined) 
                                    return states['media_player.nursery'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.nursery'].attributes.media_album_name != undefined) 
                                    return states['media_player.nursery'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.nursery
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.nursery
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.nursery
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.nursery
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.nursery
                                      entity: media_player.nursery
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.nursery
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.nursery
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.nursery
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.nursery
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.nursery
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.nursery
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#study_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.left_study_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.left_study_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.left_study_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.left_study_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.left_study_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.left_study_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.left_study_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.left_study_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.left_study_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.left_study_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.left_study_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.left_study_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.left_study_homepod
                                      entity: media_player.left_study_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.left_study_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.left_study_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.left_study_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.left_study_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.left_study_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.left_study_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#kitchen_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.kitchen_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.kitchen_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.kitchen_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.kitchen_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.kitchen_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.kitchen_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.kitchen_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.kitchen_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.kitchen_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.kitchen_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.kitchen_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.kitchen_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.kitchen_homepod
                                      entity: media_player.kitchen_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.kitchen_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.kitchen_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.kitchen_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.kitchen_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.kitchen_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.kitchen_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#patio_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.patio_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.patio_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.patio_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.patio_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.patio_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.patio_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.patio_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.patio_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.patio_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.patio_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.patio_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.patio_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.patio_homepod
                                      entity: media_player.patio_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.patio_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.patio_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.patio_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.patio_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.patio_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.patio_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#living_room_homepods'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.living_room_2
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.living_room_2
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.living_room_2'].attributes.media_title != undefined) 
                                    return states['media_player.living_room_2'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.living_room_2'].attributes.media_artist != undefined) 
                                    return states['media_player.living_room_2'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.living_room_2'].attributes.media_album_name != undefined) 
                                    return states['media_player.living_room_2'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.living_room_2
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.living_room_2
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.living_room_2
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.living_room_2
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.living_room_2
                                      entity: media_player.living_room_2
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.living_room_2
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.living_room_2
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.living_room_2
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.living_room_2
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.living_room_2
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.living_room_2
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#bedroom_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.bedroom_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.bedroom_homepod
                                      entity: media_player.bedroom_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.bedroom_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.bedroom_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.bedroom_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.bedroom_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#santa-fe'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                close_on_click: true
                bg_blur: '25'
              - title: Santa Fe
                image_url: >-
                  https://media.chromedata.com/MediaGallery/media/MjkzOTU4Xk1lZGlhIEdhbGxlcnk/ZeqTu6EoxpdBKBCIVZH8aRafJmNlsE6tbL-F7itFxiwEi9OQTKvm8UtSJ1DD_XoR09Sq__BQwgEbCnvmGkofrq0xbrpHiyBuaGCikrUeqvq_8baGxOCe9KEmeq4gQhC0REUo0xU2zf19jsGiBIe1etufVFcxJtw4GIFhl-XreKESIQ6F04bgeQ/cc_2024HYS070029_01_640_NT2.png
                vehicle_type: Hybrid
                unit_type: km
                level_entity: ''
                range_entity: ''
                charging_status_entity: ''
                location_entity: device_tracker.santa_fe_location
                mileage_entity: sensor.santa_fe_odometer
                show_level: true
                show_range: true
                show_location: true
                show_mileage: true
                show_car_state: true
                show_charge_limit: true
                icon_grid_entities:
                  - lock.santa_fe_door_lock
                  - binary_sensor.santa_fe_hood
                  - binary_sensor.santa_fe_tire_pressure_all
                  - binary_sensor.santa_fe_fuel_low_level
                custom_icons: {}
                hybrid_display_order: fuel_first
                car_state_entity: ''
                charge_limit_entity: ''
                type: custom:ultra-vehicle-card
                battery_level_entity: sensor.santa_fe_ev_battery_level
                battery_range_entity: ''
                fuel_level_entity: sensor.santa_fe_fuel_level
                fuel_range_entity: sensor.santa_fe_total_driving_range
                show_battery: true
                show_battery_range: true
                show_fuel: true
                show_fuel_range: true
                card_mod:
                  style: |
                    ha-card {
                    background-color: transparent !important;
                    }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#chat'
                margin_top_mobile: '-40px'
                bg_opacity: '0'
                bg_blur: '100'
                styles: |-
                  .bubble-pop-up {

                    align: 'bottom'!important;
                    z-index: 1;
                    position: fixed;
                    bottom: 0px;
                  }
                show_header: false
                open_action:
                  action: call-service
                  service: input_boolean.turn_on
                  target:
                    entity_id: input_boolean.chat_history_suggestion_toggle
                close_action:
                  action: call-service
                  service: input_boolean.turn_on
                  target:
                    entity_id: input_boolean.chat_history_suggestion_toggle
              - type: custom:layout-card
                layout_type: grid
                layout:
                  grid-template-columns: repeat(1, 1fr)
                  grid-template-rows: repeat(2, auto)
                  grid-gap: 10px
                cards:
                  - type: custom:button-card
                    styles:
                      card:
                        - background-color: rgba(0,0,0,0.3)
                        - border-radius: 50px
                        - padding: 4px
                        - box-shadow: none
                        - margin-bottom: 10px
                      grid:
                        - grid-template-areas: '"history suggest"'
                        - grid-template-columns: 1fr 1fr
                        - width: 100%
                    custom_fields:
                      history:
                        card:
                          type: custom:button-card
                          name: History
                          entity: input_boolean.chat_history_suggestion_toggle
                          show_icon: false
                          state:
                            - value: 'on'
                              styles:
                                card:
                                  - background: '#555555'
                                name:
                                  - color: white
                          styles:
                            card:
                              - background-color: transparent
                              - color: white
                              - border-radius: 50px
                              - font-size: 14px
                              - box-shadow: none
                              - font-weight: 600
                            name:
                              - color: rgba(255,255,255,0.7)
                          tap_action:
                            action: toggle
                      suggest:
                        card:
                          type: custom:button-card
                          name: Suggestion
                          entity: input_boolean.chat_history_suggestion_toggle
                          show_icon: false
                          state:
                            - value: 'off'
                              styles:
                                card:
                                  - background: '#555555'
                                name:
                                  - color: white
                          styles:
                            card:
                              - background-color: transparent
                              - color: '#555555'
                              - border-radius: 50px
                              - font-size: 14px
                              - box-shadow: none
                              - font-weight: 600
                            name:
                              - color: rgba(255,255,255,0.7)
                          tap_action:
                            action: toggle
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.chat_history_suggestion_toggle
                        state: 'off'
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_suggestion_5
                            var_script: script.chatgpt_suggestion_5
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }               
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_suggestion_4
                            var_script: script.chatgpt_suggestion_4
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }               
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_suggestion_3
                            var_script: script.chatgpt_suggestion_3
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }            
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_suggestion_2
                            var_script: script.chatgpt_suggestion_2
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }            
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_suggestion_1
                            var_script: script.chatgpt_suggestion_1
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }            
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: input_boolean.chat_history_suggestion_toggle
                        state: 'on'
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_history_5
                            var_script: script.chatgpt_history_5
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }               
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_history_4
                            var_script: script.chatgpt_history_4
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }               
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_history_3
                            var_script: script.chatgpt_history_3
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }            
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_history_2
                            var_script: script.chatgpt_history_2
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }            
                        - type: custom:button-card
                          template: chatgpt_questions
                          variables:
                            var_entity: input_text.chatgpt_input_history_1
                            var_script: script.chatgpt_history_1
                        - type: entities
                          entities:
                            - type: divider
                              style:
                                height: 1px
                                width: 100%
                                margin-left: auto
                                margin-right: auto
                                background: rgba(255,255,255,0.1)
                          card_mod:
                            style: |
                              ha-card {
                              background: transparent;
                              }

                              #states.card-content {
                              padding: 0px 0px 0px 0px;
                              }            
              - type: conditional
                conditions:
                  - condition: screen
                    media_query: '(min-width: 0px) and (max-width: 767px)'
                card:
                  type: custom:mod-card
                  card_mod:
                    style: |
                      @media (min-width:180px) {
                        ha-card {
                          z-index: 1;
                          position: fixed;
                          bottom: 30px;
                          left: 10px !important;
                          width: calc(100% - 20px);
                        }
                      }
                      @media (min-width:70px) {
                        ha-card {
                          width: 370px;
                        }
                      }
                      ha-card{
                        background-color: rgba(0,0,0,0.3);
                        -webkit-backdrop-filter: blur(10px); !important;

                        padding: 15px;
                        border-radius: 40px;
                        margin-top: {% if is_state('input_boolean.kiosk_mode', 'off') %}70px{% else %}0{% endif %}}
                  card:
                    type: custom:layout-card
                    layout_type: grid
                    layout:
                      grid-template-columns: repeat(1, 1fr)
                      grid-template-rows: repeat(2, auto)
                      grid-gap: 22px
                    cards:
                      - type: markdown
                        content: |
                          {{ states('input_text.chatgpt_response') }}
                        card_mod:
                          style: |
                            ha-card {
                              background-color: transparent;
                              color: rgba(255,255,255,0.9);
                              margin: -15px;
                              text-align: left;
                              font-weight: 400;
                              font-size: 20px;
                              line-height: 1.4;
                            }
                      - type: conditional
                        conditions:
                          - condition: state
                            entity: binary_sensor.chatgpt_response_default_state
                            state: 'off'
                        card:
                          type: custom:button-card
                          name: More information
                          entity: script.chatgpt_send_more_info_2
                          tap_action:
                            action: call-service
                            service: input_button.press
                            service_data:
                              entity_id: input_button.chatgpt_send_more_info
                          show_icon: false
                          state:
                            - value: 'on'
                              styles:
                                name:
                                  - color: grey
                          styles:
                            card:
                              - background: transparent
                                padding: 0px
                                margin-top: '-15px'
                                height: auto
                                border-radius: 0px
                            name:
                              - justify-self: start
                                font-size: 12px
                                color: rgba(0,122,255,1)
                      - type: horizontal-stack
                        cards:
                          - type: entities
                            entities:
                              - entity: input_text.chatgpt_input
                                icon: mdi:send
                                name: ' '
                                secondary_info: none
                            card_mod:
                              style: |
                                :host {
                                  --paper-item-icon-color: transparent;
                                  border-radius: 50px;
                                }
                                .card-content {
                                  padding: 0px;}
                                .type-entities {
                                  background: transparent;
                                  background-color: transparent}

                                ha-card {
                                  --mdc-text-field-fill-color: rgba(0,0,0,0.0);
                                  margin-left: -40px;
                                  margin-top: -30px
                                }
                          - type: custom:button-card
                            entity: binary_sensor.chatgpt_input
                            icon: mdi:refresh
                            show_icon: true
                            show_name: false
                            tap_action:
                              action: perform-action
                              perform_action: script.clear_chatgpt_input
                            state:
                              - value: 'on'
                                styles:
                                  icon:
                                    - width: 30px
                                  card:
                                    - background-color: rgba(0,122,255,1)
                            styles:
                              card:
                                - width: 50px
                                  height: 50px
                                  border-radius: 50px
                                  margin-left: 10px
                                  margin-top: '-20px'
                                  padding: 0px
                                  background-color: rgba(255,255,255,0.2)
                              icon:
                                - width: 30px
                                  color: white
    background:
      image: /api/image/serve/396cdcc9eebbfa4f2b56761cc874a6e4/original
    max_columns: 1
    subview: false
    icon: mdi:home
  - path: rooms
    type: sections
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                styles:
                  card:
                    - width: 400px
                    - height: 150px
                    - margin: '-15px'
                    - border-radius: 0px
                    - border: transparent
                    - background: >-
                        linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.5)
                        90%);
            visibility:
              - condition: screen
                media_query: '(min-width: 0px) and (max-width: 767px)'
        visibility:
          - condition: state
            entity: input_boolean.home_dash
            state_not: 'off'
      - type: grid
        cards:
          - type: conditional
            conditions:
              - condition: screen
                media_query: '(min-width: 768px)'
            card:
              type: vertical-stack
              cards:
                - type: custom:gap-card
                - type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      name: Favourites
                      entity: input_boolean.kiosk_mode
                      icon: mdi:menu
                      show_icon: true
                      show_name: false
                      tap_action:
                        action: toggle
                      state:
                        - value: 'on'
                          styles:
                            icon:
                              - color: white
                              - opacity: 0.999
                      styles:
                        card:
                          - background: transparent
                          - border-radius: 0px
                          - width: 40px
                          - height: 20px
                          - padding: 0px
                          - padding-top: 0px
                          - margin-left: '-5px'
                        icon:
                          - color: white
                          - width: 20px
                          - opacity: 0.5
                    - type: custom:button-card
                      name: Favourites
                      entity: input_boolean.favourites_dash
                      icon: mdi:star
                      show_icon: true
                      show_name: false
                      tap_action:
                        action: call-service
                        service: script.favourites_dash_2
                      state:
                        - value: 'on'
                          styles:
                            icon:
                              - color: white
                              - opacity: 0.999
                      styles:
                        card:
                          - background: transparent
                          - border-radius: 0px
                          - width: 40px
                          - height: 20px
                          - padding: 0px
                          - padding-top: 0px
                          - margin-left: '-5px'
                        icon:
                          - color: white
                          - width: 20px
                          - opacity: 0.5
                - type: custom:button-card
                  name: Bedroom
                  entity: input_boolean.bedroom_dash
                  icon: mdi:moon-full
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.bedroom_dash_only
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 0px 0px 0px 0px
                - type: custom:button-card
                  name: Living Room
                  icon: mdi:moon-full
                  entity: input_boolean.living_room_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.living_room_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Nursery
                  icon: mdi:moon-full
                  entity: input_boolean.nursery_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.nursery_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Kitchen
                  icon: mdi:moon-full
                  entity: input_boolean.kitchen_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.kitchen_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Patio
                  icon: mdi:moon-full
                  entity: input_boolean.patio_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.patio_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Study
                  icon: mdi:moon-full
                  entity: input_boolean.study_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.study_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Bathroom
                  icon: mdi:moon-full
                  entity: input_boolean.bathroom_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.bathroom_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Front Yard
                  icon: mdi:moon-full
                  entity: input_boolean.front_yard_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.front_yard_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Backyard
                  icon: mdi:moon-full
                  entity: input_boolean.backyard_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.backyard_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Garage
                  icon: mdi:moon-full
                  entity: input_boolean.garage_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.garage_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
                - type: custom:button-card
                  name: Other
                  icon: mdi:moon-full
                  entity: input_boolean.other_dash
                  show_icon: false
                  tap_action:
                    action: call-service
                    service: script.other_dash_2
                  state:
                    - value: 'on'
                      styles:
                        name:
                          - color: white
                          - opacity: 0.999
                        icon:
                          - color: white
                          - opacity: 1
                  styles:
                    grid:
                      - grid-template-areas: '"n" "i"'
                        grid-template-columns: 1fr
                        grid-template-rows: auto auto
                    card:
                      - background: transparent
                      - border-radius: 0px
                      - width: 100%
                      - height: 30px
                    name:
                      - font-size: 15px
                      - font-weight: 500
                      - text-transform: uppercase
                      - padding: 0px 8px 0px 4px
                      - opacity: 0.5
                    icon:
                      - opacity: 0
                      - width: 10px
                      - padding: 4px 0px 0px 0px
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: bedroom
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Bedroom
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.bedroom_split_system_temperature_feels_like
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: >-
                                  sensor.bedroom_split_system_temperature_feels_like
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.bedroom_split_system_temperature_feels_like
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: >-
                                  sensor.bedroom_split_system_temperature_feels_like
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.bedroom_split_system_temperature_feels_like
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: >-
                                  sensor.bedroom_split_system_temperature_feels_like
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.bedroom_split_system_temperature_feels_like
                        above: 26.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: >-
                                  sensor.bedroom_split_system_temperature_feels_like
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.hue_motion_sensor_2_illuminance
                        state_not: '0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_2_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '100': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.hue_motion_sensor_2_illuminance
                        state: '0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_2_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,255,255,1)
                              width: 20
                            color_stops:
                              '0': rgba(255,255,255,1)
                              '100': rgba(255,255,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                            opacity: 0.1
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.bedroom_lights
                    label: |
                      [[[ 
                        const state = states['sensor.bedroom_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.presence_sensor_presence
                      var_icon_on: mdi:access-point
                      var_icon_off: mdi:access-point-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.presence_sensor_presence'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.hue_motion_sensor_2_motion
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.hue_motion_sensor_2_motion'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.bedroom_homepod
                    state_not: playing
                card:
                  type: custom:button-card
                  template: first_subheading
                  variables:
                    var_device: Scenes
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.bedroom_homepod
                    state: playing
                card:
                  type: custom:button-card
                  template: sub_headings
                  variables:
                    var_name: Now Playing
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.bedroom_homepod
                state_not: paused
              - condition: state
                entity: media_player.bedroom_homepod
                state_not: 'off'
              - condition: state
                entity: media_player.bedroom_homepod
                state_not: unavailable
              - condition: state
                entity: media_player.bedroom_homepod
                state_not: idle
            card:
              type: custom:button-card
              tap_action:
                action: navigate
                navigation_path: '#bedroom_homepod'
              show_icon: false
              show_name: false
              show_state: false
              styles:
                grid:
                  - grid-template-areas: '"content"'
                  - grid-template-columns: 1fr
                  - grid-template-rows: max-content
                card:
                  - background-color: rgba(0,0,0,0.3)
                  - webkit-backdrop-filter: blur(10px); !important;}
                  - box-shadow: none
                  - border-radius: 20px
                  - border-width: 0px
                  - padding: 10px
                  - margin: 0px
              custom_fields:
                content:
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        entity: media_player.bedroom_homepod
                        show_entity_picture: true
                        show_name: false
                        show_icon: false
                        custom_fields:
                          entity:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#bedroom_homepod'
                              name: Bedroom
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 13px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.3)
                          title:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#bedroom_homepod'
                              name: |
                                [[[
                                   if (states['media_player.bedroom_homepod'].attributes.media_title != undefined) 
                                   return states['media_player.bedroom_homepod'].attributes.media_title;
                                ]]]
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - padding-top: 5px
                                  - font-size: 20px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.9)
                          artist:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#bedroom_homepod'
                              name: |
                                [[[
                                   if (states['media_player.bedroom_homepod'].attributes.media_artist != undefined) 
                                   return states['media_player.bedroom_homepod'].attributes.media_artist;
                                ]]]
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 20px
                                  - font-weight: 400
                                  - color: rgba(255,255,255,0.3)
                        styles:
                          grid:
                            - grid-template-areas: '"i entity" "i title" "i artist" "i album" '
                            - grid-template-columns: max-content 1fr
                            - grid-template-rows: max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0 5px
                            - margin: 5px 0 -10px 0
                          entity_picture:
                            - align-self: start
                            - justify-self: start
                            - width: 70px
                            - border-radius: 10px
                      - type: custom:my-slider-v2
                        entity: media_player.bedroom_homepod
                        mode: seekbar
                        min: 0
                        max: 100
                        styles:
                          card:
                            - height: 20px
                            - box-shadow: none
                            - margin: 20px 0 0 0
                            - background: none
                          container:
                            - border-radius: 0px
                            - background: none
                            - padding: 0 0 0 5px
                          track:
                            - background: rgba(255,255,255,0.3)
                            - border-radius: 99px
                            - padding: 0 0px 0 0px
                            - width: 97%
                            - height: 7px
                            - margin: 0px 0 0 0
                          progress:
                            - background: rgba(255,255,255,0.9)
                            - border-radius: 25px 0px 0px 25px
                            - height: 7px
                            - margin: 0 0 0 0
                          thumb:
                            - background: rgba(255,255,255,0.9)
                            - width: 5px
                            - height: 7px
                            - border-radius: 0px
                      - type: custom:button-card
                        entity: media_player.bedroom_homepod
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          buttons:
                            card:
                              type: custom:button-card
                              custom_fields:
                                previous:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_previous_track
                                      target:
                                        entity_id: media_player.bedroom_homepod
                                    icon: mdi:rewind
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin: 0px
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                play:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_play_pause
                                      target:
                                        entity_id: media_player.bedroom_homepod
                                    hold_action:
                                      action: call-service
                                      service: media_player.turn_off
                                      target:
                                        entity_id:
                                          - media_player.bedroom_homepod
                                    entity: media_player.bedroom_homepod
                                    icon: mdi:play
                                    state:
                                      - value: playing
                                        icon: mdi:pause
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin-bottom: 0px
                                      icon:
                                        - width: 45px
                                        - color: rgba(255,255,255,0.5)
                                next:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_next_track
                                      target:
                                        entity_id: media_player.bedroom_homepod
                                    icon: mdi:fast-forward
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                star:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: url
                                      url_path: shortcuts://run-shortcut?name=HomeKit
                                    icon: mdi:apple-keyboard-command
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                                menu:
                                  card:
                                    type: custom:button-card
                                    entity: media_player.bedroom_homepod
                                    tap_action:
                                      action: more-info
                                    icon: mdi:menu
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                              styles:
                                grid:
                                  - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                  - grid-template-rows: min-content
                                  - grid-template-areas: '"star previous play next menu"'
                                card:
                                  - padding: 0 0 0 0px
                                  - margin: 3px 0px -6px 0px
                                  - align-self: end
                                  - background: none
                                  - box-shadow: none
                                  - border-width: 0px
                                  - border-radius: 0px
                        styles:
                          grid:
                            - grid-template-areas: '"buttons"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: transparent
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 15px 0px
                            - margin: '-10px 0px -15px 0px'
                      - type: custom:button-card
                        entity: media_player.bedroom_homepod
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          volume_control:
                            card:
                              type: horizontal-stack
                              cards:
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_down
                                    target:
                                      entity_id:
                                        - media_player.bedroom_homepod
                                  icon: mdi:volume-medium
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                                - type: custom:my-slider-v2
                                  entity: media_player.bedroom_homepod
                                  attribute: volume_level
                                  min: 0
                                  max: 100
                                  step: 2
                                  styles:
                                    card:
                                      - box-shadow: none
                                      - margin: 9px 0 0 0
                                      - background: none
                                    container:
                                      - border-radius: 0px
                                      - background: none
                                      - padding: 0 0 0 0px
                                    track:
                                      - background: rgba(255,255,255,0.3)
                                      - border-radius: 99px
                                      - width: 100%
                                      - height: 7px
                                      - margin: 0px 0 0 0
                                    progress:
                                      - background: rgba(255,255,255,0.9)
                                      - border-radius: 25px 0px 0px 25px
                                      - height: 7px
                                    thumb:
                                      - background: rgba(255,255,255,0.9)
                                      - width: 5px
                                      - height: 7px
                                      - border-radius: 0px
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_up
                                    target:
                                      entity_id:
                                        - media_player.bedroom_homepod
                                  icon: mdi:volume-high
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                        styles:
                          grid:
                            - grid-template-areas: '"volume_control"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0px 0px
                            - margin-bottom: '-5px'
              card_mod:
                style: |
                  ha-card {
                    background-color: rgba(0, 0, 0, 0.3); !important;
                    -webkit-backdrop-filter: blur(10px); !important;}
                    }
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.bedroom_homepod
                state: playing
            card:
              type: custom:button-card
              template: sub_headings
              variables:
                var_name: Scenes
          - type: custom:button-card
            styles:
              grid:
                - grid-template-areas: '"chips" "chips"'
              card:
                - background: rgba(0, 0, 0, 0)
                  flex-direction: row
                  overflow-x: auto
                  flex-wrap: nowrap
                  flex-shrink: 0
                  scrollbar-width: thin
                  scrollbar-color: rgba(255,255,255, 0.05) rgba(255,255,255, 0)
                  padding: 0px
            custom_fields:
              chips:
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Bedroom Dull
                        var_scene: scene.bedroom_dull
                        var_icon: mdi:bed-king
                        var_icon_color: var(--label-badge-yellow)
                      styles:
                        card:
                          - width: 160px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Lights
          - type: custom:button-card
            name: Bedroom Ceiling Light
            show_state: false
            show_icon: false
            entity: light.bedroom_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.bedroom_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Bed Light
            show_state: false
            show_icon: false
            entity: light.bed_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.bed_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Wardrobe
            show_state: false
            show_icon: false
            entity: light.wardrobe_strip_lights
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.wardrobe_strip_lights
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Hugo
            show_state: false
            show_icon: false
            entity: light.hue_go
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:wall-sconce-round-variant
                  show_name: false
                  entity: light.hue_go
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Bathroom
            show_state: false
            show_icon: false
            entity: light.bathroom_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.bathroom_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Climate
          - type: custom:button-card
            name: |
              [[[ 
                const climate_entity = states['climate.bedroom_split_system'];
                if (climate_entity.attributes.hvac_modes.includes('heat')) {
                  return 'Heater';
                } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                  return 'Air Conditioner';
                } else if (climate_entity.attributes.hvac_modes.includes('off')) {
                  return "Split System";
                } else {
                  return "Unknown";  // Default text if no match found
                }
              ]]]
            show_state: false
            show_icon: false
            entity: climate.bedroom_split_system
            custom_fields:
              num: |
                [[[ 
                  const climate_entity = states['climate.bedroom_split_system'];
                  if (climate_entity.state === 'off') {
                    return "Off";
                  } else if (climate_entity.attributes.hvac_modes.includes('heat')) {
                    return 'Heating to ' + climate_entity.attributes.max_temp + '';
                  } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                    return 'Cooling to ' + climate_entity.attributes.min_temp + '';
                  } else {
                    return "Unknown";  // Default text if no match found
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:fire
                  show_name: false
                  entity: climate.bedroom_split_system
                  tap_action:
                    action: toggle
                  state:
                    - value: heat
                      styles:
                        img_cell:
                          - background: '#ff7022'
                        icon:
                          - color: white
                    - value: cool
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: navigate
              navigation_path: '#bedroom-split-system'
            state:
              - value: heat
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
              - value: cool
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.4
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Media
          - type: custom:button-card
            name: Apple TV
            show_state: false
            show_icon: false
            entity: media_player.bedroom_apple_tv
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    const media_entity = states['media_player.bedroom_apple_tv'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_channel;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:television
                  show_name: false
                  entity: media_player.bedroom_apple_tv
                  tap_action:
                    action: toggle
                  state:
                    - value: playing
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: playing
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.4
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: HomePod
            show_state: false
            show_icon: false
            entity: media_player.bedroom_homepod
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'playing') {
                    const media_entity = states['media_player.bedroom_homepod'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_artist;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:speaker
                  show_name: false
                  entity: media_player.bedroom_homepod
                  tap_action:
                    action: toggle
                  state:
                    - value: playing
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: playing
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.4
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Dependencies
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card{
                  padding: 10px 0px 10px 0px;
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  -webkit-backdrop-filter: blur(10px); !important;
                  }
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Sleep In Mode
                    var_entity: input_boolean.sleep_in_mode
                    var_icon: mdi:sleep
                    var_color: var(--label-badge-blue)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Bedroom Override
                    var_entity: input_boolean.bedroom_override
                    var_icon: mdi:cancel
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Alistair Sleeping
                    var_entity: input_boolean.alistair_sleep_focus
                    var_icon: mdi:sleep
                    var_color: var(--label-badge-green)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Andreia Sleeping
                    var_entity: input_boolean.andreia_sleep_focus
                    var_icon: mdi:sleep
                    var_color: var(--label-badge-green)
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#bedroom_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.bedroom_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.bedroom_homepod
                                      entity: media_player.bedroom_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.bedroom_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.bedroom_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.bedroom_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.bedroom_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
        visibility:
          - condition: state
            entity: input_boolean.bedroom_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: living-room
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Living Room
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.living_room_split_system_temperature_feels_like
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: >-
                                  sensor.living_room_split_system_temperature_feels_like
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.living_room_split_system_temperature_feels_like
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: >-
                                  sensor.living_room_split_system_temperature_feels_like
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.living_room_split_system_temperature_feels_like
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: >-
                                  sensor.living_room_split_system_temperature_feels_like
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.living_room_split_system_temperature_feels_like
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: >-
                                  sensor.living_room_split_system_temperature_feels_like
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.epl_living_room_illuminance
                        state_not: '0.0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.epl_living_room_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '100': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.epl_living_room_illuminance
                        state: '0.0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.epl_living_room_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,255,255,1)
                              width: 20
                            color_stops:
                              '0': rgba(255,255,255,1)
                              '100': rgba(255,255,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                            opacity: 0.1
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.living_room_lights
                    label: |
                      [[[ 
                        const state = states['sensor.living_room_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.epl_living_room_occupancy
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.epl_living_room_occupancy'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.living_room_tv
                    state: 'off'
                card:
                  type: custom:button-card
                  template: first_subheading
                  variables:
                    var_device: Cameras
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.living_room_tv
                    state_not: 'off'
                card:
                  type: custom:button-card
                  template: sub_headings
                  variables:
                    var_name: Now Playing
              - type: vertical-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: media_player.living_room_tv
                        state_not: 'off'
                    card:
                      type: custom:button-card
                      show_icon: false
                      show_name: false
                      show_state: false
                      styles:
                        grid:
                          - grid-template-areas: '"content"'
                          - grid-template-columns: 1fr
                          - grid-template-rows: max-content
                        card:
                          - background-color: rgba(0,0,0,0.3)
                          - webkit-backdrop-filter: blur(10px); !important;}
                          - box-shadow: none
                          - border-radius: 20px
                          - border-width: 0px
                          - padding: 10px
                          - margin: 0px
                      custom_fields:
                        content:
                          card:
                            type: vertical-stack
                            cards:
                              - type: custom:button-card
                                entity: media_player.living_room_tv
                                show_entity_picture: true
                                entity_picture: >
                                  [[[ return
                                  states['sensor.media_picture'].state; ]]]
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  entity:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: none
                                      name: Living Room TV
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 13px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.3)
                                  title:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: none
                                      name: |
                                        [[[
                                           if (states['media_player.living_room_tv'].attributes.media_title != undefined) 
                                           return states['media_player.living_room_tv'].attributes.media_title;
                                        ]]]
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - padding-top: 5px
                                          - font-size: 20px
                                          - font-weight: 600
                                          - color: rgba(255,255,255,0.9)
                                  artist:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: none
                                      name: |
                                        [[[
                                           if (states['media_player.living_room_tv'].attributes.media_channel != undefined) 
                                           return states['media_player.living_room_tv'].attributes.media_channel;
                                        ]]]
                                      show_label: true
                                      show_icon: false
                                      styles:
                                        card:
                                          - box-shadow: none
                                          - background: none
                                          - padding: 0px
                                          - border-radius: 0px
                                          - border-width: 0px
                                        name:
                                          - justify-self: start
                                          - padding-left: 15px
                                          - font-size: 20px
                                          - font-weight: 400
                                          - color: rgba(255,255,255,0.3)
                                styles:
                                  grid:
                                    - grid-template-areas: >-
                                        "i entity" "i title" "i artist" "i
                                        album" 
                                    - grid-template-columns: max-content 1fr
                                    - grid-template-rows: max-content max-content max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0 5px
                                    - margin: 5px 0 -10px 0
                                  entity_picture:
                                    - align-self: start
                                    - justify-self: start
                                    - width: 70px
                                    - border-radius: 10px
                              - type: custom:my-slider-v2
                                entity: media_player.living_room_tv
                                mode: seekbar
                                min: 0
                                max: 100
                                styles:
                                  card:
                                    - height: 20px
                                    - box-shadow: none
                                    - margin: 20px 0 0 0
                                    - background: none
                                  container:
                                    - border-radius: 0px
                                    - background: none
                                    - padding: 0 0 0 5px
                                  track:
                                    - background: rgba(255,255,255,0.3)
                                    - border-radius: 99px
                                    - padding: 0 0px 0 0px
                                    - width: 97%
                                    - height: 7px
                                    - margin: 0px 0 0 0
                                  progress:
                                    - background: rgba(255,255,255,0.9)
                                    - border-radius: 25px 0px 0px 25px
                                    - height: 7px
                                    - margin: 0 0 0 0
                                  thumb:
                                    - background: rgba(255,255,255,0.9)
                                    - width: 5px
                                    - height: 7px
                                    - border-radius: 0px
                              - type: custom:button-card
                                entity: media_player.living_room_tv
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  buttons:
                                    card:
                                      type: custom:button-card
                                      custom_fields:
                                        remote:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: url
                                              url_path: >-
                                                shortcuts://run-shortcut?name=TV%20Remote
                                            icon: m3s:remote-gen-outlined-filled
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        two:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: perform-action
                                              perform_action: script.channel_2
                                            icon: mdi:numeric-2-box
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        seven:
                                          card:
                                            type: custom:button-card
                                            tap_action:
                                              action: perform-action
                                              perform_action: script.1683453148468
                                            icon: mdi:numeric-7-box
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        nine:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.living_room_tv
                                            tap_action:
                                              action: perform-action
                                              perform_action: script.channel_9
                                            icon: mdi:numeric-9-box
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        ten:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.living_room_tv
                                            tap_action:
                                              action: perform-action
                                              perform_action: script.channel_10
                                            icon: mdi:numeric-10-box
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        menu:
                                          card:
                                            type: custom:button-card
                                            entity: media_player.living_room_tv
                                            tap_action:
                                              action: more-info
                                            icon: mdi:menu
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                      styles:
                                        grid:
                                          - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                                          - grid-template-rows: min-content
                                          - grid-template-areas: '"remote two seven nine ten menu"'
                                        card:
                                          - padding: 0 0 0 0px
                                          - margin: 3px 0px -6px 0px
                                          - align-self: end
                                          - background: none
                                          - box-shadow: none
                                          - border-width: 0px
                                          - border-radius: 0px
                                styles:
                                  grid:
                                    - grid-template-areas: '"buttons"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: >-
                                        max-content max-content max-content
                                        max-content ;
                                    - align-items: end
                                  card:
                                    - background: transparent
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 15px 0px
                                    - margin: '-5px 0px -5px 0px'
                              - type: custom:button-card
                                entity: media_player.living_room_tv
                                show_entity_picture: false
                                show_name: false
                                show_icon: false
                                custom_fields:
                                  volume_control:
                                    card:
                                      type: horizontal-stack
                                      cards:
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_down
                                            target:
                                              entity_id:
                                                - media_player.living_room_tv
                                          icon: mdi:volume-medium
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                        - type: custom:my-slider-v2
                                          entity: media_player.living_room_tv
                                          attribute: volume_level
                                          min: 0
                                          max: 100
                                          step: 2
                                          styles:
                                            card:
                                              - box-shadow: none
                                              - margin: 9px 0 0 0
                                              - background: none
                                            container:
                                              - border-radius: 0px
                                              - background: none
                                              - padding: 0 0 0 0px
                                            track:
                                              - background: rgba(255,255,255,0.3)
                                              - border-radius: 99px
                                              - width: 100%
                                              - height: 7px
                                              - margin: 0px 0 0 0
                                            progress:
                                              - background: rgba(255,255,255,0.9)
                                              - border-radius: 25px 0px 0px 25px
                                              - height: 7px
                                            thumb:
                                              - background: rgba(255,255,255,0.9)
                                              - width: 5px
                                              - height: 7px
                                              - border-radius: 0px
                                        - type: custom:button-card
                                          tap_action:
                                            action: call-service
                                            service: media_player.volume_up
                                            target:
                                              entity_id:
                                                - media_player.living_room_tv
                                          icon: mdi:volume-high
                                          show_name: false
                                          styles:
                                            card:
                                              - border-radius: 5px
                                              - width: 30px
                                              - border-width: 0px
                                              - box-shadow: none
                                              - background: rgba(255,255,255,0.0)
                                              - align-self: end
                                              - align-content: end
                                            icon:
                                              - width: 20px
                                              - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-areas: '"volume_control"'
                                    - grid-template-columns: 1fr
                                    - grid-template-rows: max-content;
                                    - align-items: end
                                  card:
                                    - background: none
                                    - box-shadow: none
                                    - border-radius: 0px
                                    - border-width: 0px
                                    - padding: 0px 0px 0px 0px
                                    - margin-bottom: '-5px'
                      card_mod:
                        style: |
                          ha-card {
                            background-color: rgba(0, 0, 0, 0.3); !important;
                            -webkit-backdrop-filter: blur(10px); !important;}
                            }
          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.living_room_media_playing
                state: 'on'
            card:
              type: custom:button-card
              template: sub_headings
              variables:
                var_name: Cameras
          - show_state: false
            show_name: false
            camera_view: live
            type: picture-entity
            entity: camera.kitchen_camera_g3
            aspect_ratio: '9:6'
            card_mod:
              style: |
                ha-card {
                  border: transparent;
                  margin: auto;}
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Scenes
          - type: custom:button-card
            styles:
              grid:
                - grid-template-areas: '"chips" "chips"'
              card:
                - background: rgba(0, 0, 0, 0)
                  flex-direction: row
                  overflow-x: auto
                  flex-wrap: nowrap
                  flex-shrink: 0
                  scrollbar-width: thin
                  scrollbar-color: rgba(255,255,255, 0.05) rgba(255,255,255, 0)
                  padding: 0px
            custom_fields:
              chips:
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Living Room Dull
                        var_scene: scene.living_room_dull
                        var_icon: mdi:floor-lamp
                        var_icon_color: '#ff9800'
                      styles:
                        card:
                          - width: 185px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: TV Scene
                        var_scene: scene.tv_scene
                        var_icon: mdi:television
                        var_icon_color: var(--label-badge-blue)
                      styles:
                        card:
                          - width: 135px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Living Room Bright
                        var_scene: scene.living_room_bright
                        var_icon: mdi:lightbulb-on
                        var_icon_color: '#ff9800'
                      styles:
                        card:
                          - width: 190px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Lights
          - type: custom:button-card
            name: North Ceiling Light
            show_state: false
            show_icon: false
            entity: light.living_room_north_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.living_room_north_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.4
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Middle Ceiling Light
            show_state: false
            show_icon: false
            entity: light.living_room_middle_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.living_room_middle_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.4
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Ambient Lights
            show_state: false
            show_icon: false
            entity: light.living_room_ambient
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:floor-lamp-dual
                  show_name: false
                  entity: light.living_room_ambient
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            name: Mushroom
            show_state: false
            show_icon: false
            entity: light.mushroom
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lamp
                  show_name: false
                  entity: light.mushroom
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Climate
          - type: custom:button-card
            name: |
              [[[ 
                const climate_entity = states['climate.living_room_split_system'];
                if (climate_entity.attributes.hvac_modes.includes('heat')) {
                  return 'Heater';
                } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                  return 'Air Conditioner';
                } else if (climate_entity.attributes.hvac_modes.includes('off')) {
                  return "Split System";
                } else {
                  return "Unknown";  // Default text if no match found
                }
              ]]]
            show_state: false
            show_icon: false
            entity: climate.living_room_split_system
            custom_fields:
              num: |
                [[[ 
                  const climate_entity = states['climate.living_room_split_system'];
                  if (climate_entity.state === 'off') {
                    return "Off";
                  } else if (climate_entity.attributes.hvac_modes.includes('heat')) {
                    return 'Heating to ' + climate_entity.attributes.max_temp + '';
                  } else if (climate_entity.attributes.hvac_modes.includes('cool')) {
                    return 'Cooling to ' + climate_entity.attributes.min_temp + '';
                  } else {
                    return "Unknown";  // Default text if no match found
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:fire
                  show_name: false
                  entity: climate.living_room_split_system
                  tap_action:
                    action: toggle
                  state:
                    - value: heat
                      styles:
                        img_cell:
                          - background: '#ff7022'
                        icon:
                          - color: white
                    - value: cool
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: navigate
              navigation_path: '#living-room-split-system'
            state:
              - value: heat
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
              - value: cool
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.4
            card_mod:
              style: >
                ha-card {

                background-color: {% if
                is_state('climate.living_room_split_system', 'off')
                %}rgba(0,0,0,0.3){% else %}rgba(255,255,255,1) {% endif
                %}!important;

                -webkit-backdrop-filter: blur(10px); !important;}
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Media
          - type: custom:button-card
            name: Living Room TV
            show_state: false
            show_icon: false
            entity: media_player.living_room_tv
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    const media_entity = states['media_player.living_room_tv'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_channel;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:television
                  show_name: false
                  entity: media_player.living_room_tv
                  tap_action:
                    action: toggle
                  state:
                    - value: playing
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: navigate
              navigation_path: /lovelace/remote
            state:
              - value: playing
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Dependencies
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card{
                  padding: 10px 0px 10px 0px;
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  -webkit-backdrop-filter: blur(10px); !important;
                  }
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Living Room Override
                    var_entity: input_boolean.living_room_override
                    var_icon: mdi:cancel
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Playpen Motion
                    var_entity: binary_sensor.playpen_motion
                    var_icon: mdi:motion-sensor
                    var_color: var(--label-badge-yellow)
                  tap_action:
                    action: more-info
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#living_room_homepods'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.living_room_2
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.living_room_2
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.living_room_2'].attributes.media_title != undefined) 
                                    return states['media_player.living_room_2'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.living_room_2'].attributes.media_artist != undefined) 
                                    return states['media_player.living_room_2'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.living_room_2'].attributes.media_album_name != undefined) 
                                    return states['media_player.living_room_2'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.living_room_2
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.living_room_2
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.living_room_2
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.living_room_2
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.living_room_2
                                      entity: media_player.living_room_2
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.living_room_2
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.living_room_2
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.living_room_2
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.living_room_2
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.living_room_2
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.living_room_2
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
        visibility:
          - condition: state
            entity: input_boolean.living_room_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: nursery
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Nursery
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: input_number.cubo_temperature
                        below: 17
                      - condition: state
                        entity: binary_sensor.cubo_temperature_sensor_check
                        state: 'on'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: input_number.cubo_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: input_number.cubo_temperature
                        above: 16.99
                        below: 23
                      - condition: state
                        entity: binary_sensor.cubo_temperature_sensor_check
                        state: 'on'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: input_number.cubo_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: input_number.cubo_temperature
                        above: 22.99
                        below: 27
                      - condition: state
                        entity: binary_sensor.cubo_temperature_sensor_check
                        state: 'on'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: input_number.cubo_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: input_number.cubo_temperature
                        above: 26.99
                      - condition: state
                        entity: binary_sensor.cubo_temperature_sensor_check
                        state: 'on'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: input_number.cubo_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: binary_sensor.cubo_temperature_sensor_check
                        state: 'off'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: input_number.cubo_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: call-service
                                  service: input_button.press
                                target:
                                  entity_id: input_button.refresh_cubo_temperature
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,255,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,255,255,0.5)
                              '40': rgba(255,255,255,0.5)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.nursery_illuminance
                        state_not: '0'
                      - condition: numeric_state
                        entity: sensor.nursery_illuminance
                        above: 1
                        below: 99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.nursery_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '100': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.nursery_illuminance
                        state_not: '0'
                      - condition: numeric_state
                        entity: sensor.nursery_illuminance
                        above: 99.01
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.nursery_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 57
                                  styles:
                                    - font-size: 4.25em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '100': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.nursery_illuminance
                        state: '0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.nursery_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,255,255,1)
                              width: 20
                            color_stops:
                              '0': rgba(255,255,255,1)
                              '100': rgba(255,255,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                            opacity: 0.1
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.nursery_lights
                    label: |
                      [[[ 
                        const state = states['sensor.nursery_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.nursery_motion_sensor
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.backyard_people'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: input_boolean.arthur_asleep
                      var_icon_on: mdi:sleep
                      var_icon_off: mdi:sleep-off
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-arthur/
                    double_tap_action:
                      action: more-info
                    hold_action:
                      action: more-info
                    label: |
                      [[[ 
                        const state = states['input_boolean.arthur_asleep'].state;
                        if (state === 'off') {
                          return 'Awake';
                        } else {
                          return 'Asleep';
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.nursery
                    state_not: playing
                card:
                  type: custom:button-card
                  template: first_subheading
                  variables:
                    var_device: Cameras
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.nursery
                    state: playing
                card:
                  type: custom:button-card
                  template: sub_headings
                  variables:
                    var_name: Now Playing
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.nursery
                state_not: paused
              - condition: state
                entity: media_player.nursery
                state_not: 'off'
              - condition: state
                entity: media_player.nursery
                state_not: unavailable
              - condition: state
                entity: media_player.nursery
                state_not: idle
            card:
              type: custom:button-card
              tap_action:
                action: navigate
                navigation_path: '#nursery_homepod'
              show_icon: false
              show_name: false
              show_state: false
              styles:
                grid:
                  - grid-template-areas: '"content"'
                  - grid-template-columns: 1fr
                  - grid-template-rows: max-content
                card:
                  - background-color: rgba(0,0,0,0.3)
                  - webkit-backdrop-filter: blur(10px); !important;}
                  - box-shadow: none
                  - border-radius: 20px
                  - border-width: 0px
                  - padding: 10px
                  - margin: 0px
              custom_fields:
                content:
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        entity: media_player.nursery
                        show_entity_picture: true
                        show_name: false
                        show_icon: false
                        custom_fields:
                          entity:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#nursery_homepod'
                              name: Nursery
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 13px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.3)
                          title:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#nursery_homepod'
                              name: |
                                [[[
                                   if (states['media_player.nursery'].attributes.media_title != undefined) 
                                   return states['media_player.nursery'].attributes.media_title;
                                ]]]
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - padding-top: 5px
                                  - font-size: 20px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.9)
                          artist:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#nursery_homepod'
                              name: |
                                [[[
                                   if (states['media_player.nursery'].attributes.media_artist != undefined) 
                                   return states['media_player.nursery'].attributes.media_artist;
                                ]]]
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 20px
                                  - font-weight: 400
                                  - color: rgba(255,255,255,0.3)
                        styles:
                          grid:
                            - grid-template-areas: '"i entity" "i title" "i artist" "i album" '
                            - grid-template-columns: max-content 1fr
                            - grid-template-rows: max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0 5px
                            - margin: 5px 0 -10px 0
                          entity_picture:
                            - align-self: start
                            - justify-self: start
                            - width: 70px
                            - border-radius: 10px
                      - type: custom:my-slider-v2
                        entity: media_player.nursery
                        mode: seekbar
                        min: 0
                        max: 100
                        styles:
                          card:
                            - height: 20px
                            - box-shadow: none
                            - margin: 20px 0 0 0
                            - background: none
                          container:
                            - border-radius: 0px
                            - background: none
                            - padding: 0 0 0 5px
                          track:
                            - background: rgba(255,255,255,0.3)
                            - border-radius: 99px
                            - padding: 0 0px 0 0px
                            - width: 97%
                            - height: 7px
                            - margin: 0px 0 0 0
                          progress:
                            - background: rgba(255,255,255,0.9)
                            - border-radius: 25px 0px 0px 25px
                            - height: 7px
                            - margin: 0 0 0 0
                          thumb:
                            - background: rgba(255,255,255,0.9)
                            - width: 5px
                            - height: 7px
                            - border-radius: 0px
                      - type: custom:button-card
                        entity: media_player.nursery
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          buttons:
                            card:
                              type: custom:button-card
                              custom_fields:
                                previous:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_previous_track
                                      target:
                                        entity_id: media_player.nursery
                                    icon: mdi:rewind
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin: 0px
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                play:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_play_pause
                                      target:
                                        entity_id: media_player.nursery
                                    hold_action:
                                      action: call-service
                                      service: media_player.turn_off
                                      target:
                                        entity_id:
                                          - media_player.nursery
                                    entity: media_player.nursery
                                    icon: mdi:play
                                    state:
                                      - value: playing
                                        icon: mdi:pause
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin-bottom: 0px
                                      icon:
                                        - width: 45px
                                        - color: rgba(255,255,255,0.5)
                                next:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_next_track
                                      target:
                                        entity_id: media_player.nursery
                                    icon: mdi:fast-forward
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                star:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: url
                                      url_path: shortcuts://run-shortcut?name=HomeKit
                                    icon: mdi:apple-keyboard-command
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                                menu:
                                  card:
                                    type: custom:button-card
                                    entity: media_player.nursery
                                    tap_action:
                                      action: more-info
                                    icon: mdi:menu
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                              styles:
                                grid:
                                  - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                  - grid-template-rows: min-content
                                  - grid-template-areas: '"star previous play next menu"'
                                card:
                                  - padding: 0 0 0 0px
                                  - margin: 3px 0px -6px 0px
                                  - align-self: end
                                  - background: none
                                  - box-shadow: none
                                  - border-width: 0px
                                  - border-radius: 0px
                        styles:
                          grid:
                            - grid-template-areas: '"buttons"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: transparent
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 15px 0px
                            - margin: '-10px 0px -15px 0px'
                      - type: custom:button-card
                        entity: media_player.nursery
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          volume_control:
                            card:
                              type: horizontal-stack
                              cards:
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_down
                                    target:
                                      entity_id:
                                        - media_player.nursery
                                  icon: mdi:volume-medium
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                                - type: custom:my-slider-v2
                                  entity: media_player.nursery
                                  attribute: volume_level
                                  min: 0
                                  max: 100
                                  step: 2
                                  styles:
                                    card:
                                      - box-shadow: none
                                      - margin: 9px 0 0 0
                                      - background: none
                                    container:
                                      - border-radius: 0px
                                      - background: none
                                      - padding: 0 0 0 0px
                                    track:
                                      - background: rgba(255,255,255,0.3)
                                      - border-radius: 99px
                                      - width: 100%
                                      - height: 7px
                                      - margin: 0px 0 0 0
                                    progress:
                                      - background: rgba(255,255,255,0.9)
                                      - border-radius: 25px 0px 0px 25px
                                      - height: 7px
                                    thumb:
                                      - background: rgba(255,255,255,0.9)
                                      - width: 5px
                                      - height: 7px
                                      - border-radius: 0px
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_up
                                    target:
                                      entity_id:
                                        - media_player.nursery
                                  icon: mdi:volume-high
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                        styles:
                          grid:
                            - grid-template-areas: '"volume_control"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0px 0px
                            - margin-bottom: '-5px'
              card_mod:
                style: |
                  ha-card {
                    background-color: rgba(0, 0, 0, 0.3); !important;
                    -webkit-backdrop-filter: blur(10px); !important;}
                    }
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.nursery
                state: playing
            card:
              type: custom:button-card
              template: sub_headings
              variables:
                var_name: Cameras
          - show_state: false
            show_name: false
            camera_view: live
            type: picture-entity
            entity: camera.nursery_camera_g3
            aspect_ratio: '9:6'
            card_mod:
              style: |
                ha-card {
                  border: transparent;
                  margin: auto;}
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Scenes
          - type: custom:button-card
            styles:
              grid:
                - grid-template-areas: '"chips" "chips"'
              card:
                - background: rgba(0, 0, 0, 0)
                  flex-direction: row
                  overflow-x: auto
                  flex-wrap: nowrap
                  flex-shrink: 0
                  scrollbar-width: thin
                  scrollbar-color: rgba(255,255,255, 0.05) rgba(255,255,255, 0)
                  padding: 0px
            custom_fields:
              chips:
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Baby Sleeping
                        var_scene: scene.baby_sleeping
                        var_icon: mdi:sleep
                        var_icon_color: '#5ac8fa'
                      styles:
                        card:
                          - width: 165px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Nursery Cosy
                        var_scene: scene.nursery_cosy_dim
                        var_icon: mdi:lightbulb-on-10
                        var_icon_color: red
                      styles:
                        card:
                          - width: 160px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Nursery Warm
                        var_scene: scene.nursery_cosy_bright
                        var_icon: mdi:lightbulb-on-60
                        var_icon_color: orangered
                      styles:
                        card:
                          - width: 165px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Nursery Bright
                        var_scene: scene.nursery_bright
                        var_icon: mdi:lightbulb-on
                        var_icon_color: var(--label-badge-yellow)
                      styles:
                        card:
                          - width: 165px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Lights
          - type: custom:button-card
            name: Nursery Ceiling Light
            show_state: false
            show_icon: false
            entity: light.study_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.study_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Strip Light
            show_state: false
            show_icon: false
            entity: light.nursery_strip
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.nursery_strip
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Luna
            show_state: false
            show_icon: false
            entity: light.luna
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:moon-full
                  show_name: false
                  entity: light.luna
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Covers
          - type: custom:button-card
            name: Blind
            show_state: false
            show_icon: false
            entity: cover.study_blind
            custom_fields:
              num: |
                [[[ 
                switch (entity.state) {
                  case 'open':
                    return 'Open';
                  case 'closed':
                    return 'Closed';
                  case 'opening':
                    return 'Opening';
                  case 'closing':
                    return 'Closing';
                  default:
                    return 'Unknown State'; // Optional: Handle unexpected states
                }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:blinds
                  show_name: false
                  entity: cover.study_blind
                  tap_action:
                    action: toggle
                  state:
                    - value: open
                      styles:
                        img_cell:
                          - background: '#926cc7'
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 20px
                        padding-top: 3px
                        color: '#926cc7'
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: open
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Shutters
            show_state: false
            show_icon: false
            entity: cover.nursery_shutters
            custom_fields:
              num: |
                [[[ 
                switch (entity.state) {
                  case 'open':
                    return 'Open';
                  case 'closed':
                    return 'Closed';
                  case 'opening':
                    return 'Opening';
                  case 'closing':
                    return 'Closing';
                  default:
                    return 'Unknown State'; // Optional: Handle unexpected states
                }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:window-shutter
                  show_name: false
                  entity: cover.nursery_shutters
                  tap_action:
                    action: toggle
                  state:
                    - value: open
                      styles:
                        img_cell:
                          - background: '#926cc7'
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        padding-top: 3px
                        color: '#926cc7'
                        border: 10px
                        padding-bottom: 2px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: open
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Media
          - type: custom:button-card
            name: HomePod
            show_state: false
            show_icon: false
            entity: media_player.nursery
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'playing') {
                    const media_entity = states['media_player.nursery'];
                    const titleArtist = media_entity.attributes.media_title + " - " + media_entity.attributes.media_artist;
                    return titleArtist.length > 20 ? titleArtist.substring(0, 20) + '...' : titleArtist;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:speaker
                  show_name: false
                  entity: media_player.nursery
                  tap_action:
                    action: toggle
                  state:
                    - value: playing
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: playing
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.4
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Temperature
          - type: custom:mini-graph-card
            name: Nursery Temperature
            entities:
              - entity: input_number.cubo_temperature
                name: Cubo
              - entity: sensor.nursery_hue_temp_adjusted
                name: Hue
              - entity: sensor.onvis_sms1_95a689_onvis_temperature_sensor
                name: Onvis
            color_thresholds:
              - value: 15
                color: '#68ce67'
              - value: 17.5
                color: '#3478f6'
              - value: 20
                color: '#a358d7'
              - value: 22.5
                color: '#eb4838'
              - value: 25
                color: '#f6ce46'
            show:
              icon: false
              name: false
              state: true
              fill: false
            styles:
              card:
                - background-color: transparent
                  border: none
            card_mod:
              style: |
                ha-card {
                  --ha-card-background: rgba(0, 0, 0, 0.3);
                  -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#nursery_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.nursery
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.nursery
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.nursery'].attributes.media_title != undefined) 
                                    return states['media_player.nursery'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.nursery'].attributes.media_artist != undefined) 
                                    return states['media_player.nursery'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.nursery'].attributes.media_album_name != undefined) 
                                    return states['media_player.nursery'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.nursery
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.nursery
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.nursery
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.nursery
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.nursery
                                      entity: media_player.nursery
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.nursery
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.nursery
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.nursery
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.nursery
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.nursery
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.nursery
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
        visibility:
          - condition: state
            entity: input_boolean.nursery_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: kitchen
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Kitchen
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.hue_motion_sensor_1_temperature
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_1_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: kitchen_homepod
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.hue_motion_sensor_1_temperature
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_1_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: kitchen_homepod
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.hue_motion_sensor_1_temperature
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_1_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: kitchen_homepod
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.hue_motion_sensor_1_temperature
                        above: 26.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_1_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: kitchen_homepod
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.hue_motion_sensor_1_illuminance
                        state_not: '0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_1_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: kitchen_homepod
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '100': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.hue_motion_sensor_1_illuminance
                        state: '0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_1_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: kitchen_homepod
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,255,255,1)
                              width: 20
                            color_stops:
                              '0': rgba(255,255,255,1)
                              '100': rgba(255,255,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                            opacity: 0.1
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.kitchen_lights
                    label: |
                      [[[ 
                        const state = states['sensor.kitchen_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.everything_presence_lite_20c1bc_occupancy
                      var_icon_on: mdi:access-point
                      var_icon_off: mdi:access-point-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.everything_presence_lite_20c1bc_occupancy'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.hue_motion_sensor_1_motion
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.everything_presence_lite_20c1bc_occupancy'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.kitchen_homepod
                    state_not: playing
                card:
                  type: custom:button-card
                  template: first_subheading
                  variables:
                    var_device: Cameras
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.kitchen_homepod
                    state: playing
                card:
                  type: custom:button-card
                  template: sub_headings
                  variables:
                    var_name: Now Playing
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.kitchen_homepod
                state_not: paused
              - condition: state
                entity: media_player.kitchen_homepod
                state_not: 'off'
              - condition: state
                entity: media_player.kitchen_homepod
                state_not: unavailable
              - condition: state
                entity: media_player.kitchen_homepod
                state_not: idle
            card:
              type: custom:button-card
              tap_action:
                action: navigate
                navigation_path: '#kitchen_homepod'
              show_icon: false
              show_name: false
              show_state: false
              styles:
                grid:
                  - grid-template-areas: '"content"'
                  - grid-template-columns: 1fr
                  - grid-template-rows: max-content
                card:
                  - background-color: rgba(0,0,0,0.3)
                  - webkit-backdrop-filter: blur(10px); !important;}
                  - box-shadow: none
                  - border-radius: 20px
                  - border-width: 0px
                  - padding: 10px
                  - margin: 0px
              custom_fields:
                content:
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        entity: media_player.kitchen_homepod
                        tap_action:
                          action: navigate
                          navigation_path: '#kitchen_homepod'
                        show_entity_picture: true
                        show_name: false
                        show_icon: false
                        custom_fields:
                          entity:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: none
                              name: Kitchen
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 13px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.3)
                          title:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#kitchen_homepod'
                              name: |
                                [[[
                                   if (states['media_player.kitchen_homepod'].attributes.media_title != undefined) 
                                   return states['media_player.kitchen_homepod'].attributes.media_title;
                                ]]]
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - padding-top: 5px
                                  - font-size: 20px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.9)
                          artist:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#kitchen_homepod'
                              name: |
                                [[[
                                   if (states['media_player.kitchen_homepod'].attributes.media_artist != undefined) 
                                   return states['media_player.kitchen_homepod'].attributes.media_artist;
                                ]]]
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 20px
                                  - font-weight: 400
                                  - color: rgba(255,255,255,0.3)
                        styles:
                          grid:
                            - grid-template-areas: '"i entity" "i title" "i artist" "i album" '
                            - grid-template-columns: max-content 1fr
                            - grid-template-rows: max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0 5px
                            - margin: 5px 0 -10px 0
                          entity_picture:
                            - align-self: start
                            - justify-self: start
                            - width: 70px
                            - border-radius: 10px
                      - type: custom:my-slider-v2
                        entity: media_player.kitchen_homepod
                        mode: seekbar
                        min: 0
                        max: 100
                        styles:
                          card:
                            - height: 20px
                            - box-shadow: none
                            - margin: 20px 0 0 0
                            - background: none
                          container:
                            - border-radius: 0px
                            - background: none
                            - padding: 0 0 0 5px
                          track:
                            - background: rgba(255,255,255,0.3)
                            - border-radius: 99px
                            - padding: 0 0px 0 0px
                            - width: 97%
                            - height: 7px
                            - margin: 0px 0 0 0
                          progress:
                            - background: rgba(255,255,255,0.9)
                            - border-radius: 25px 0px 0px 25px
                            - height: 7px
                            - margin: 0 0 0 0
                          thumb:
                            - background: rgba(255,255,255,0.9)
                            - width: 5px
                            - height: 7px
                            - border-radius: 0px
                      - type: custom:button-card
                        entity: media_player.kitchen_homepod
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          buttons:
                            card:
                              type: custom:button-card
                              custom_fields:
                                previous:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_previous_track
                                      target:
                                        entity_id: media_player.kitchen_homepod
                                    icon: mdi:rewind
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin: 0px
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                play:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_play_pause
                                      target:
                                        entity_id: media_player.kitchen_homepod
                                    hold_action:
                                      action: call-service
                                      service: media_player.turn_off
                                      target:
                                        entity_id:
                                          - media_player.kitchen_homepod
                                    entity: media_player.kitchen_homepod
                                    icon: mdi:play
                                    state:
                                      - value: playing
                                        icon: mdi:pause
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin-bottom: 0px
                                      icon:
                                        - width: 45px
                                        - color: rgba(255,255,255,0.5)
                                next:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_next_track
                                      target:
                                        entity_id: media_player.kitchen_homepod
                                    icon: mdi:fast-forward
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                star:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: url
                                      url_path: shortcuts://run-shortcut?name=HomeKit
                                    icon: mdi:apple-keyboard-command
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                                menu:
                                  card:
                                    type: custom:button-card
                                    entity: media_player.kitchen_homepod
                                    tap_action:
                                      action: more-info
                                    icon: mdi:menu
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                              styles:
                                grid:
                                  - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                  - grid-template-rows: min-content
                                  - grid-template-areas: '"star previous play next menu"'
                                card:
                                  - padding: 0 0 0 0px
                                  - margin: 3px 0px -6px 0px
                                  - align-self: end
                                  - background: none
                                  - box-shadow: none
                                  - border-width: 0px
                                  - border-radius: 0px
                        styles:
                          grid:
                            - grid-template-areas: '"buttons"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: transparent
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 15px 0px
                            - margin: '-10px 0px -15px 0px'
                      - type: custom:button-card
                        entity: media_player.kitchen_homepod
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          volume_control:
                            card:
                              type: horizontal-stack
                              cards:
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_down
                                    target:
                                      entity_id:
                                        - media_player.kitchen_homepod
                                  icon: mdi:volume-medium
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                                - type: custom:my-slider-v2
                                  entity: media_player.kitchen_homepod
                                  attribute: volume_level
                                  min: 0
                                  max: 100
                                  step: 2
                                  styles:
                                    card:
                                      - box-shadow: none
                                      - margin: 9px 0 0 0
                                      - background: none
                                    container:
                                      - border-radius: 0px
                                      - background: none
                                      - padding: 0 0 0 0px
                                    track:
                                      - background: rgba(255,255,255,0.3)
                                      - border-radius: 99px
                                      - width: 100%
                                      - height: 7px
                                      - margin: 0px 0 0 0
                                    progress:
                                      - background: rgba(255,255,255,0.9)
                                      - border-radius: 25px 0px 0px 25px
                                      - height: 7px
                                    thumb:
                                      - background: rgba(255,255,255,0.9)
                                      - width: 5px
                                      - height: 7px
                                      - border-radius: 0px
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_up
                                    target:
                                      entity_id:
                                        - media_player.kitchen_homepod
                                  icon: mdi:volume-high
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                        styles:
                          grid:
                            - grid-template-areas: '"volume_control"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0px 0px
                            - margin-bottom: '-5px'
              card_mod:
                style: |
                  ha-card {
                    background-color: rgba(0, 0, 0, 0.3); !important;
                    -webkit-backdrop-filter: blur(10px); !important;}
                    }
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.kitchen_homepod
                state: playing
            card:
              type: custom:button-card
              template: sub_headings
              variables:
                var_name: Cameras
          - show_state: false
            show_name: false
            camera_view: live
            type: picture-entity
            entity: camera.kitchen_camera_g3
            aspect_ratio: '9:6'
            card_mod:
              style: |
                ha-card {
                  border: transparent;
                  margin: auto;}
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Scenes
          - type: custom:button-card
            styles:
              grid:
                - grid-template-areas: '"chips" "chips"'
              card:
                - background: rgba(0, 0, 0, 0)
                  flex-direction: row
                  overflow-x: auto
                  flex-wrap: nowrap
                  flex-shrink: 0
                  scrollbar-width: thin
                  scrollbar-color: rgba(255,255,255, 0.05) rgba(255,255,255, 0)
                  padding: 0px
            custom_fields:
              chips:
                card:
                  type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Kitchen Mid Warm
                        var_scene: scene.kitchen_mid_warm
                        var_icon: mdi:lightbulb-on
                        var_icon_color: '#ff9800'
                      styles:
                        card:
                          - width: 190px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Kitchen Candle
                        var_scene: scene.kitchen_candle
                        var_icon: mdi:chandelier
                        var_icon_color: '#ff9800'
                      styles:
                        card:
                          - width: 190px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }              
                    - type: custom:button-card
                      template: apple_scene
                      variables:
                        var_name: Kitchen Bright
                        var_scene: scene.kitchen_cooking
                        var_icon: mdi:lightbulb-on
                        var_icon_color: yellow
                      styles:
                        card:
                          - width: 190px
                      card_mod:
                        style: |
                          ha-card {
                          background-color: rgba(0, 0, 0, 0.3); !important;
                          }          
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Lights
          - type: custom:button-card
            name: Kitchen Ceiling Light
            show_state: false
            show_icon: false
            entity: light.kitchen_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.kitchen_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Pendant
            show_state: false
            show_icon: false
            entity: light.pendant
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:ceiling-light-multiple
                  show_name: false
                  entity: light.pendant
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Dining Room
            show_state: false
            show_icon: false
            entity: light.dining_room_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.dining_room_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Media
          - type: custom:button-card
            name: HomePod
            show_state: false
            show_icon: false
            entity: media_player.kitchen_homepod
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'playing') {
                    const media_entity = states['media_player.kitchen_homepod'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_artist;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:speaker
                  show_name: false
                  entity: media_player.kitchen_homepod
                  tap_action:
                    action: toggle
                  state:
                    - value: playing
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: playing
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.4
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Dependencies
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card{
                  padding: 10px 0px 10px 0px;
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  -webkit-backdrop-filter: blur(10px); !important;
                  }
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Kitchen Override
                    var_entity: input_boolean.kitchen_override
                    var_icon: mdi:cancel
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Kitchen Dim
                    var_entity: input_boolean.kitchen_dim
                    var_icon: mdi:moon-waning-crescent
                    var_color: '#ff9800'
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: People Over
                    var_entity: input_boolean.people_over
                    var_icon: mdi:sleep
                    var_color: var(--label-badge-green)
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#kitchen_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.kitchen_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.kitchen_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.kitchen_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.kitchen_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.kitchen_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.kitchen_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.kitchen_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.kitchen_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.kitchen_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.kitchen_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.kitchen_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.kitchen_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.kitchen_homepod
                                      entity: media_player.kitchen_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.kitchen_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.kitchen_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.kitchen_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.kitchen_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.kitchen_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.kitchen_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
        visibility:
          - condition: state
            entity: input_boolean.kitchen_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: study
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Study
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.epl_study_illuminance
                        state_not: '0.0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.epl_study_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '100': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.epl_study_illuminance
                        state: '0.0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.epl_study_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,255,255,1)
                              width: 20
                            color_stops:
                              '0': rgba(255,255,255,1)
                              '100': rgba(255,255,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                            opacity: 0.1
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.study_lights
                    label: |
                      [[[ 
                        const state = states['sensor.study_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.epl_study_occupancy
                      var_icon_on: mdi:access-point
                      var_icon_off: mdi:access-point-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.epl_study_occupancy'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.study_motion_sensor
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.study_motion_sensor'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.nursery
                    state: playing
                card:
                  type: custom:button-card
                  template: sub_headings
                  variables:
                    var_name: Lights
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.nursery
                    state_not: playing
                card:
                  type: custom:button-card
                  template: first_subheading
                  variables:
                    var_device: Now Playing
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.left_study_homepod
                state_not: paused
              - condition: state
                entity: media_player.left_study_homepod
                state_not: 'off'
              - condition: state
                entity: media_player.left_study_homepod
                state_not: unavailable
              - condition: state
                entity: media_player.left_study_homepod
                state_not: idle
              - condition: state
                entity: media_player.left_study_homepod
                state_not: standby
            card:
              type: custom:button-card
              tap_action:
                action: navigate
                navigation_path: '#study_homepod'
              show_icon: false
              show_name: false
              show_state: false
              styles:
                grid:
                  - grid-template-areas: '"content"'
                  - grid-template-columns: 1fr
                  - grid-template-rows: max-content
                card:
                  - background-color: rgba(0,0,0,0.3)
                  - webkit-backdrop-filter: blur(10px); !important;}
                  - box-shadow: none
                  - border-radius: 20px
                  - border-width: 0px
                  - padding: 10px
                  - margin: 0px
              custom_fields:
                content:
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        entity: media_player.left_study_homepod
                        show_entity_picture: true
                        show_name: false
                        show_icon: false
                        custom_fields:
                          entity:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#study_homepod'
                              name: Study
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 13px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.3)
                          title:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#study_homepod'
                              name: |
                                [[[
                                   if (states['media_player.left_study_homepod'].attributes.media_title != undefined) 
                                   return states['media_player.left_study_homepod'].attributes.media_title;
                                ]]]
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - padding-top: 5px
                                  - font-size: 20px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.9)
                          artist:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#study_homepod'
                              name: |
                                [[[
                                   if (states['media_player.left_study_homepod'].attributes.media_artist != undefined) 
                                   return states['media_player.left_study_homepod'].attributes.media_artist;
                                ]]]
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 20px
                                  - font-weight: 400
                                  - color: rgba(255,255,255,0.3)
                        styles:
                          grid:
                            - grid-template-areas: '"i entity" "i title" "i artist" "i album" '
                            - grid-template-columns: max-content 1fr
                            - grid-template-rows: max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0 5px
                            - margin: 5px 0 -10px 0
                          entity_picture:
                            - align-self: start
                            - justify-self: start
                            - width: 70px
                            - border-radius: 10px
                      - type: custom:my-slider-v2
                        entity: media_player.left_study_homepod
                        mode: seekbar
                        min: 0
                        max: 100
                        styles:
                          card:
                            - height: 20px
                            - box-shadow: none
                            - margin: 20px 0 0 0
                            - background: none
                          container:
                            - border-radius: 0px
                            - background: none
                            - padding: 0 0 0 5px
                          track:
                            - background: rgba(255,255,255,0.3)
                            - border-radius: 99px
                            - padding: 0 0px 0 0px
                            - width: 97%
                            - height: 7px
                            - margin: 0px 0 0 0
                          progress:
                            - background: rgba(255,255,255,0.9)
                            - border-radius: 25px 0px 0px 25px
                            - height: 7px
                            - margin: 0 0 0 0
                          thumb:
                            - background: rgba(255,255,255,0.9)
                            - width: 5px
                            - height: 7px
                            - border-radius: 0px
                      - type: custom:button-card
                        entity: media_player.left_study_homepod
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          buttons:
                            card:
                              type: custom:button-card
                              custom_fields:
                                previous:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_previous_track
                                      target:
                                        entity_id: media_player.left_study_homepod
                                    icon: mdi:rewind
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin: 0px
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                play:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_play_pause
                                      target:
                                        entity_id: media_player.left_study_homepod
                                    hold_action:
                                      action: call-service
                                      service: media_player.turn_off
                                      target:
                                        entity_id:
                                          - media_player.left_study_homepod
                                    entity: media_player.left_study_homepod
                                    icon: mdi:play
                                    state:
                                      - value: playing
                                        icon: mdi:pause
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin-bottom: 0px
                                      icon:
                                        - width: 45px
                                        - color: rgba(255,255,255,0.5)
                                next:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_next_track
                                      target:
                                        entity_id: media_player.left_study_homepod
                                    icon: mdi:fast-forward
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                star:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: url
                                      url_path: shortcuts://run-shortcut?name=HomeKit
                                    icon: mdi:apple-keyboard-command
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                                menu:
                                  card:
                                    type: custom:button-card
                                    entity: media_player.left_study_homepod
                                    tap_action:
                                      action: more-info
                                    icon: mdi:menu
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                              styles:
                                grid:
                                  - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                  - grid-template-rows: min-content
                                  - grid-template-areas: '"star previous play next menu"'
                                card:
                                  - padding: 0 0 0 0px
                                  - margin: 3px 0px -6px 0px
                                  - align-self: end
                                  - background: none
                                  - box-shadow: none
                                  - border-width: 0px
                                  - border-radius: 0px
                        styles:
                          grid:
                            - grid-template-areas: '"buttons"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: transparent
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 15px 0px
                            - margin: '-10px 0px -15px 0px'
                      - type: custom:button-card
                        entity: media_player.left_study_homepod
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          volume_control:
                            card:
                              type: horizontal-stack
                              cards:
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_down
                                    target:
                                      entity_id:
                                        - media_player.left_study_homepod
                                  icon: mdi:volume-medium
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                                - type: custom:my-slider-v2
                                  entity: media_player.left_study_homepod
                                  attribute: volume_level
                                  min: 0
                                  max: 100
                                  step: 2
                                  styles:
                                    card:
                                      - box-shadow: none
                                      - margin: 9px 0 0 0
                                      - background: none
                                    container:
                                      - border-radius: 0px
                                      - background: none
                                      - padding: 0 0 0 0px
                                    track:
                                      - background: rgba(255,255,255,0.3)
                                      - border-radius: 99px
                                      - width: 100%
                                      - height: 7px
                                      - margin: 0px 0 0 0
                                    progress:
                                      - background: rgba(255,255,255,0.9)
                                      - border-radius: 25px 0px 0px 25px
                                      - height: 7px
                                    thumb:
                                      - background: rgba(255,255,255,0.9)
                                      - width: 5px
                                      - height: 7px
                                      - border-radius: 0px
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_up
                                    target:
                                      entity_id:
                                        - media_player.left_study_homepod
                                  icon: mdi:volume-high
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                        styles:
                          grid:
                            - grid-template-areas: '"volume_control"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0px 0px
                            - margin-bottom: '-5px'
              card_mod:
                style: |
                  ha-card {
                    background-color: rgba(0, 0, 0, 0.3); !important;
                    -webkit-backdrop-filter: blur(10px); !important;}
                    }
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.left_study_homepod
                state: playing
            card:
              type: custom:button-card
              template: sub_headings
              variables:
                var_name: Lights
          - type: custom:button-card
            name: Study Ceiling Light
            show_state: false
            show_icon: false
            entity: light.spare_bedroom_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.spare_bedroom_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Desk Strip Light
            show_state: false
            show_icon: false
            entity: light.desk_strip_aqara
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.desk_strip_aqara
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Desk Lamp
            show_state: false
            show_icon: false
            entity: light.home_desk_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:desk-lamp-on
                  show_name: false
                  entity: light.home_desk_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Media
          - type: custom:button-card
            name: Left HomePod
            show_state: false
            show_icon: false
            entity: media_player.left_study_homepod
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'playing') {
                    const media_entity = states['media_player.left_study_homepod'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_artist;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:speaker
                  show_name: false
                  entity: media_player.left_study_homepod
                  tap_action:
                    action: toggle
                  state:
                    - value: playing
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: playing
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Right HomePod
            show_state: false
            show_icon: false
            entity: media_player.left_study_homepod
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'playing') {
                    const media_entity = states['media_player.left_study_homepod'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_artist;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:speaker
                  show_name: false
                  entity: media_player.left_study_homepod
                  tap_action:
                    action: toggle
                  state:
                    - value: playing
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: playing
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#study_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.left_study_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.left_study_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.left_study_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.left_study_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.left_study_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.left_study_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.left_study_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.left_study_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.left_study_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.left_study_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.left_study_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.left_study_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.left_study_homepod
                                      entity: media_player.left_study_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.left_study_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.left_study_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.left_study_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.left_study_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.left_study_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.left_study_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
        visibility:
          - condition: state
            entity: input_boolean.study_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: patio
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Patio
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.pergola_temperature
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.pergola_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.pergola_temperature
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.pergola_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.pergola_temperature
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.pergola_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.pergola_temperature
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.pergola_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.pergola_illuminance
                        state_not: '0'
                      - condition: state
                        entity: binary_sensor.sun
                        state: 'on'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.pergola_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 58
                                  styles:
                                    - font-size: 4em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 500
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '500': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.pergola_illuminance
                        state_not: '0'
                      - condition: state
                        entity: binary_sensor.sun
                        state: 'off'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.pergola_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 500
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '500': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.pergola_illuminance
                        state: '0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.pergola_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,255,255,0.1)
                              width: 20
                            color_stops:
                              '0': rgba(255,255,255,1)
                              '100': rgba(255,255,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                            opacity: 0.2
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.patio_lights
                    label: |
                      [[[ 
                        const state = states['sensor.patio_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.pergola_motion
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.pergola_motion'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.patio_homepod
                    state_not: playing
                card:
                  type: custom:button-card
                  template: first_subheading
                  variables:
                    var_device: Cameras
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.patio_homepod
                    state: playing
                card:
                  type: custom:button-card
                  template: sub_headings
                  variables:
                    var_name: Now Playing
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.patio_homepod
                state_not: paused
              - condition: state
                entity: media_player.patio_homepod
                state_not: 'off'
              - condition: state
                entity: media_player.patio_homepod
                state_not: unavailable
              - condition: state
                entity: media_player.patio_homepod
                state_not: idle
            card:
              type: custom:button-card
              show_icon: false
              show_name: false
              show_state: false
              styles:
                grid:
                  - grid-template-areas: '"content"'
                  - grid-template-columns: 1fr
                  - grid-template-rows: max-content
                card:
                  - background-color: rgba(0,0,0,0.3)
                  - webkit-backdrop-filter: blur(10px); !important;}
                  - box-shadow: none
                  - border-radius: 20px
                  - border-width: 0px
                  - padding: 10px
                  - margin: 0px
              custom_fields:
                content:
                  card:
                    type: vertical-stack
                    cards:
                      - type: custom:button-card
                        entity: media_player.patio_homepod
                        tap_action:
                          action: navigate
                          navigation_path: '#patio_homepod'
                        show_entity_picture: true
                        show_name: false
                        show_icon: false
                        custom_fields:
                          entity:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#patio_homepod'
                              name: Patio
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 13px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.3)
                          title:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#patio_homepod'
                              name: |
                                [[[
                                   if (states['media_player.patio_homepod'].attributes.media_title != undefined) 
                                   return states['media_player.patio_homepod'].attributes.media_title;
                                ]]]
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - padding-top: 5px
                                  - font-size: 20px
                                  - font-weight: 600
                                  - color: rgba(255,255,255,0.9)
                          artist:
                            card:
                              type: custom:button-card
                              tap_action:
                                action: navigate
                                navigation_path: '#patio_homepod'
                              name: |
                                [[[
                                   if (states['media_player.patio_homepod'].attributes.media_artist != undefined) 
                                   return states['media_player.patio_homepod'].attributes.media_artist;
                                ]]]
                              show_label: true
                              show_icon: false
                              styles:
                                card:
                                  - box-shadow: none
                                  - background: none
                                  - padding: 0px
                                  - border-radius: 0px
                                  - border-width: 0px
                                name:
                                  - justify-self: start
                                  - padding-left: 15px
                                  - font-size: 20px
                                  - font-weight: 400
                                  - color: rgba(255,255,255,0.3)
                        styles:
                          grid:
                            - grid-template-areas: '"i entity" "i title" "i artist" "i album" '
                            - grid-template-columns: max-content 1fr
                            - grid-template-rows: max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0 5px
                            - margin: 5px 0 -10px 0
                          entity_picture:
                            - align-self: start
                            - justify-self: start
                            - width: 70px
                            - border-radius: 10px
                      - type: custom:my-slider-v2
                        entity: media_player.patio_homepod
                        mode: seekbar
                        min: 0
                        max: 100
                        styles:
                          card:
                            - height: 20px
                            - box-shadow: none
                            - margin: 20px 0 0 0
                            - background: none
                          container:
                            - border-radius: 0px
                            - background: none
                            - padding: 0 0 0 5px
                          track:
                            - background: rgba(255,255,255,0.3)
                            - border-radius: 99px
                            - padding: 0 0px 0 0px
                            - width: 97%
                            - height: 7px
                            - margin: 0px 0 0 0
                          progress:
                            - background: rgba(255,255,255,0.9)
                            - border-radius: 25px 0px 0px 25px
                            - height: 7px
                            - margin: 0 0 0 0
                          thumb:
                            - background: rgba(255,255,255,0.9)
                            - width: 5px
                            - height: 7px
                            - border-radius: 0px
                      - type: custom:button-card
                        entity: media_player.patio_homepod
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          buttons:
                            card:
                              type: custom:button-card
                              custom_fields:
                                previous:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_previous_track
                                      target:
                                        entity_id: media_player.patio_homepod
                                    icon: mdi:rewind
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin: 0px
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                play:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_play_pause
                                      target:
                                        entity_id: media_player.patio_homepod
                                    hold_action:
                                      action: call-service
                                      service: media_player.turn_off
                                      target:
                                        entity_id:
                                          - media_player.patio_homepod
                                    entity: media_player.patio_homepod
                                    icon: mdi:play
                                    state:
                                      - value: playing
                                        icon: mdi:pause
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                        - padding: 0px
                                        - margin-bottom: 0px
                                      icon:
                                        - width: 45px
                                        - color: rgba(255,255,255,0.5)
                                next:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.media_next_track
                                      target:
                                        entity_id: media_player.patio_homepod
                                    icon: mdi:fast-forward
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 35px
                                        - color: rgba(255,255,255,0.5)
                                star:
                                  card:
                                    type: custom:button-card
                                    tap_action:
                                      action: url
                                      url_path: shortcuts://run-shortcut?name=HomeKit
                                    icon: mdi:apple-keyboard-command
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                                menu:
                                  card:
                                    type: custom:button-card
                                    entity: media_player.patio_homepod
                                    tap_action:
                                      action: more-info
                                    icon: mdi:menu
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 25px
                                        - color: rgba(255,255,255,0.5)
                              styles:
                                grid:
                                  - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                  - grid-template-rows: min-content
                                  - grid-template-areas: '"star previous play next menu"'
                                card:
                                  - padding: 0 0 0 0px
                                  - margin: 3px 0px -6px 0px
                                  - align-self: end
                                  - background: none
                                  - box-shadow: none
                                  - border-width: 0px
                                  - border-radius: 0px
                        styles:
                          grid:
                            - grid-template-areas: '"buttons"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content max-content max-content max-content;
                            - align-items: end
                          card:
                            - background: transparent
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 15px 0px
                            - margin: '-10px 0px -15px 0px'
                      - type: custom:button-card
                        entity: media_player.patio_homepod
                        show_entity_picture: false
                        show_name: false
                        show_icon: false
                        custom_fields:
                          volume_control:
                            card:
                              type: horizontal-stack
                              cards:
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_down
                                    target:
                                      entity_id:
                                        - media_player.patio_homepod
                                  icon: mdi:volume-medium
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                                - type: custom:my-slider-v2
                                  entity: media_player.patio_homepod
                                  attribute: volume_level
                                  min: 0
                                  max: 100
                                  step: 2
                                  styles:
                                    card:
                                      - box-shadow: none
                                      - margin: 9px 0 0 0
                                      - background: none
                                    container:
                                      - border-radius: 0px
                                      - background: none
                                      - padding: 0 0 0 0px
                                    track:
                                      - background: rgba(255,255,255,0.3)
                                      - border-radius: 99px
                                      - width: 100%
                                      - height: 7px
                                      - margin: 0px 0 0 0
                                    progress:
                                      - background: rgba(255,255,255,0.9)
                                      - border-radius: 25px 0px 0px 25px
                                      - height: 7px
                                    thumb:
                                      - background: rgba(255,255,255,0.9)
                                      - width: 5px
                                      - height: 7px
                                      - border-radius: 0px
                                - type: custom:button-card
                                  tap_action:
                                    action: call-service
                                    service: media_player.volume_up
                                    target:
                                      entity_id:
                                        - media_player.patio_homepod
                                  icon: mdi:volume-high
                                  show_name: false
                                  styles:
                                    card:
                                      - border-radius: 5px
                                      - width: 30px
                                      - border-width: 0px
                                      - box-shadow: none
                                      - background: rgba(255,255,255,0.0)
                                      - align-self: end
                                      - align-content: end
                                    icon:
                                      - width: 20px
                                      - color: rgba(255,255,255,0.5)
                        styles:
                          grid:
                            - grid-template-areas: '"volume_control"'
                            - grid-template-columns: 1fr
                            - grid-template-rows: max-content;
                            - align-items: end
                          card:
                            - background: none
                            - box-shadow: none
                            - border-radius: 0px
                            - border-width: 0px
                            - padding: 0px 0px 0px 0px
                            - margin-bottom: '-5px'
              card_mod:
                style: |
                  ha-card {
                    background-color: rgba(0, 0, 0, 0.3); !important;
                    -webkit-backdrop-filter: blur(10px); !important;}
                    }
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.patio_homepod
                state: playing
            card:
              type: custom:button-card
              template: sub_headings
              variables:
                var_name: Cameras
          - show_state: false
            show_name: false
            camera_view: live
            type: picture-entity
            entity: camera.patio_camera_starling
            card_mod:
              style: |
                ha-card {
                  border: transparent;
                  margin: auto;}
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Lights
          - type: custom:button-card
            name: Bar Strip
            show_state: false
            show_icon: false
            entity: light.pergola_lightstrip
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.pergola_lightstrip
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Festoon
            show_state: false
            show_icon: false
            entity: light.festoon_2
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: light.festoon_2
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Climate
          - type: custom:button-card
            name: Fans
            show_state: false
            show_icon: false
            entity: fan.patio_ceiling_fans
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return entity.attributes.percentage + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:fan
                  show_name: false
                  entity: fan.patio_ceiling_fans
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: '#00b4cd'
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Media
          - type: custom:button-card
            name: HomePod
            show_state: false
            show_icon: false
            entity: media_player.patio_homepod
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'playing') {
                    const media_entity = states['media_player.patio_homepod'];
                    return media_entity.attributes.media_title + " - " + media_entity.attributes.media_artist;
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:speaker
                  show_name: false
                  entity: media_player.patio_homepod
                  tap_action:
                    action: toggle
                  state:
                    - value: playing
                      styles:
                        img_cell:
                          - background: var(--label-badge-blue)
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: rgba(255,255,255,0.5)
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: playing
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#patio_homepod'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                    - padding: 10px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.patio_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.patio_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.patio_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.patio_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.patio_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.patio_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.patio_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.patio_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.patio_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.patio_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.patio_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.patio_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.patio_homepod
                                      entity: media_player.patio_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.patio_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.patio_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 0px 0px 0px 0px
                        - type: custom:button-card
                          entity: media_player.patio_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.patio_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.patio_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.patio_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
        visibility:
          - condition: state
            entity: input_boolean.patio_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: front-yard
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Front Yard
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.front_yard_lights
                    label: |
                      [[[ 
                        const state = states['sensor.front_yard_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: input_boolean.front_yard_people
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.front_yard_people'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: custom:button-card
                template: first_subheading
                variables:
                  var_device: Cameras
          - show_state: false
            show_name: false
            camera_view: live
            type: picture-entity
            entity: camera.front_camera_starling
            card_mod:
              style: |
                ha-card {
                  border: transparent;
                  margin: auto;}
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Lights
          - type: custom:button-card
            name: Veranda Light
            show_state: false
            show_icon: false
            entity: light.front_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lightbulb-variant
                  show_name: false
                  entity: light.front_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Floodlight
            show_state: false
            show_icon: false
            entity: light.front_camera_starling_floodlight
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-flood-down
                  show_name: false
                  entity: light.front_camera_starling_floodlight
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Driveway
            show_state: false
            show_icon: false
            entity: light.driveway
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lightbulb-variant
                  show_name: false
                  entity: light.driveway
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Garden Lights Switch
            show_state: false
            show_icon: false
            entity: switch.festoon_lighting_socket_1
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:power-plug
                  show_name: false
                  entity: switch.festoon_lighting_socket_1
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Garden Lights
            show_state: false
            show_icon: false
            entity: light.garden_lights
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lightbulb-spot
                  show_name: false
                  entity: light.garden_lights
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.front_yard_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: backyard
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Backyard
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.backyard_lights
                    label: |
                      [[[ 
                        const state = states['sensor.backyard_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: input_boolean.backyard_people
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.backyard_people'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: custom:button-card
                template: first_subheading
                variables:
                  var_device: Cameras
          - show_state: false
            show_name: false
            camera_view: live
            type: picture-entity
            entity: camera.backyard_camera_starling
            card_mod:
              style: |
                ha-card {
                  border: transparent;
                  margin: auto;}
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Lights
          - type: custom:button-card
            name: Festoon
            show_state: false
            show_icon: false
            entity: switch.backyard_festoon
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: switch.backyard_festoon
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Floodlight
            show_state: false
            show_icon: false
            entity: light.floodlight
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-flood-down
                  show_name: false
                  entity: light.floodlight
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.backyard_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: garage
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Garage
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: weather.belmont_bom
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: weather.belmont_bom
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.garage_lights
                    label: |
                      [[[ 
                        const state = states['sensor.garage_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: input_boolean.rear_driveway_people
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['input_boolean.rear_driveway_people'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: custom:button-card
                template: first_subheading
                variables:
                  var_device: Cameras
          - show_state: false
            show_name: false
            camera_view: live
            type: picture-entity
            entity: camera.garage_camera_starling
            card_mod:
              style: |
                ha-card {
                  border: transparent;
                  margin: auto;}
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Lights
          - type: custom:button-card
            name: Garage Ceiling Light
            show_state: false
            show_icon: false
            entity: light.garage_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lightbulb
                  show_name: false
                  entity: light.garage_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Rear Driveway
            show_state: false
            show_icon: false
            entity: light.rear_driveway_floodlight
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-flood-down
                  show_name: false
                  entity: light.rear_driveway_floodlight
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: String Lights
            show_state: false
            show_icon: false
            entity: light.garage_string_lights
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: light.garage_string_lights
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Security
          - type: custom:button-card
            name: Garage Door
            show_state: false
            show_icon: false
            entity: cover.smart_garage_door_opener_msg100_main_channel
            custom_fields:
              num: |
                [[[ 
                switch (entity.state) {
                  case 'open':
                    return 'Open';
                  case 'closed':
                    return 'Closed';
                  case 'opening':
                    return 'Opening';
                  case 'closing':
                    return 'Closing';
                  default:
                    return 'Unknown State'; // Optional: Handle unexpected states
                }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:garage
                  show_name: false
                  entity: light.smart_garage_door_opener_msg100_main_channel
                  tap_action:
                    action: toggle
                  state:
                    - value: open
                      styles:
                        img_cell:
                          - background: '#926cc7'
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: '#926cc7'
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.3)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 13px 15px 15px 15px
                  border-radius: 20px
                  height: 140px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.garage_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Other
              - square: true
                type: grid
                cards:
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.other_lights
                    label: |
                      [[[ 
                        const state = states['sensor.other_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.laundry_motion_sensor
                      var_icon: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.laundry_motion_sensor'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: custom:button-card
                template: first_subheading
                variables:
                  var_device: Lights
              - type: custom:anchor-card
                anchor_id: other
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
          - type: custom:button-card
            name: Laundry Strip
            show_state: false
            show_icon: false
            entity: light.laundry_strip
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.laundry_strip
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Hallway Ceiling Lights
            show_state: false
            show_icon: false
            entity: light.hallway_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.hallway_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            name: Candle
            show_state: false
            show_icon: false
            entity: input_boolean.candle
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:candle
                  show_name: false
                  entity: input_boolean.candle
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.other_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: bathroom
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Bathroom
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.hue_motion_sensor_3_temperature
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_3_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.hue_motion_sensor_3_temperature
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_3_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.hue_motion_sensor_3_temperature
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_3_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.hue_motion_sensor_3_temperature
                        above: 26.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_3_temperature
                                attribute: temperature
                                decimals: 0
                                unit: 
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.hue_motion_sensor_3_illuminance
                        state_not: '0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_3_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,204,0,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,204,0,1)
                              '100': rgba(255,204,0,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.hue_motion_sensor_3_illuminance
                        state: '0'
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.hue_motion_sensor_3_illuminance
                                attribute: temperature
                                decimals: 0
                                unit: lux
                                area: Nursery
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 61
                                  styles:
                                    - font-size: 5.7em;
                                    - font-weight: bold;
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 100
                              color: rgba(255,255,255,1)
                              width: 20
                            color_stops:
                              '0': rgba(255,255,255,1)
                              '100': rgba(255,255,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                            opacity: 0.1
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: light.bathroom_light
                    label: |
                      [[[ 
                        const state = states['sensor.bathroom_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.esp_bathroom_zone_1_occupancy
                      var_icon_on: mdi:access-point
                      var_icon_off: mdi:access-point-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.esp_bathroom_zone_1_occupancy'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                  - type: custom:button-card
                    template: motion_bubble
                    variables:
                      var_entity: binary_sensor.hue_motion_sensor_3_motion
                      var_icon_on: mdi:motion-sensor
                      var_icon_off: mdi:motion-sensor-off
                    label: |
                      [[[ 
                        const lastChanged = new Date(states['binary_sensor.esp_bathroom_zone_1_occupancy'].last_changed);
                        const now = new Date();
                        const diffInMs = now - lastChanged;

                        const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                        const diffInMinutes = Math.floor((diffInMs % (1000 * 60 * 60)) / (1000 * 60));

                        if (diffInHours >= 1) {
                          return 'Over 1 hr';
                        } else {
                          return `${diffInMinutes} mins`;
                        }
                      ]]]
                    card_mod:
                      style: |
                        ha-card {
                        -webkit-backdrop-filter: blur(10px); !important;
                        }
                columns: 5
              - type: custom:button-card
                template: first_subheading
                variables:
                  var_device: Lights
          - type: custom:button-card
            name: Ceiling Light
            show_state: false
            show_icon: false
            entity: light.bathroom_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.bathroom_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - border-radius: 0px
                        background: rgba(0,0,0,0)
                        padding: 0px
                        margin: '-1px'
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: var(--label-badge-blue)
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn" "n" "num"'
                  grid-template-columns: 1fr;
                  grid-template-rows: min-content min-content min-content;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 40px
                  padding-bottom: 1px
              state:
                - justify-self: start
                  font-size: 14px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    font-weight: 400
                    opacity: 1
              card:
                - padding: 14px 15px 15px 15px
                  border-radius: 20px
                  height: 143px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
        visibility:
          - condition: state
            entity: input_boolean.bathroom_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: overvi
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Overview
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.front_house_average_temperature
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.front_house_average_temperature
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: FRONT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.front_house_average_temperature
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.front_house_average_temperature
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: FRONT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.front_house_average_temperature
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.front_house_average_temperature
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: FRONT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.front_house_average_temperature
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.front_house_average_temperature
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: FRONT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.back_house_average_temperature
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.back_house_average_temperature
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: BACK
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.back_house_average_temperature
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.back_house_average_temperature
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: BACK
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.back_house_average_temperature
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.back_house_average_temperature
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: BACK
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.back_house_average_temperature
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.back_house_average_temperature
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: more-info
                              - entity: sensor.belmont_mdi_icon_0
                                name: BACK
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.geelong_racecourse_temp
                        below: 17
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.geelong_racecourse_temp
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: navigate
                                  navigation_path: '#weather'
                              - entity: sensor.belmont_mdi_icon_0
                                name: OUT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(49,209,88,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(49,209,88,1)
                              '40': rgba(49,209,88,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.geelong_racecourse_temp
                        above: 16.99
                        below: 23
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.geelong_racecourse_temp
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: navigate
                                  navigation_path: '#weather'
                              - entity: sensor.belmont_mdi_icon_0
                                name: OUT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(0,122,255,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(0,122,255,1)
                              '40': rgba(0,122,255,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.geelong_racecourse_temp
                        above: 22.99
                        below: 27
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.geelong_racecourse_temp
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: navigate
                                  navigation_path: '#weather'
                              - entity: sensor.belmont_mdi_icon_0
                                name: OUT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(255,52,40,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(255,52,40,1)
                              '40': rgba(255,52,40,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.geelong_racecourse_temp
                        above: 25.99
                    card:
                      type: custom:button-card
                      custom_fields:
                        cluster:
                          card:
                            type: custom:flex-horseshoe-card
                            entities:
                              - entity: sensor.geelong_racecourse_temp
                                attribute: temperature
                                decimals: 1
                                unit: 
                                area: Nursery
                                tap_action:
                                  action: navigate
                                  navigation_path: '#weather'
                              - entity: sensor.belmont_mdi_icon_0
                                name: OUT
                            show:
                              horseshoe_style: lineargradient
                            layout:
                              states:
                                - id: 0
                                  entity_index: 0
                                  xpos: 50
                                  ypos: 59
                                  styles:
                                    - font-size: 5em;
                                    - font-weight: bold;
                              names:
                                - id: 1
                                  entity_index: 1
                                  xpos: 50
                                  ypos: 85
                                  styles:
                                    - font-size: 2.2em;
                                    - font-weight: bold;
                                    - letter-spacing: 0.15em;
                                    - color: rgba(255,255,255,0.3)
                            horseshoe_state:
                              width: 20
                            horseshoe_scale:
                              min: 0
                              max: 40
                              color: rgba(175,82,222,0.3)
                              width: 20
                            color_stops:
                              '0': rgba(175,82,222,1)
                              '40': rgba(175,82,222,1)
                            card_mod:
                              style: |
                                ha-card {
                                  background-color: transparent;
                                  margin: -5px;
                                }
                      styles:
                        grid:
                          - grid-template-areas: '"cluster"'
                            grid-template-columns: 1fr;
                            grid-template-rows: 1fr;
                        card:
                          - padding: 0px
                            border-radius: 0px
                            height: 75px
                            width: 75px
                            background-color: transparent
                            margin-top: '-3px'
                            margin-right: '-10px'
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: sensor.all_lights
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/lights
                    label: |
                      [[[ 
                        const state = states['sensor.all_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    state:
                      - value: '0'
                        icon: mdi:lightbulb-off
                        styles:
                          card: null
                          icon:
                            - color: rgba(255,255,255,0.5)
                          label:
                            - color: rgba(255,255,255,0.5)
                    styles:
                      icon:
                        - color: |
                            [[[
                            if (entity.state > 0)
                              return "gold";
                            ]]]
                      label:
                        - color: |
                            [[[
                            if (entity.state > 0)
                              return "white";
                            ]]]
                columns: 5
              - type: custom:button-card
                template: first_subheading
                variables:
                  var_device: Temperature
          - type: custom:mini-graph-card
            name: Nursery Temperature
            tap_action:
              action: navigate
              navigation_path: '#temperature'
            entities:
              - entity: sensor.back_house_average_temperature
                name: Back
              - entity: sensor.front_house_average_temperature
                name: Front
            color_thresholds:
              - value: 15
                color: '#68ce67'
              - value: 17.5
                color: '#3478f6'
              - value: 20
                color: '#a358d7'
              - value: 22.5
                color: '#eb4838'
              - value: 25
                color: '#f6ce46'
            show:
              icon: false
              name: false
              state: true
              fill: false
            styles:
              card:
                - background-color: transparent
                  border: none
            card_mod:
              style: |
                ha-card {
                  --ha-card-background: rgba(0, 0, 0, 0.3);
                  -webkit-backdrop-filter: blur(10px); !important;
                }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Rooms
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Bedroom
              var_entity: script.bedroom_dash_2
              var_temp: sensor.bedroom_split_system_temperature_feels_like
              var_motion: binary_sensor.presence_sensor_presence
              var_sensor: sensor.bedroom_lights
              var_lights: light.bedroom_lights
              var_occupancy: binary_sensor.presence_sensor_presence
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Living Room
              var_entity: script.living_room_dash_2
              var_motion: binary_sensor.epl_living_room_occupancy
              var_temp: sensor.living_room_split_system_temperature_feels_like
              var_sensor: sensor.living_room_lights
              var_lights: light.living_room_lights
              var_occupancy: binary_sensor.epl_living_room_occupancy
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Kitchen
              var_entity: script.kitchen_dash_2
              var_motion: binary_sensor.everything_presence_lite_20c1bc_occupancy
              var_temp: sensor.hue_motion_sensor_1_temperature
              var_lights: light.kitchen_lights
              var_sensor: sensor.kitchen_lights
              var_occupancy: binary_sensor.everything_presence_lite_20c1bc_occupancy
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Nursery
              var_entity: script.nursery_dash_2
              var_temp: input_number.cubo_temperature
              var_motion: binary_sensor.nursery_motion_sensor
              var_sensor: sensor.nursery_lights
              var_lights: light.nursery_lights
              var_occupancy: binary_sensor.nursery_occupied
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Bathroom
              var_entity: script.bathroom_dash_2
              var_temp: sensor.hue_motion_sensor_3_temperature
              var_motion: binary_sensor.esp_bathroom_zone_1_occupancy
              var_lights: light.bathroom_light
              var_sensor: sensor.bathroom_lights
              var_occupancy: binary_sensor.esp_bathroom_zone_1_occupancy
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Study
              var_entity: script.study_dash_2
              var_motion: binary_sensor.epl_study_occupancy
              var_temp: sensor.unavailable
              var_sensor: sensor.study_lights
              var_lights: light.study_lights
              var_occupancy: binary_sensor.epl_study_occupancy
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Patio
              var_entity: script.patio_dash_2
              var_temp: sensor.pergola_temperature
              var_motion: binary_sensor.pergola_motion
              var_sensor: sensor.patio_lights
              var_lights: light.patio_lights
              var_occupancy: light.patio_lights
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Front Yard
              var_entity: script.front_yard_dash_2
              var_motion: input_boolean.front_yard_people
              var_temp: sensor.unavailable
              var_sensor: sensor.front_yard_lights
              var_lights: light.front_yard_lights
              var_occupancy: light.front_yard_lights
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Backyard
              var_entity: script.backyard_dash_2
              var_motion: input_boolean.backyard_people
              var_temp: sensor.unavailable
              var_sensor: sensor.backyard_lights
              var_lights: light.backyard_lights
              var_occupancy: light.backyard_lights
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: auto
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Garage
              var_entity: script.garage_dash_2
              var_motion: input_boolean.rear_driveway_people
              var_temp: sensor.unavailable
              var_sensor: sensor.garage_lights
              var_lights: light.garage_lights
              var_occupancy: binary_sensor.garage_occupied
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: auto
          - type: custom:button-card
            template: room_card
            variables:
              var_name: Other
              var_entity: script.other_dash_2
              var_motion: sensor.unavailable
              var_temp: sensor.unavailable
              var_sensor: sensor.other_lights
              var_lights: light.other_lights
              var_occupancy: light.other_lights
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: custom:button-card
            template: room_card
            variables:
              var_name: All Rooms
              var_entity: script.all_dash_on
              var_temp: sensor.unavailable
              var_motion: sensor.unavailable
              var_sensor: sensor.unavailable
              var_lights: sensor.unavailable
              var_occupancy: sensor.unavailable
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;
                }
            layout_options:
              grid_columns: 2
              grid_rows: 2.3
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#temperature'
                margin_top_mobile: '-56px'
                margin_top_desktop: '-56px'
                bg_opacity: '0'
                bg_color: ''
                bg_blur: '25'
                show_icon: false
                margin: 7px
                width_desktop: 400px
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Temperature
                styles:
                  card:
                    - margin-top: 0px
              - type: history-graph
                entities:
                  - entity: sensor.front_house_average_temperature
                  - entity: sensor.back_house_average_temperature
              - type: history-graph
                entities:
                  - entity: sensor.hue_motion_sensor_1_temperature
                  - entity: sensor.hue_motion_sensor_3_temperature
                  - entity: sensor.bedroom_split_system_temperature_feels_like
                  - entity: sensor.living_room_split_system_temperature_feels_like
                  - entity: sensor.nursery_temperature
        visibility:
          - condition: state
            entity: input_boolean.favourites_dash
            state: 'on'
      - type: grid
        cards:
          - type: conditional
            conditions:
              - condition: state
                entity: input_boolean.living_room_dash
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: custom:bubble-card
                  card_type: pop-up
                  hash: '#living-room-split-system'
                  margin_top_mobile: 50px
                  margin_top_desktop: 200px
                  bg_opacity: '0'
                  bg_color: ''
                  bg_blur: '25'
                  show_icon: false
                  margin: 7px
                  width_desktop: 400px
                  hide_backdrop: false
                - type: custom:gap-card
                  height: 5
                - type: thermostat
                  entity: climate.living_room_split_system
                  features:
                    - type: climate-hvac-modes
                    - type: climate-fan-modes
                      style: dropdown
                  name: Split System
                  card_mod:
                    style: |
                      ha-card {
                        background-color: transparent;}
          - type: conditional
            conditions:
              - condition: state
                entity: input_boolean.bedroom_dash
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: custom:bubble-card
                  card_type: pop-up
                  hash: '#bedroom-split-system'
                  margin_top_mobile: 50px
                  margin_top_desktop: 200px
                  bg_opacity: '0'
                  bg_color: ''
                  bg_blur: '25'
                  show_icon: false
                  margin: 7px
                  width_desktop: 400px
                  hide_backdrop: false
                - type: custom:gap-card
                  height: 5
                - type: thermostat
                  entity: climate.bedroom_split_system
                  features:
                    - type: climate-hvac-modes
                    - type: climate-fan-modes
                      style: dropdown
                  name: Split System
                  card_mod:
                    style: |
                      ha-card {
                        background-color: transparent;}
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#menu'
                show_header: false
                button_type: switch
                entity: person.alistair_merritt
                bg_opacity: '0'
                hide_backdrop: false
                bg_blur: '25'
                margin_top_desktop: 0px
                margin_top_mobile: 10px
                open_action: {}
                close_on_click: true
              - type: custom:button-card
                entity: input_boolean.home_dash
                name: Home
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.all_dash_off"}
                     )
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.favourites_dash_2"}
                     )     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/home-view/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.favourites_dash
                name: Overview
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.favourites_dash_2"}
                     )

                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bedroom_dash
                name: Bedroom
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.bedroom_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.living_room_dash
                name: Living Room
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.living_room_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                    - padding-left: 80px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-red)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.kitchen_dash
                name: Kitchen
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.kitchen_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-blue)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.nursery_dash
                name: Nursery
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.nursery_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#ffc700'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.study_dash
                name: Study
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.study_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.patio_dash
                name: Patio
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.patio_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#a650a7'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.front_yard_dash
                name: Front Yard
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.front_yard_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.backyard_dash
                name: Backyard
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.backyard_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.garage_dash
                name: Garage
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.garage_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bathroom_dash
                name: Bathroom
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.bathroom_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.other_dash
                name: Other
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.other_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                icon: mdi:close
                show_name: false
                tap_action:
                  action: navigate
                  navigation_path: '#menu'
                styles:
                  icon:
                    - width: 30px
                    - color: rgba(255,255,255,0.3)
                  img_cell:
                    - width: 50px
                    - height: 35px
                    - border-radius: 0px
                  card:
                    - background: none
                    - border-radius: 0px
                    - padding: 0
                    - align-content: end
                    - margin-left: 142px
                    - padding-bottom: 30px
                  label:
                    - font-size: 10px
                    - font-weight: 400
                    - letter-spacing: 0em
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(0, 0, 0, 0.3) !important;
                    }
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    right: 20px !important;
                    width: calc(100% - 20px);
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(0, 0, 0, 0.3) !important;
                    border-width: 3px;
                    border-radius: 100px;
                    padding: 10px;
                    drop-shadow: 0px 0px 0px 0px rgba(0,0,0,1)

                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 70px;
                    right: 18px;
                  }
                }
            card:
              type: custom:button-card
              icon: mdi:plus
              show_name: false
              tap_action:
                action: navigate
                navigation_path: '#menu'
              styles:
                icon:
                  - width: 30px
                  - color: rgba(255,255,255,0.3)
                img_cell:
                  - width: 50px
                  - height: 50px
                  - border-radius: 0px
                card:
                  - background: none
                  - border-radius: 0px
                  - padding: 0
                label:
                  - font-size: 10px
                  - font-weight: 400
                  - letter-spacing: 0em
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    top: 0px;
                    right: -15px !important;
                    width: calc(100% - 20px);
                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 400px;
                  }
                }
                ha-card{
                  margin-top: {% if is_state('input_boolean.kiosk_mode', 'off') %}70px{% else %}0{% endif %}}
            card:
              type: vertical-stack
              cards:
                - type: conditional
                  conditions:
                    - condition: screen
                      media_query: '(min-width: 0px) and (max-width: 767px)'
                  card:
                    type: custom:button-card
                    styles:
                      card:
                        - width: 400px
                        - height: 100px
                        - margin-left: '-15px'
                        - margin-right: '-15px'
                        - margin-top: '-15px'
                        - border-radius: 0px
                        - border: transparent
                        - background: >-
                            linear-gradient(0deg, rgba(0,0,0,0) 0%,
                            rgba(0,0,0,1) 90%);
                - type: custom:button-card
                  name: Home
                  icon: mdi:chevron-left
                  show_state: false
                  show_icon: true
                  show_name: true
                  tap_action:
                    action: navigate
                    navigation_path: lovelace/home-view
                  custom_fields:
                    btn:
                      card:
                        type: custom:layout-card
                        layout_type: custom:grid-layout
                        layout:
                          grid-template-columns: repeat(4, min-content)
                          grid-template-rows: min-content
                          grid-template-areas: '"one two three four"'
                        cards:
                          - view_layout:
                              grid-area: one
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:view-grid
                              tap_action:
                                action: call-service
                                service: script.favourites_dash_2
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: two
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:lightbulb
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/lights
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: three
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:toggle-switch-off
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/input-booleans
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: four
                            type: custom:button-card
                            icon: mdi:menu
                            entity: input_boolean.kiosk_mode
                            tap_action:
                              action: toggle
                            show_state: false
                            show_name: false
                            styles:
                              grid:
                                - grid-template-areas: '"i"'
                              card:
                                - background: transparent
                                - border-radius: 100px
                                - height: 30px
                                - margin-top: 5px
                                - border: 1px solid rgba(255,255,255,0.5)
                              state:
                                - color: white
                                - font-size: 12px
                                - padding-right: 8px
                              img_cell:
                                - width: 28px
                                - height: 30px
                              icon:
                                - width: 13px
                                - height: 13px
                                - color: rgba(255,255,255,0.5)
                                - padding-bottom: 4px
                  styles:
                    grid:
                      - grid-template-areas: '"i n btn"'
                      - grid-template-columns: min-content auto min-content
                      - grid-template-rows: min-content
                      - align-items: center
                    card:
                      - background: transparent
                      - height: 45px
                      - padding: 0px
                      - border-radius: 0px
                      - margin-top: '-105px'
                    custom_fields:
                      btn:
                        - justify-content: end
                        - align-self: center
                        - margin-right: 25px
                    name:
                      - justify-self: start
                      - align-self: center
                      - font-size: 18px
                      - font-weight: 500
                      - color: rgba(255,255,255,0.5)
                      - font-weight: regular
                      - margin-left: '-10px'
                      - margin-top: 5px
                    icon:
                      - width: 25px
                      - color: rgba(255,255,255,0.5)
                      - margin-left: '-15px'
                      - margin-top: 5px
                    img_cell:
                      - width: 30px
    max_columns: 4
    cards: []
    background:
      image: /api/image/serve/8dc908e5e8bc4cc0623019a821a9ff5c/original
    icon: mdi:collage
    subview: false
    title: Rooms
  - title: Lights
    path: lights
    icon: mdi:lightbulb-on
    cards: []
    type: sections
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                styles:
                  card:
                    - width: 400px
                    - height: 150px
                    - margin: '-15px'
                    - border-radius: 0px
                    - border: transparent
                    - background: >-
                        linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.5)
                        90%);
            visibility:
              - condition: screen
                media_query: '(min-width: 0px) and (max-width: 767px)'
        visibility:
          - condition: state
            entity: input_boolean.lights_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: lights
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Lights
                styles:
                  card:
                    - margin-top: 68px
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.all_lights
                        state_not: '0'
                    card:
                      type: custom:button-card
                      template: lights_bubble
                      variables:
                        var_entity: sensor.all_lights
                      tap_action:
                        action: call-service
                        service: script.script_toggles_all_lights
                        confirmation:
                          text: |
                            All lights will be turned off.
                      label: All Off
                      icon: mdi:power
                      styles:
                        icon:
                          - color: |
                              [[[
                              if (entity.state > 0)
                                return "rgba(0,0,0,0.9)";
                              ]]]
                        label:
                          - color: |
                              [[[
                              if (entity.state > 0)
                                return "rgba(0,0,0,0.9)";
                              ]]]
                        card:
                          - background-color: rgba(255,255,255,0.8)
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: sensor.all_lights
                    tap_action:
                      action: navigate
                      navigation_path: '#lights-on'
                    label: |
                      [[[ 
                        const state = states['sensor.all_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    styles:
                      icon:
                        - color: |
                            [[[
                            if (entity.state > 0)
                              return "gold";
                            ]]]
                      label:
                        - color: |
                            [[[
                            if (entity.state > 0)
                              return "white";
                            ]]]
                columns: 5
              - type: custom:button-card
                template: lights_headers
                variables:
                  var_name: Living Room
                  var_light: light.living_room_lights
                  var_motion: binary_sensor.epl_living_room_occupancy
          - type: custom:button-card
            name: North Ceiling Light
            show_state: false
            show_icon: false
            entity: light.living_room_north_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.living_room_north_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            name: Middle Ceiling Light
            show_state: false
            show_icon: false
            entity: light.living_room_middle_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.living_room_middle_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            name: TV Strip Light
            show_state: false
            show_icon: false
            entity: light.tv_strip_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:television-ambient-light
                  show_name: false
                  entity: light.tv_strip
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            name: Mushroom
            show_state: false
            show_icon: false
            entity: light.mushroom
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lamp
                  show_name: false
                  entity: light.mushroom
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            name: TV Cabinet Strip
            show_state: false
            show_icon: false
            entity: light.tv_cabinet_hue
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.tv_cabinet_hue
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            name: Hue Play
            show_state: false
            show_icon: false
            entity: light.hue_play_top
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lightbulb-cfl
                  show_name: false
                  entity: light.hue_play_top
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            name: Floor Lamp
            show_state: false
            show_icon: false
            entity: light.floor_lamp
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:floor-lamp-dual
                  show_name: false
                  entity: light.floor_lamp
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Kitchen
              var_light: light.kitchen_lights
              var_motion: binary_sensor.everything_presence_lite_20c1bc_occupancy
          - type: custom:button-card
            name: Kitchen Ceiling Light
            show_state: false
            show_icon: false
            entity: light.kitchen_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.kitchen_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  '-webkit-backdrop-filter': blur(10px); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                -webkit-backdrop-filter: blur(10px); !important;

                }
          - type: custom:button-card
            name: Pendant
            show_state: false
            show_icon: false
            entity: light.pendant
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:ceiling-light-multiple
                  show_name: false
                  entity: light.pendant
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Bench Strip
            show_state: false
            show_icon: false
            entity: light.cabinet_lighting
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.cabinet_lighting
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Bedroom
              var_light: light.bedroom_lights
              var_motion: binary_sensor.presence_sensor_presence
          - type: custom:button-card
            name: Bedroom Ceiling Light
            show_state: false
            show_icon: false
            entity: light.bedroom_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.bedroom_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Bed Light
            show_state: false
            show_icon: false
            entity: light.bed_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.bed_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Hugo
            show_state: false
            show_icon: false
            entity: light.hue_go
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:wall-sconce-round-variant
                  show_name: false
                  entity: light.hue_go
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Bathroom
              var_light: light.bathroom_light
              var_motion: binary_sensor.esp_bathroom_zone_1_occupancy
          - type: custom:button-card
            name: Bathroom Ceiling Light
            show_state: false
            show_icon: false
            entity: light.bathroom_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.bathroom_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Wardrobe
              var_light: light.wardrobe_strip_lights
              var_motion: binary_sensor.hue_motion_sensor_wir
          - type: custom:button-card
            name: Wardrobe
            show_state: false
            show_icon: false
            entity: light.wardrobe_strip_lights
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.wardrobe_strip_lights
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Nursery
              var_light: light.nursery_lights
              var_motion: binary_sensor.nursery_motion_sensor
          - type: custom:button-card
            name: Nursery Ceiling Light
            show_state: false
            show_icon: false
            entity: light.study_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.study_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Nursery Strip Light
            show_state: false
            show_icon: false
            entity: light.nursery_strip
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.nursery_strip
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Luna
            show_state: false
            show_icon: false
            entity: light.luna
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:moon-full
                  show_name: false
                  entity: light.luna
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Study
              var_light: light.study_lights
              var_motion: binary_sensor.epl_study_occupancy
          - type: custom:button-card
            name: Study Ceiling Light
            show_state: false
            show_icon: false
            entity: light.spare_bedroom_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.spare_bedroom_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Desk Lamp
            show_state: false
            show_icon: false
            entity: light.home_desk_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:desk-lamp-on
                  show_name: false
                  entity: light.home_desk_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Desk Strip Light
            show_state: false
            show_icon: false
            entity: light.desk_strip_aqara
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.desk_strip_aqara
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Dining Room
              var_light: light.dining_room_ceiling_light
              var_motion: sensor.unavailable
          - type: custom:button-card
            name: Dining Room
            show_state: false
            show_icon: false
            entity: light.dining_room_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.dining_room_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Candle
            show_state: false
            show_icon: false
            entity: input_boolean.candle
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:candle
                  show_name: false
                  entity: input_boolean.candle
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Patio
              var_light: light.patio_lights
              var_motion: binary_sensor.pergola_motion
          - type: custom:button-card
            name: Patio Festoon
            show_state: false
            show_icon: false
            entity: light.festoon_2
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: light.festoon_2
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Bar Strip
            show_state: false
            show_icon: false
            entity: light.pergola_lightstrip
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.pergola_lightstrip
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Front Yard
              var_light: light.front_yard_lights
              var_motion: input_boolean.front_yard_people
          - type: custom:button-card
            name: Veranda Light
            show_state: false
            show_icon: false
            entity: light.front_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lightbulb-variant
                  show_name: false
                  entity: light.front_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Front Floodlight
            show_state: false
            show_icon: false
            entity: light.front_camera_starling_floodlight
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-flood-down
                  show_name: false
                  entity: light.front_camera_starling_floodlight
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Garden Lights
            show_state: false
            show_icon: false
            entity: switch.festoon_lighting_socket_1
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lightbulb-spot
                  show_name: false
                  entity: switch.festoon_lighting_socket_1
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Driveway
            show_state: false
            show_icon: false
            entity: light.driveway
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lightbulb-variant
                  show_name: false
                  entity: light.driveway
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Backyard
              var_light: light.backyard_lights
              var_motion: input_boolean.backyard_people
          - type: custom:button-card
            name: Backyard Festoon
            show_state: false
            show_icon: false
            entity: switch.backyard_festoon
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: switch.backyard_festoon
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Backyard Floodlight
            show_state: false
            show_icon: false
            entity: light.floodlight
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-flood-down
                  show_name: false
                  entity: light.floodlight
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Garage
              var_light: light.garage_lights
              var_motion: input_boolean.rear_driveway_people
          - type: custom:button-card
            name: Garage Ceiling Light
            show_state: false
            show_icon: false
            entity: light.garage_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.garage_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: String Lights
            show_state: false
            show_icon: false
            entity: light.garage_string_lights
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return "On";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:string-lights
                  show_name: false
                  entity: light.garage_string_lights
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Rear Driveway
            show_state: false
            show_icon: false
            entity: light.rear_driveway_floodlight
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-flood-down
                  show_name: false
                  entity: light.rear_driveway_floodlight
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            name: Garage Lamp
            show_state: false
            show_icon: false
            entity: light.garage_lamp
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:lamp
                  show_name: false
                  entity: light.garage_lamp
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Laundry
              var_light: light.laundry_strip
              var_motion: binary_sensor.laundry_motion_sensor
          - type: custom:button-card
            name: Laundry Strip
            show_state: false
            show_icon: false
            entity: light.laundry_strip
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:led-strip-variant
                  show_name: false
                  entity: light.laundry_strip
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
          - type: custom:button-card
            template: lights_headers
            variables:
              var_name: Hallway
              var_light: light.hallway_ceiling_light
              var_motion: sensor.unavailable
          - type: custom:button-card
            name: Hallway Ceiling Lights
            show_state: false
            show_icon: false
            entity: light.hallway_ceiling_light
            custom_fields:
              num: |
                [[[ 
                  if (entity.state === 'on') {
                    return Math.round(entity.attributes.brightness / 2.55) + "%";
                  } else {
                    return "Off";
                  }
                ]]]
              btn:
                card:
                  type: custom:button-card
                  icon: mdi:light-recessed
                  show_name: false
                  entity: light.hallway_ceiling_light
                  tap_action:
                    action: toggle
                  state:
                    - value: 'on'
                      styles:
                        img_cell:
                          - background: gold
                        icon:
                          - color: white
                  styles:
                    grid:
                      - grid-template-areas: '"i n n" "i s s"'
                        grid-template-columns: 50px 1fr 40px;
                    icon:
                      - width: 25px
                        color: gold
                        border: 10px
                    img_cell:
                      - justify-self: start
                        background: rgba(0,0,0,0.3)
                        border-radius: 50px
                        width: 38px
                        height: 38px
                    card:
                      - padding: 10px 10px 10px 12px
                        width: 65px
                        height: 66px
                        border-radius: 0px
                        background: rgba(0,0,0,0)
            tap_action:
              action: more-info
            state:
              - value: 'on'
                styles:
                  card:
                    - background: white
                      color: white
                      border: 0
                  icon:
                    - color: white
                  img_cell:
                    - background: gold
                  name:
                    - color: black
                  state:
                    - color: rgba(0,0,0,0.5)
                  custom_fields:
                    num:
                      - color: rgba(0,0,0,0.5)
            styles:
              grid:
                - grid-template-areas: '"btn n" "btn num"'
                  grid-template-columns: min-content 1fr;
              name:
                - justify-self: start
                  font-size: 14px
                  font-weight: 550
                  padding-top: 15px
              state:
                - justify-self: start
                  padding-top: 2.5px
                  font-size: 13px
                  font-weight: 400
                  opacity: '0.8'
              custom_fields:
                num:
                  - color: rgba(255,255,255,0.5)
                    justify-self: start
                    align-self: start
                    font-size: 14px
                    padding-bottom: 15px
                    font-weight: 400
              card:
                - padding: 0px 0px 0px 2px
                  border-radius: 20px
                  background-color: rgba(0, 0, 0, 0.3); !important;
            layout_options:
              grid_columns: 2
              grid_rows: 1.2
            card_mod:
              style: |
                ha-card {
                background-color: rgba(0, 0, 0, 0.3); !important;
                }
      - type: grid
        cards:
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    top: 0px;
                    right: -15px !important;
                    width: calc(100% - 20px);
                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 400px;
                  }
                }
                ha-card{
                  margin-top: {% if is_state('input_boolean.kiosk_mode', 'off') %}70px{% else %}0{% endif %}}
            card:
              type: vertical-stack
              cards:
                - type: conditional
                  conditions:
                    - condition: screen
                      media_query: '(min-width: 0px) and (max-width: 767px)'
                  card:
                    type: custom:button-card
                    styles:
                      card:
                        - width: 400px
                        - height: 100px
                        - margin-left: '-15px'
                        - margin-right: '-15px'
                        - margin-top: '-15px'
                        - border-radius: 0px
                        - border: transparent
                        - background: >-
                            linear-gradient(0deg, rgba(0,0,0,0) 0%,
                            rgba(0,0,0,1) 90%);
                - type: custom:button-card
                  name: Home
                  icon: mdi:chevron-left
                  show_state: false
                  show_icon: true
                  show_name: true
                  tap_action:
                    action: navigate
                    navigation_path: lovelace/home-view
                  custom_fields:
                    btn:
                      card:
                        type: custom:layout-card
                        layout_type: custom:grid-layout
                        layout:
                          grid-template-columns: repeat(4, min-content)
                          grid-template-rows: min-content
                          grid-template-areas: '"one two three four"'
                        cards:
                          - view_layout:
                              grid-area: one
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:view-grid
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/rooms
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: two
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:lightbulb
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/lights
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: three
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:toggle-switch-off
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/input-booleans
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: four
                            type: custom:button-card
                            icon: mdi:menu
                            entity: input_boolean.kiosk_mode
                            tap_action:
                              action: toggle
                            show_state: false
                            show_name: false
                            styles:
                              grid:
                                - grid-template-areas: '"i"'
                              card:
                                - background: transparent
                                - border-radius: 100px
                                - height: 30px
                                - margin-top: 5px
                                - border: 1px solid rgba(255,255,255,0.5)
                              state:
                                - color: white
                                - font-size: 12px
                                - padding-right: 8px
                              img_cell:
                                - width: 28px
                                - height: 30px
                              icon:
                                - width: 13px
                                - height: 13px
                                - color: rgba(255,255,255,0.5)
                                - padding-bottom: 4px
                  styles:
                    grid:
                      - grid-template-areas: '"i n btn"'
                      - grid-template-columns: min-content auto min-content
                      - grid-template-rows: min-content
                      - align-items: center
                    card:
                      - background: transparent
                      - height: 45px
                      - padding: 0px
                      - border-radius: 0px
                      - margin-top: '-105px'
                    custom_fields:
                      btn:
                        - justify-content: end
                        - align-self: center
                        - margin-right: 25px
                    name:
                      - justify-self: start
                      - align-self: center
                      - font-size: 18px
                      - font-weight: 500
                      - color: rgba(255,255,255,0.5)
                      - font-weight: regular
                      - margin-left: '-10px'
                      - margin-top: 5px
                    icon:
                      - width: 25px
                      - color: rgba(255,255,255,0.5)
                      - margin-left: '-15px'
                      - margin-top: 5px
                    img_cell:
                      - width: 30px
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#lights-on'
                margin_top_mobile: '-56px'
                bg_opacity: '0'
                bg_blur: '25'
              - square: true
                type: grid
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.all_lights
                        state_not: '0'
                    card:
                      type: custom:button-card
                      template: lights_bubble
                      variables:
                        var_entity: sensor.all_lights
                      tap_action:
                        action: call-service
                        service: script.script_toggles_all_lights
                        confirmation:
                          text: |
                            All lights will be turned off.
                      label: All Off
                      icon: mdi:power
                      styles:
                        icon:
                          - color: |
                              [[[
                              if (entity.state > 0)
                                return "rgba(0,0,0,0.9)";
                              ]]]
                        label:
                          - color: |
                              [[[
                              if (entity.state > 0)
                                return "rgba(0,0,0,0.9)";
                              ]]]
                        card:
                          - background-color: rgba(255,255,255,0.8)
                            margin-top: 10px
                  - type: custom:button-card
                    template: lights_bubble
                    variables:
                      var_entity: sensor.all_lights
                    tap_action:
                      action: navigate
                      navigation_path: '#lights-on'
                    label: |
                      [[[ 
                        const state = states['sensor.all_lights'].state;
                        if (parseInt(state, 10) === 0) {
                          return "None";
                        } else if (parseInt(state, 10) === 1) {
                          return `${state} On`;
                        } else {
                          return `${state} On`;
                        }
                      ]]]
                    styles:
                      icon:
                        - color: |
                            [[[
                            if (entity.state > 0)
                              return "gold";
                            ]]]
                      label:
                        - color: |
                            [[[
                            if (entity.state > 0)
                              return "white";
                            ]]]
                      card:
                        - margin-top: 10px
                          background-color: black
                columns: 5
              - type: custom:button-card
                template: lights_headers
                variables:
                  var_name: All Lights
                  var_light: script.script_toggles_all_lights
                tap_action:
                  action: call-service
                  service: script.script_toggles_all_lights
                  confirmation:
                    text: |
                      All lights will be turned off.
              - type: custom:auto-entities
                card:
                  type: entities
                  state_color: true
                  card_mod:
                    style: |
                      ha-card {
                        background-color: transparent;
                        margin-left: -20px;
                        margin-right: -20px;
                        margin-top: -20px;

                      }
                      .card-content {
                        background-color: transparent;
                        color: rgba(255,255,255,0.5);
                      }
                      :host {
                      }
                filter:
                  include:
                    - domain: light
                      state: 'on'
                  exclude:
                    - name: study Ambient
                    - name: Backyard Lights
                    - name: study Lights
                    - name: study Lights
                    - name: Spare study Lights
                    - name: Kitchen Lights
                    - name: study Lights
                    - name: study Lights
                    - name: Back House Ceiling Lights
                    - name: Ambient Lights
                    - name: Floor Lamp Middle
                    - name: Floor Lamp Bottom
                    - name: Floor Lamp Top
                    - name: Left
                    - name: Middle
                    - name: Right
                    - name: Other Lights
                    - name: Driveway Left
                    - name: Driveway Right
                    - name: study Ambient Lights
                    - name: Study Ambient Lights
                    - name: Study Lights
                    - name: Spare Bedroom Lights
                    - name: Front Yard Lights
                    - name: Garage Lights
                    - name: Bedroom Ambient Lights
                    - name: Bedroom Lights
                    - name: Living Room Lights
                    - name: Back House Lights
                    - name: Living Room Ambient
                    - name: Patio Lights
                sort:
                  method: last_changed
                show_empty: false
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#menu'
                show_header: false
                button_type: switch
                entity: person.alistair_merritt
                bg_opacity: '0'
                hide_backdrop: false
                bg_blur: '25'
                margin_top_desktop: 0px
                margin_top_mobile: 10px
                open_action: {}
                close_on_click: true
              - type: custom:button-card
                entity: input_boolean.home_dash
                name: Home
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.all_dash_off"}
                     )
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.favourites_dash_2"}
                     )     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/home-view");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.home_dash
                name: Overview
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.favourites_dash_2"}
                     )

                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bedroom_dash
                name: Bedroom
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.bedroom_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.living_room_dash
                name: Living Room
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.living_room_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                    - padding-left: 80px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-red)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.kitchen_dash
                name: Kitchen
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.kitchen_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-blue)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.nursery_dash
                name: Nursery
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.nursery_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#ffc700'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.study_dash
                name: Study
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.study_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.patio_dash
                name: Patio
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.patio_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#a650a7'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.front_yard_dash
                name: Front Yard
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.front_yard_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.backyard_dash
                name: Backyard
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.backyard_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.garage_dash
                name: Garage
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.garage_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bathroom_dash
                name: Bathroom
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.bathroom_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.other_dash
                name: Other
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.other_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                icon: mdi:close
                show_name: false
                tap_action:
                  action: navigate
                  navigation_path: '#menu'
                styles:
                  icon:
                    - width: 30px
                    - color: rgba(255,255,255,0.3)
                  img_cell:
                    - width: 50px
                    - height: 35px
                    - border-radius: 0px
                  card:
                    - background: none
                    - border-radius: 0px
                    - padding: 0
                    - align-content: end
                    - margin-left: 142px
                    - padding-bottom: 30px
                  label:
                    - font-size: 10px
                    - font-weight: 400
                    - letter-spacing: 0em
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(0, 0, 0, 0.3) !important;
                    }
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    right: 20px !important;
                    width: calc(100% - 20px);
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(0, 0, 0, 0.3) !important;
                    border-width: 3px;
                    border-radius: 100px;
                    padding: 10px;
                    drop-shadow: 0px 0px 0px 0px rgba(0,0,0,1)

                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 70px;
                    right: 18px;
                  }
                }
            card:
              type: custom:button-card
              icon: mdi:plus
              show_name: false
              tap_action:
                action: navigate
                navigation_path: '#menu'
              styles:
                icon:
                  - width: 30px
                  - color: rgba(255,255,255,0.3)
                img_cell:
                  - width: 50px
                  - height: 50px
                  - border-radius: 0px
                card:
                  - background: none
                  - border-radius: 0px
                  - padding: 0
                label:
                  - font-size: 10px
                  - font-weight: 400
                  - letter-spacing: 0em
    background:
      image: /api/image/serve/c6b505d1dd5223091cd11bbb6c705220/original
  - title: Input Booleans
    path: input-booleans
    icon: mdi:toggle-switch
    type: sections
    sections:
      - type: grid
        cards: []
        visibility:
          - condition: state
            entity: input_boolean.lights_dash
            state: 'on'
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: input_booleans
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                template: room_header
                variables:
                  var_name: Input Booleans
                styles:
                  card:
                    - margin-top: 68px
              - type: custom:button-card
                template: first_subheading
                variables:
                  var_device: Overrides
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card{
                  padding: 10px 0px 10px 0px;
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  -webkit-backdrop-filter: blur(10px); !important;
                  }
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Kitchen Override
                    var_entity: input_boolean.kitchen_override
                    var_icon: mdi:cancel
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Living Room Override
                    var_entity: input_boolean.living_room_override
                    var_icon: mdi:cancel
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Bedroom Override
                    var_entity: input_boolean.bedroom_override
                    var_icon: mdi:cancel
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Closet Override
                    var_entity: input_boolean.closet_override
                    var_icon: mdi:cancel
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Bathroom Override
                    var_entity: input_boolean.bathroom_override
                    var_icon: mdi:cancel
                    var_color: var(--label-badge-red)
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Dependants
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card{
                  padding: 10px 0px 10px 0px;
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  -webkit-backdrop-filter: blur(10px); !important;
                  }
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Sleep In Mode
                    var_entity: input_boolean.sleep_in_mode
                    var_icon: mdi:sleep
                    var_color: var(--label-badge-blue)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Alistair Sleeping
                    var_entity: input_boolean.alistair_sleep_focus
                    var_icon: mdi:sleep
                    var_color: var(--label-badge-green)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Andreia Sleeping
                    var_entity: input_boolean.andreia_sleep_focus
                    var_icon: mdi:sleep
                    var_color: var(--label-badge-green)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Don't Lock
                    var_entity: input_boolean.don_t_lock
                    var_icon: mdi:lock-off
                    var_color: '#ffa915'
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: People Over
                    var_entity: input_boolean.people_over
                    var_icon: mdi:party-popper
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Babysitter
                    var_entity: input_boolean.babysitter
                    var_icon: mdi:cradle
                    var_color: '#ffa915'
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Guest Mode
                    var_entity: input_boolean.guest_mode
                    var_icon: mdi:account-group
                    var_color: var(--label-badge-blue)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Kitchen Dim
                    var_entity: input_boolean.kitchen_dim
                    var_icon: mdi:moon-waning-crescent
                    var_color: '#ffa915'
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Apple TV in Use
                    var_entity: input_boolean.apple_tv_in_use
                    var_icon: mdi:set-top-box
                    var_color: var(--label-badge-blue)
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Other
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card{
                  padding: 10px 0px 10px 0px;
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  -webkit-backdrop-filter: blur(10px); !important;
                  }
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: House Occupancy
                    var_entity: input_boolean.house_occupancy
                    var_icon: mdi:home
                    var_color: var(--label-badge-blue)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Arthur Sleeping
                    var_entity: input_boolean.arthur_asleep
                    var_icon: mdi:sleep
                    var_color: var(--label-badge-red)
                - type: entities
                  entities:
                    - type: divider
                      style:
                        height: 1px
                        width: 95%
                        margin-left: auto
                        margin-right: auto
                        background: rgba(255,255,255,0.1)
                  card_mod:
                    style: |
                      ha-card {
                      background: transparent;
                      }

                      #states.card-content {
                      padding: 0px 0px 0px 0px;
                      }
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Arthur at Daycare
                    var_entity: input_boolean.arthur_at_daycare
                    var_icon: mdi:teddy-bear
                    var_color: var(--label-badge-yellow)
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Scripts
          - type: custom:mod-card
            card_mod:
              style: |
                ha-card{
                  padding: 10px 0px 10px 0px;
                  background-color: rgba(0, 0, 0, 0.3); !important;
                  -webkit-backdrop-filter: blur(10px); !important;
                  }
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  template: toggle_switch
                  variables:
                    var_name: Refresh Cubo
                    var_entity: script.refresh_cubo_camera
                    var_icon: mdi:refresh
                    var_color: var(--label-badge-blue)
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#nursery_homepod'
                bg_opacity: '0'
                bg_blur: '25'
                margin_top_mobile: '-56px'
              - type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: transparent
                    - webkit-backdrop-filter: blur(10px); !important
                    - box-shadow: none
                    - border-radius: 20px
                    - border-width: 0px
                    - margin: 0px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_name: false
                          show_icon: false
                          show_label: false
                          show_entity_picture: true
                          styles:
                            card:
                              - background: none
                              - padding: 0px
                              - border-radius: 20px
                              - border-width: 0px
                              - padding-bottom: 20px
                            entity_picture:
                              - height: 100%
                              - width: 100%
                              - object-fit: cover
                              - border-radius: 20px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_name: false
                          show_icon: false
                          custom_fields:
                            title:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_title != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_title;
                                  ]]]
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - padding-top: 5px
                                    - font-size: 20px
                                    - font-weight: 600
                                    - color: rgba(255,255,255,0.9)
                            artist:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_artist != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_artist;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                            entity:
                              card:
                                type: custom:button-card
                                tap_action:
                                  action: none
                                name: |
                                  [[[
                                    if (states['media_player.bedroom_homepod'].attributes.media_album_name != undefined) 
                                    return states['media_player.bedroom_homepod'].attributes.media_album_name;
                                  ]]]
                                show_label: true
                                show_icon: false
                                styles:
                                  card:
                                    - box-shadow: none
                                    - background: none
                                    - padding: 0px
                                    - border-radius: 0px
                                    - border-width: 0px
                                  name:
                                    - justify-self: center
                                    - font-size: 20px
                                    - font-weight: 400
                                    - color: rgba(255,255,255,0.3)
                          styles:
                            grid:
                              - grid-template-areas: ' "i" "title" "artist" "entity" '
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content 1fr 1fr 1fr
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0 5px
                              - margin: 5px 0 10px 0
                        - type: custom:my-slider-v2
                          entity: media_player.bedroom_homepod
                          mode: seekbar
                          min: 0
                          max: 100
                          styles:
                            card:
                              - height: 20px
                              - box-shadow: none
                              - margin: 20px 0 0 0
                              - background: none
                            container:
                              - border-radius: 0px
                              - background: none
                              - padding: 0 0 0 5px
                            track:
                              - background: rgba(255,255,255,0.3)
                              - border-radius: 99px
                              - padding: 0 0px 0 0px
                              - width: 97%
                              - height: 7px
                              - margin: 0px 0 0 0
                            progress:
                              - background: rgba(255,255,255,0.9)
                              - border-radius: 25px 0px 0px 25px
                              - height: 7px
                              - margin: 0 0 0 0
                            thumb:
                              - background: rgba(255,255,255,0.9)
                              - width: 5px
                              - height: 7px
                              - border-radius: 0px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  previous:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_previous_track
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      icon: mdi:rewind
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  play:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_play_pause
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      hold_action:
                                        action: call-service
                                        service: media_player.turn_off
                                        target:
                                          entity_id:
                                            - media_player.bedroom_homepod
                                      entity: media_player.bedroom_homepod
                                      icon: mdi:play
                                      state:
                                        - value: playing
                                          icon: mdi:pause
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 45px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: media_player.media_next_track
                                        target:
                                          entity_id: media_player.bedroom_homepod
                                      icon: mdi:fast-forward
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  star:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: url
                                        url_path: shortcuts://run-shortcut?name=HomeKit
                                      icon: mdi:apple-keyboard-command
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.bedroom_homepod
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 2fr 3fr 3fr 3fr 2fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"star previous play next menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 15px 0px
                              - margin: 20px 0px 20px 0px
                        - type: custom:button-card
                          entity: media_player.bedroom_homepod
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.bedroom_homepod
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.bedroom_homepod
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.bedroom_homepod
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: '-5px'
      - type: grid
        cards:
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    top: 0px;
                    right: -15px !important;
                    width: calc(100% - 20px);
                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 400px;
                  }
                }
                ha-card{
                  margin-top: {% if is_state('input_boolean.kiosk_mode', 'off') %}70px{% else %}0{% endif %}}
            card:
              type: vertical-stack
              cards:
                - type: conditional
                  conditions:
                    - condition: screen
                      media_query: '(min-width: 0px) and (max-width: 767px)'
                  card:
                    type: custom:button-card
                    styles:
                      card:
                        - width: 400px
                        - height: 100px
                        - margin-left: '-15px'
                        - margin-right: '-15px'
                        - margin-top: '-15px'
                        - border-radius: 0px
                        - border: transparent
                        - background: >-
                            linear-gradient(0deg, rgba(0,0,0,0) 0%,
                            rgba(0,0,0,1) 90%);
                - type: custom:button-card
                  name: Home
                  icon: mdi:chevron-left
                  show_state: false
                  show_icon: true
                  show_name: true
                  tap_action:
                    action: navigate
                    navigation_path: lovelace/home-view
                  custom_fields:
                    btn:
                      card:
                        type: custom:layout-card
                        layout_type: custom:grid-layout
                        layout:
                          grid-template-columns: repeat(4, min-content)
                          grid-template-rows: min-content
                          grid-template-areas: '"one two three four"'
                        cards:
                          - view_layout:
                              grid-area: one
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:view-grid
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/rooms
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: two
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:lightbulb
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/lights
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: three
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:toggle-switch-off
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/input-booleans
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: four
                            type: custom:button-card
                            icon: mdi:menu
                            entity: input_boolean.kiosk_mode
                            tap_action:
                              action: toggle
                            show_state: false
                            show_name: false
                            styles:
                              grid:
                                - grid-template-areas: '"i"'
                              card:
                                - background: transparent
                                - border-radius: 100px
                                - height: 30px
                                - margin-top: 5px
                                - border: 1px solid rgba(255,255,255,0.5)
                              state:
                                - color: white
                                - font-size: 12px
                                - padding-right: 8px
                              img_cell:
                                - width: 28px
                                - height: 30px
                              icon:
                                - width: 13px
                                - height: 13px
                                - color: rgba(255,255,255,0.5)
                                - padding-bottom: 4px
                  styles:
                    grid:
                      - grid-template-areas: '"i n btn"'
                      - grid-template-columns: min-content auto min-content
                      - grid-template-rows: min-content
                      - align-items: center
                    card:
                      - background: transparent
                      - height: 45px
                      - padding: 0px
                      - border-radius: 0px
                      - margin-top: '-105px'
                    custom_fields:
                      btn:
                        - justify-content: end
                        - align-self: center
                        - margin-right: 25px
                    name:
                      - justify-self: start
                      - align-self: center
                      - font-size: 18px
                      - font-weight: 500
                      - color: rgba(255,255,255,0.5)
                      - font-weight: regular
                      - margin-left: '-10px'
                      - margin-top: 5px
                    icon:
                      - width: 25px
                      - color: rgba(255,255,255,0.5)
                      - margin-left: '-15px'
                      - margin-top: 5px
                    img_cell:
                      - width: 30px
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#menu'
                show_header: false
                button_type: switch
                entity: person.alistair_merritt
                bg_opacity: '0'
                hide_backdrop: false
                bg_blur: '25'
                margin_top_desktop: 0px
                margin_top_mobile: 10px
                open_action: {}
                close_on_click: true
              - type: custom:button-card
                entity: input_boolean.home_dash
                name: Home
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.all_dash_off"}
                     )
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.favourites_dash_2"}
                     )     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/home-view");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.home_dash
                name: Overview
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.favourites_dash_2"}
                     )

                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bedroom_dash
                name: Bedroom
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.bedroom_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-green)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.living_room_dash
                name: Living Room
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.living_room_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                    - padding-left: 80px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-red)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.kitchen_dash
                name: Kitchen
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.kitchen_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: var(--label-badge-blue)
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.nursery_dash
                name: Nursery
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.nursery_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#ffc700'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.study_dash
                name: Study
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.study_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f88219'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.patio_dash
                name: Patio
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.patio_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#a650a7'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.front_yard_dash
                name: Front Yard
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.front_yard_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.backyard_dash
                name: Backyard
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.backyard_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.garage_dash
                name: Garage
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.garage_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.bathroom_dash
                name: Bathroom
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.bathroom_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms/");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                entity: input_boolean.other_dash
                name: Other
                state:
                  - value: 'off'
                    styles:
                      name:
                        - opacity: 0.3
                show_state: false
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.other_dash_2"}
                     )
                     
                     
                     //window.scrollTo({ top: 0, left: 0, behavior: 'smooth' })

                     window.history.pushState(null,"","/lovelace/rooms");
                     window.dispatchEvent(new CustomEvent("location-changed"));
                     ]]] 
                styles:
                  grid:
                    - grid-template-areas: '"i n"'
                    - grid-template-columns: min-content
                    - grid-template-rows: min-content
                  card:
                    - background: transparent
                    - border-radius: 0px
                    - width: 332px
                    - height: 35px
                    - align-content: end
                    - padding: 0px
                  name:
                    - font-size: 25px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - padding-left: 20px
                    - justify-self: end
                    - align-self: end
                  img_cell:
                    - width: 35px
                    - height: 35px
                    - border-radius: 100%
                    - justify-content: end
                    - background: '#f7509f'
                  icon:
                    - width: 25px
                    - height: 25px
                    - color: white
                show_icon: false
                show_name: true
              - type: custom:button-card
                icon: mdi:close
                show_name: false
                tap_action:
                  action: navigate
                  navigation_path: '#menu'
                styles:
                  icon:
                    - width: 30px
                    - color: rgba(255,255,255,0.3)
                  img_cell:
                    - width: 50px
                    - height: 35px
                    - border-radius: 0px
                  card:
                    - background: none
                    - border-radius: 0px
                    - padding: 0
                    - align-content: end
                    - margin-left: 142px
                    - padding-bottom: 30px
                  label:
                    - font-size: 10px
                    - font-weight: 400
                    - letter-spacing: 0em
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(0, 0, 0, 0.3) !important;
                    }
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    bottom: 20px;
                    right: 20px !important;
                    width: calc(100% - 20px);
                    -webkit-backdrop-filter: blur(10px); !important;
                    background-color: rgba(0, 0, 0, 0.3) !important;
                    border-width: 3px;
                    border-radius: 100px;
                    padding: 10px;
                    drop-shadow: 0px 0px 0px 0px rgba(0,0,0,1)

                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 70px;
                    right: 18px;
                  }
                }
            card:
              type: custom:button-card
              icon: mdi:plus
              show_name: false
              tap_action:
                action: navigate
                navigation_path: '#menu'
              styles:
                icon:
                  - width: 30px
                  - color: rgba(255,255,255,0.3)
                img_cell:
                  - width: 50px
                  - height: 50px
                  - border-radius: 0px
                card:
                  - background: none
                  - border-radius: 0px
                  - padding: 0
                label:
                  - font-size: 10px
                  - font-weight: 400
                  - letter-spacing: 0em
    background:
      image: /api/image/serve/e658e7ca25dea05f34f37b41e1055841/original
    cards: []
  - title: Remote
    path: remote
    icon: m3s:remote-gen-outlined-filled
    cards: []
    subview: true
    type: sections
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:anchor-card
                anchor_id: input_booleans
                negative_margin: 10
                timeout: 200
                offset: -5
                backout: true
              - type: custom:button-card
                name: Living Room TV
                entity: media_player.living_room_tv
                icon: mdi:power
                tap_action:
                  action: toggle
                state:
                  - value: 'on'
                    styles:
                      icon:
                        - color: black
                        - background-color: rgba(255,255,255,0.9)
                      card:
                        - border: none
                  - value: 'off'
                    styles:
                      icon:
                        - color: rgba(255,255,255,0.5)
                        - background-color: transparent
                        - border: 2px solid rgba(255,255,255,0.5)
                      card:
                        - border: none
                show_state: false
                show_name: true
                show_icon: true
                styles:
                  grid:
                    - grid-template-areas: '"n i"'
                    - grid-template-columns: 1fr auto
                  card:
                    - background: transparent
                    - padding-right: 5px
                    - margin-top: 50px
                  icon:
                    - justify-self: end
                    - align-self: center
                    - padding: 5px
                    - width: 35px
                    - height: 35px
                    - border-radius: 50%
                    - border: 2px solid rgba(255,255,255,0.5)
                    - color: rgba(255,255,255,0.5)
                  name:
                    - justify-self: start
                    - font-size: 30px
                    - font-weight: 500
                    - color: var(--primary-text-color)
                    - font-weight: bold
                    - filter: drop-shadow(rgba(0,0,0,0.5) 0.1rem 0.1rem 1.5px)
                  img_cell:
                    - justify-content: end
                    - align-items: center
                    - display: flex
                    - background-color: transparent
              - type: conditional
                conditions:
                  - condition: state
                    entity: media_player.living_room_tv
                    state_not: 'off'
                card:
                  type: custom:button-card
                  template: first_subheading
                  variables:
                    var_device: Now Playing
                  styles:
                    card:
                      - margin-top: 0px
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.living_room_tv
                state_not: 'off'
            card:
              type: vertical-stack
              cards:
                - type: custom:button-card
                  show_icon: false
                  show_name: false
                  show_state: false
                  styles:
                    grid:
                      - grid-template-areas: '"content"'
                      - grid-template-columns: 1fr
                      - grid-template-rows: max-content
                    card:
                      - background-color: rgba(255,255,255,0.2)
                      - webkit-backdrop-filter: blur(10px); !important;}
                      - box-shadow: none
                      - border-radius: 20px
                      - border-width: 0px
                      - padding: 10px
                      - margin: 0px
                      - margin-bottom: 0px
                  custom_fields:
                    content:
                      card:
                        type: vertical-stack
                        cards:
                          - type: custom:button-card
                            entity: media_player.living_room_tv
                            show_entity_picture: true
                            entity_picture: >
                              [[[ return states['sensor.media_picture'].state;
                              ]]]
                            show_name: false
                            show_icon: false
                            custom_fields:
                              entity:
                                card:
                                  type: custom:button-card
                                  tap_action:
                                    action: none
                                  name: Living Room TV
                                  show_label: true
                                  show_icon: false
                                  styles:
                                    card:
                                      - box-shadow: none
                                      - background: none
                                      - padding: 0px
                                      - border-radius: 0px
                                      - border-width: 0px
                                    name:
                                      - justify-self: start
                                      - padding-left: 15px
                                      - font-size: 13px
                                      - font-weight: 600
                                      - color: rgba(255,255,255,0.3)
                              title:
                                card:
                                  type: custom:button-card
                                  tap_action:
                                    action: none
                                  name: |
                                    [[[
                                       if (states['media_player.living_room_tv'].attributes.media_title != undefined) 
                                       return states['media_player.living_room_tv'].attributes.media_title;
                                    ]]]
                                  show_icon: false
                                  styles:
                                    card:
                                      - box-shadow: none
                                      - background: none
                                      - padding: 0px
                                      - border-radius: 0px
                                      - border-width: 0px
                                    name:
                                      - justify-self: start
                                      - padding-left: 15px
                                      - padding-top: 5px
                                      - font-size: 20px
                                      - font-weight: 600
                                      - color: rgba(255,255,255,0.9)
                              artist:
                                card:
                                  type: custom:button-card
                                  tap_action:
                                    action: none
                                  name: |
                                    [[[
                                       if (states['media_player.living_room_tv'].attributes.media_channel != undefined) 
                                       return states['media_player.living_room_tv'].attributes.media_channel;
                                    ]]]
                                  show_label: true
                                  show_icon: false
                                  styles:
                                    card:
                                      - box-shadow: none
                                      - background: none
                                      - padding: 0px
                                      - border-radius: 0px
                                      - border-width: 0px
                                    name:
                                      - justify-self: start
                                      - padding-left: 15px
                                      - font-size: 20px
                                      - font-weight: 400
                                      - color: rgba(255,255,255,0.3)
                            styles:
                              grid:
                                - grid-template-areas: '"i entity" "i title" "i artist" "i album" '
                                - grid-template-columns: max-content 1fr
                                - grid-template-rows: max-content max-content max-content;
                                - align-items: end
                              card:
                                - background: none
                                - box-shadow: none
                                - border-radius: 0px
                                - border-width: 0px
                                - padding: 0px 0px 0 5px
                                - margin: 5px 0 -10px 0
                              entity_picture:
                                - align-self: start
                                - justify-self: start
                                - width: 70px
                                - border-radius: 10px
                          - type: custom:my-slider-v2
                            entity: media_player.living_room_tv
                            mode: seekbar
                            min: 0
                            max: 100
                            styles:
                              card:
                                - height: 20px
                                - box-shadow: none
                                - margin: 30px 0 0 0
                                - background: none
                              container:
                                - border-radius: 0px
                                - background: none
                                - padding: 0 0 0 5px
                              track:
                                - background: rgba(255,255,255,0.3)
                                - border-radius: 99px
                                - padding: 0 0px 0 0px
                                - width: 97%
                                - height: 7px
                                - margin: 0px 0 0 0
                              progress:
                                - background: rgba(255,255,255,0.9)
                                - border-radius: 30px 0px 0px 25px
                                - height: 7px
                                - margin: 0 0 0 0
                              thumb:
                                - background: rgba(255,255,255,0.9)
                                - width: 5px
                                - height: 7px
                                - border-radius: 0px
                          - type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.apple_tv_in_use
                                state: 'off'
                            card:
                              type: markdown
                              content: |
                                {{ states('input_text.tv_show_summary') }}
                              card_mod:
                                style: |
                                  ha-card {
                                    background-color: transparent;
                                    color: rgba(255,255,255,0.3);
                                    margin: -10px;
                                    text-align: left;
                                    font-weight: 400;
                                    font-size: 15px;
                                    line-height: 1.4;
                                  }
                  card_mod:
                    style: |
                      ha-card {
                        background-color: rgba(255,255,255,0.3); !important;
                        -webkit-backdrop-filter: blur(10px); !important;}
                        }
          - type: custom:button-card
            template: sub_headings
            variables:
              var_name: Channels
            tap_action:
              action: navigate
              navigation_path: null
          - type: custom:layout-card
            layout_type: grid
            layout:
              grid-template-columns: repeat(3, 1fr)
              grid-template-rows: repeat(2, auto)
              grid-gap: 10px
            cards:
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_tv
                  var_image: url('/local/images/streaming/ABC.jpg')
                  var_script: script.abc
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_tv
                  var_image: url('/local/images/streaming/Seven.png')
                  var_script: script.1683453148468
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_tv
                  var_image: url('/local/images/streaming/Nine.png')
                  var_script: script.channel_9
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_tv
                  var_image: url('/local/images/streaming/Ten.png')
                  var_script: script.channel_10
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_apple_tv
                  var_image: url('/local/images/streaming/YouTube.png')
                  var_script: script.youtube
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.youtube"}
                     )
                     
                     window.open("shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV");
                    ]]]
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_apple_tv
                  var_image: url('/local/images/streaming/Apple-TV.png')
                  var_script: script.appletv
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.appletv"}
                     )
                     
                     window.open("shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV");
                    ]]]
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_apple_tv
                  var_image: url('/local/images/streaming/Kayo-2.png')
                  var_script: script.kayo
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.kayo"}
                     )
                     
                     window.open("shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV");
                    ]]]
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_apple_tv
                  var_image: url('/local/images/streaming/Netflix.png')
                  var_script: script.netflix
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.netflix"}
                     )
                     
                     window.open("shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV");
                    ]]]
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_apple_tv
                  var_image: url('/local/images/streaming/Binge.png')
                  var_script: script.binge
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.binge"}
                     )
                     
                     window.open("shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV");
                    ]]]
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_apple_tv
                  var_image: url('/local/images/streaming/Paramount.png')
                  var_script: script.paramount
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.paramount"}
                     )
                     
                     window.open("shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV");
                    ]]]
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_apple_tv
                  var_image: url('/local/images/streaming/Disney.png')
                  var_script: script.disney
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.disney"}
                     )
                     
                     window.open("shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV");
                    ]]]
              - type: custom:button-card
                template: channel_card
                variables:
                  var_entity: media_player.living_room_apple_tv
                  var_image: url('/local/images/streaming/Prime.png')
                  var_script: script.prime
                tap_action:
                  action: custom
                  custom: |
                    [[[
                     hass.callService(
                       "script",
                       "turn_on",
                       { entity_id: "script.prime"}
                     )
                     
                     window.open("shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV");
                    ]]]
      - type: grid
        cards:
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    top: 0px;
                    right: -15px !important;
                    width: calc(100% - 20px);
                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 400px;
                  }
                }
                ha-card{
                  margin-top: {% if is_state('input_boolean.kiosk_mode', 'off') %}70px{% else %}0{% endif %}}
            card:
              type: vertical-stack
              cards:
                - type: conditional
                  conditions:
                    - condition: screen
                      media_query: '(min-width: 0px) and (max-width: 767px)'
                  card:
                    type: custom:button-card
                    styles:
                      card:
                        - width: 400px
                        - height: 100px
                        - margin-left: '-15px'
                        - margin-right: '-15px'
                        - margin-top: '-15px'
                        - border-radius: 0px
                        - border: transparent
                        - background: >-
                            linear-gradient(0deg, rgba(0,0,0,0) 0%,
                            rgba(0,0,0,1) 90%);
                - type: custom:button-card
                  name: Home
                  icon: mdi:chevron-left
                  show_state: false
                  show_icon: true
                  show_name: true
                  tap_action:
                    action: navigate
                    navigation_path: lovelace/home-view
                  custom_fields:
                    btn:
                      card:
                        type: custom:layout-card
                        layout_type: custom:grid-layout
                        layout:
                          grid-template-columns: repeat(4, min-content)
                          grid-template-rows: min-content
                          grid-template-areas: '"one two three four"'
                        cards:
                          - view_layout:
                              grid-area: one
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:view-grid
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/rooms
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: two
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:lightbulb
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/lights
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: three
                            type: conditional
                            conditions:
                              - condition: state
                                entity: input_boolean.kiosk_mode
                                state: 'on'
                            card:
                              type: custom:button-card
                              icon: mdi:toggle-switch-off
                              tap_action:
                                action: navigate
                                navigation_path: /lovelace/input-booleans
                              show_state: false
                              show_name: false
                              styles:
                                grid:
                                  - grid-template-areas: '"i"'
                                card:
                                  - background: transparent
                                  - border-radius: 100px
                                  - height: 30px
                                  - margin-top: 5px
                                  - border: 1px solid rgba(255,255,255,0.5)
                                state:
                                  - color: white
                                  - font-size: 12px
                                  - padding-right: 8px
                                img_cell:
                                  - width: 28px
                                  - height: 30px
                                icon:
                                  - width: 13px
                                  - height: 13px
                                  - color: rgba(255,255,255,0.5)
                                  - padding-bottom: 4px
                          - view_layout:
                              grid-area: four
                            type: custom:button-card
                            icon: mdi:menu
                            entity: input_boolean.kiosk_mode
                            tap_action:
                              action: toggle
                            show_state: false
                            show_name: false
                            styles:
                              grid:
                                - grid-template-areas: '"i"'
                              card:
                                - background: transparent
                                - border-radius: 100px
                                - height: 30px
                                - margin-top: 5px
                                - border: 1px solid rgba(255,255,255,0.5)
                              state:
                                - color: white
                                - font-size: 12px
                                - padding-right: 8px
                              img_cell:
                                - width: 28px
                                - height: 30px
                              icon:
                                - width: 13px
                                - height: 13px
                                - color: rgba(255,255,255,0.5)
                                - padding-bottom: 4px
                  styles:
                    grid:
                      - grid-template-areas: '"i n btn"'
                      - grid-template-columns: min-content auto min-content
                      - grid-template-rows: min-content
                      - align-items: center
                    card:
                      - background: transparent
                      - height: 45px
                      - padding: 0px
                      - border-radius: 0px
                      - margin-top: '-105px'
                    custom_fields:
                      btn:
                        - justify-content: end
                        - align-self: center
                        - margin-right: 25px
                    name:
                      - justify-self: start
                      - align-self: center
                      - font-size: 18px
                      - font-weight: 500
                      - color: rgba(255,255,255,0.5)
                      - font-weight: regular
                      - margin-left: '-10px'
                      - margin-top: 5px
                    icon:
                      - width: 25px
                      - color: rgba(255,255,255,0.5)
                      - margin-left: '-15px'
                      - margin-top: 5px
                    img_cell:
                      - width: 30px
          - type: custom:mod-card
            card_mod:
              style: |
                @media (min-width:180px) {
                  ha-card {
                    z-index: 1;
                    position: fixed;
                    bottom: 0px;
                    left: 0px !important;
                    width: calc(100% - 20px);
                  }
                }
                @media (min-width:70px) {
                  ha-card {
                    width: 390px;
                  }
                }
                ha-card{
                  margin-top: {% if is_state('input_boolean.kiosk_mode', 'off') %}70px{% else %}0{% endif %}}
            card:
              type: conditional
              conditions:
                - condition: screen
                  media_query: '(min-width: 0px) and (max-width: 767px)'
              card:
                type: custom:button-card
                show_icon: false
                show_name: false
                show_state: false
                styles:
                  grid:
                    - grid-template-areas: '"content"'
                    - grid-template-columns: 1fr
                    - grid-template-rows: max-content
                  card:
                    - background-color: rgba(0,0,0,0.5)
                    - webkit-backdrop-filter: blur(10px); !important;}
                    - box-shadow: none
                    - border-radius: 0px
                    - border-width: 0px
                    - padding: 10px
                    - margin: 0px
                    - margin-bottom: 0px
                custom_fields:
                  content:
                    card:
                      type: vertical-stack
                      cards:
                        - type: custom:button-card
                          entity: media_player.living_room_tv
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            buttons:
                              card:
                                type: custom:button-card
                                custom_fields:
                                  mute:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: perform-action
                                        perform_action: script.mute_tv
                                      icon: mdi:volume-off
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin: 0px
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                  prev:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: remote.send_command
                                        service_data:
                                          entity_id: remote.living_room_tv
                                          command: ChannelDown
                                      entity: media_player.living_room_tv
                                      icon: mdi:chevron-down
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                          - padding: 0px
                                          - margin-bottom: 0px
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  next:
                                    card:
                                      type: custom:button-card
                                      tap_action:
                                        action: call-service
                                        service: remote.send_command
                                        service_data:
                                          entity_id: remote.living_room_tv
                                          command: ChannelUp
                                      icon: mdi:chevron-up
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 35px
                                          - color: rgba(255,255,255,0.5)
                                  input:
                                    card:
                                      type: custom:button-card
                                      entity: input_boolean.hdmi_toggle
                                      tap_action:
                                        action: toggle
                                      icon: mdi:exit-to-app
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                      state:
                                        - value: 'on'
                                          icon: mdi:apple
                                        - value: 'off'
                                          icon: mdi:television
                                  remote:
                                    card:
                                      type: vertical-stack
                                      cards:
                                        - type: conditional
                                          conditions:
                                            - entity: input_boolean.apple_tv_in_use
                                              state: 'on'
                                          card:
                                            type: custom:button-card
                                            icon: m3s:remote-gen-outlined-filled
                                            tap_action:
                                              action: url
                                              url_path: >-
                                                shortcuts://run-shortcut?name=Living%20Room%20Apple%20TV
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                        - type: conditional
                                          conditions:
                                            - entity: input_boolean.apple_tv_in_use
                                              state: 'off'
                                          card:
                                            type: custom:button-card
                                            icon: m3s:remote-gen-outlined-filled
                                            tap_action:
                                              action: url
                                              url_path: >-
                                                shortcuts://run-shortcut?name=TV%20Remote
                                            show_name: false
                                            styles:
                                              card:
                                                - border-radius: 5px
                                                - border-width: 0px
                                                - box-shadow: none
                                                - background: rgba(255,255,255,0.0)
                                                - align-self: end
                                                - align-content: end
                                              icon:
                                                - width: 25px
                                                - color: rgba(255,255,255,0.5)
                                  menu:
                                    card:
                                      type: custom:button-card
                                      entity: media_player.living_room_tv
                                      tap_action:
                                        action: more-info
                                      icon: mdi:menu
                                      show_name: false
                                      styles:
                                        card:
                                          - border-radius: 5px
                                          - border-width: 0px
                                          - box-shadow: none
                                          - background: rgba(255,255,255,0.0)
                                          - align-self: end
                                          - align-content: end
                                        icon:
                                          - width: 25px
                                          - color: rgba(255,255,255,0.5)
                                styles:
                                  grid:
                                    - grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr
                                    - grid-template-rows: min-content
                                    - grid-template-areas: '"remote mute prev next input menu"'
                                  card:
                                    - padding: 0 0 0 0px
                                    - margin: 3px 0px -6px 0px
                                    - align-self: end
                                    - background: none
                                    - box-shadow: none
                                    - border-width: 0px
                                    - border-radius: 0px
                          styles:
                            grid:
                              - grid-template-areas: '"buttons"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: >-
                                  max-content max-content max-content
                                  max-content;
                              - align-items: end
                            card:
                              - background: transparent
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 10px 0px 25px 0px
                              - margin: '-10px 0px -15px 0px'
                        - type: custom:button-card
                          entity: media_player.living_room_tv
                          show_entity_picture: false
                          show_name: false
                          show_icon: false
                          custom_fields:
                            volume_control:
                              card:
                                type: horizontal-stack
                                cards:
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_down
                                      target:
                                        entity_id:
                                          - media_player.living_room_tv
                                    icon: mdi:volume-medium
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                                  - type: custom:my-slider-v2
                                    entity: media_player.living_room_tv
                                    attribute: volume_level
                                    min: 0
                                    max: 100
                                    step: 2
                                    styles:
                                      card:
                                        - box-shadow: none
                                        - margin: 9px 0 0 0
                                        - background: none
                                      container:
                                        - border-radius: 0px
                                        - background: none
                                        - padding: 0 0 0 0px
                                      track:
                                        - background: rgba(255,255,255,0.3)
                                        - border-radius: 99px
                                        - width: 100%
                                        - height: 7px
                                        - margin: 0px 0 0 0
                                      progress:
                                        - background: rgba(255,255,255,0.9)
                                        - border-radius: 25px 0px 0px 25px
                                        - height: 7px
                                      thumb:
                                        - background: rgba(255,255,255,0.9)
                                        - width: 5px
                                        - height: 7px
                                        - border-radius: 0px
                                  - type: custom:button-card
                                    tap_action:
                                      action: call-service
                                      service: media_player.volume_up
                                      target:
                                        entity_id:
                                          - media_player.living_room_tv
                                    icon: mdi:volume-high
                                    show_name: false
                                    styles:
                                      card:
                                        - border-radius: 5px
                                        - width: 30px
                                        - border-width: 0px
                                        - box-shadow: none
                                        - background: rgba(255,255,255,0.0)
                                        - align-self: end
                                        - align-content: end
                                      icon:
                                        - width: 20px
                                        - color: rgba(255,255,255,0.5)
                          styles:
                            grid:
                              - grid-template-areas: '"volume_control"'
                              - grid-template-columns: 1fr
                              - grid-template-rows: max-content;
                              - align-items: end
                            card:
                              - background: none
                              - box-shadow: none
                              - border-radius: 0px
                              - border-width: 0px
                              - padding: 0px 0px 0px 0px
                              - margin-bottom: 20px
                card_mod:
                  style: |
                    ha-card {
                      background-color: rgba(0, 0, 0, 0.5); !important;
                      -webkit-backdrop-filter: blur(10px); !important;}
                      }
    max_columns: 4
